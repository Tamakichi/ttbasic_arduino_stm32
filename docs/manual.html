<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.7.1">
<meta name="description" content="">
<meta name="author" content="たま吉さん">
<title>豊四季Tiny BASIC for Arduino STM32 V0.87 リファレンスマニュアル</title>
<style>
/* Asciidoctor default stylesheet | MIT License | http://asciidoctor.org */
/* Uncomment @import statement below to use as custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}
audio,canvas,video{display:inline-block}
audio:not([controls]){display:none;height:0}
script{display:none!important}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:transparent}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*::before,*::after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:none}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #ddddd8;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite::before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt,table tr:nth-of-type(even){background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
*:not(pre)>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background-color:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed;word-wrap:break-word}
*:not(pre)>code.nobreak{word-wrap:normal}
*:not(pre)>code.nowrap{white-space:nowrap}
pre,pre>code{line-height:1.45;color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;text-rendering:optimizeSpeed}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background-color:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #ddddd8}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #ddddd8;padding-bottom:8px}
#header .details{border-bottom:1px solid #ddddd8;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #ddddd8;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #efefed;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background-color:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #efefed;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #efefed;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background-color:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #efefed}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #ddddd8;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock pre:not(.highlight),.listingblock pre[class="highlight"],.listingblock pre[class^="highlight "],.listingblock pre.CodeRay,.listingblock pre.prettyprint{background:#f7f7f8}
.sidebarblock .literalblock pre,.sidebarblock .listingblock pre:not(.highlight),.sidebarblock .listingblock pre[class="highlight"],.sidebarblock .listingblock pre[class^="highlight "],.sidebarblock .listingblock pre.CodeRay,.sidebarblock .listingblock pre.prettyprint{background:#f2f1f1}
.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;padding:1em;font-size:.8125em}
.literalblock pre.nowrap,.literalblock pre[class].nowrap,.listingblock pre.nowrap,.listingblock pre[class].nowrap{overflow-x:auto;white-space:pre;word-wrap:normal}
@media screen and (min-width:768px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:1em}}
.literalblock.output pre{color:#f7f7f8;background-color:rgba(0,0,0,.9)}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:#999}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:#999}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
table.pyhltable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.pyhltable td{vertical-align:top;padding-top:0;padding-bottom:0;line-height:1.45}
table.pyhltable td.code{padding-left:.75em;padding-right:0}
pre.pygments .lineno,table.pyhltable td:not(.code){color:#999;padding-left:0;padding-right:.5em;border-right:1px solid #ddddd8}
pre.pygments .lineno{display:inline-block;margin-right:.25em}
table.pyhltable .linenodiv{background:none!important;padding-right:0!important}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock blockquote p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.5em;margin-right:.5ex;text-align:right}
.quoteblock .quoteblock{margin-left:0;margin-right:0;padding:.5em 0;border-left:3px solid rgba(0,0,0,.6)}
.quoteblock .quoteblock blockquote{padding:0 0 0 .75em}
.quoteblock .quoteblock blockquote::before{display:none}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.abstract blockquote,.quoteblock.abstract blockquote p{word-spacing:0;line-height:1.6}
.quoteblock.abstract blockquote::before,.quoteblock.abstract p::before{display:none}
table.tableblock{max-width:100%;border-collapse:separate}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>thead>tr>.tableblock,table.grid-all>tbody>tr>.tableblock{border-width:0 1px 1px 0}
table.grid-all>tfoot>tr>.tableblock{border-width:1px 1px 0 0}
table.grid-cols>*>tr>.tableblock{border-width:0 1px 0 0}
table.grid-rows>thead>tr>.tableblock,table.grid-rows>tbody>tr>.tableblock{border-width:0 0 1px}
table.grid-rows>tfoot>tr>.tableblock{border-width:1px 0 0}
table.grid-all>*>tr>.tableblock:last-child,table.grid-cols>*>tr>.tableblock:last-child{border-right-width:0}
table.grid-all>tbody>tr:last-child>.tableblock,table.grid-all>thead:last-child>tr>.tableblock,table.grid-rows>tbody>tr:last-child>.tableblock,table.grid-rows>thead:last-child>tr>.tableblock{border-bottom-width:0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot,table.frame-ends{border-width:1px 0}
table.stripes-all tr,table.stripes-odd tr:nth-of-type(odd){background:#f8f8f7}
table.stripes-none tr,table.stripes-odd tr:nth-of-type(even){background:none}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
td>div.verse{white-space:pre}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.inline{display:-ms-flexbox;display:-webkit-box;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left,.imageblock[style*="float: left"]{margin:.25em .625em 1.25em 0}
.imageblock.right,.imageblock[style*="float: right"]{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background-color:#00fafa}
.black{color:#000}
.black-background{background-color:#000}
.blue{color:#0000bf}
.blue-background{background-color:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background-color:#fa00fa}
.gray{color:#606060}
.gray-background{background-color:#7d7d7d}
.green{color:#006000}
.green-background{background-color:#007d00}
.lime{color:#00bf00}
.lime-background{background-color:#00fa00}
.maroon{color:#600000}
.maroon-background{background-color:#7d0000}
.navy{color:#000060}
.navy-background{background-color:#00007d}
.olive{color:#606000}
.olive-background{background-color:#7d7d00}
.purple{color:#600060}
.purple-background{background-color:#7d007d}
.red{color:#bf0000}
.red-background{background-color:#fa0000}
.silver{color:#909090}
.silver-background{background-color:#bcbcbc}
.teal{color:#006060}
.teal-background{background-color:#007d7d}
.white{color:#bfbfbf}
.white-background{background-color:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background-color:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background-color:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background-color:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #ddddd8!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media print,amzn-kf8{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}

</style>
</head>
<body class="book toc2 toc-left">
<div id="header">
<h1>豊四季Tiny BASIC for Arduino STM32 V0.87 リファレンスマニュアル</h1>
<div class="details">
<span id="author" class="author">たま吉さん</span><br>
<span id="email" class="email"><a href="mailto:tamacat2014@gmail.com">tamacat2014@gmail.com</a></span><br>
<span id="revnumber">バージョン 0.87(Draft) 2018/12/13</span>
</div>
<div id="toc" class="toc2">
<div id="toctitle">目次</div>
<ul class="sectlevel1">
<li><a href="#_定数リファレンス">1. 定数リファレンス</a>
<ul class="sectlevel2">
<li><a href="#LOW">1.1. HIGH,LOW</a></li>
<li><a href="#OFF">1.2. ON,OFF</a></li>
<li><a href="#_メモリ領域先頭アドレス定数">1.3. メモリ領域</a></li>
<li><a href="#GH">1.4. CW,CH,GW,GH</a></li>
<li><a href="#DIRECTION">1.5. 方向を示す定数</a></li>
<li><a href="#_ピン番号定数">1.6. ピン番号定数</a></li>
<li><a href="#GPIO_Mode">1.7. GPIOモード</a></li>
<li><a href="#MSB">1.8. LSB,MSB</a></li>
</ul>
</li>
<li><a href="#_コマンド概要">2. コマンド概要</a>
<ul class="sectlevel2">
<li><a href="#_制御命令">2.1. 制御命令</a></li>
<li><a href="#_システム">2.2. システム</a></li>
<li><a href="#_プログラム管理">2.3. プログラム管理</a></li>
<li><a href="#_テキスト画面入出力">2.4. テキスト画面入出力</a></li>
<li><a href="#_数値文字列操作">2.5. 数値・文字列操作</a></li>
<li><a href="#_仮想メモリー参照">2.6. 仮想メモリー参照</a></li>
<li><a href="#_時間">2.7. 時間</a></li>
<li><a href="#_gpio_io入出力">2.8. GPIO I/O入出力</a></li>
<li><a href="#_サウンド">2.9. サウンド</a></li>
<li><a href="#_ファイル操作">2.10. ファイル操作</a></li>
<li><a href="#_グラフィック表示">2.11. グラフィック表示</a></li>
<li><a href="#_シリアル通信">2.12. シリアル通信</a></li>
<li><a href="#_仮想eeprom">2.13. 仮想EEPROM</a></li>
<li><a href="#_漢字フォント">2.14. 漢字フォント</a></li>
</ul>
</li>
<li><a href="#_コマンド詳細">3. コマンド詳細</a>
<ul class="sectlevel2">
<li><a href="#_制御命令_2">3.1. 制御命令</a>
<ul class="sectlevel3">
<li><a href="#GOTO">3.1.1. GOTO</a></li>
<li><a href="#GOSUB">3.1.2. GOSUB</a></li>
<li><a href="#RETURN">3.1.3. RETURN</a></li>
<li><a href="#IF">3.1.4. IF</a></li>
<li><a href="#FOR">3.1.5. FOR TO NEXT</a></li>
<li><a href="#END">3.1.6. END</a></li>
</ul>
</li>
<li><a href="#_システム_2">3.2. システム</a>
<ul class="sectlevel3">
<li><a href="#BANK">3.2.1. BANK</a></li>
<li><a href="#CONFIG">3.2.2. CONFIG</a></li>
<li><a href="#FWRITE">3.2.3. FWRITE</a></li>
<li><a href="#SAVECONFIG">3.2.4. SAVECONFIG</a></li>
<li><a href="#SYSINFO">3.2.5. SYSINFO</a></li>
</ul>
</li>
<li><a href="#_プログラム管理_2">3.3. プログラム管理</a>
<ul class="sectlevel3">
<li><a href="#CLV">3.3.1. CLV</a></li>
<li><a href="#CONSOLE">3.3.2. CONSOLE</a></li>
<li><a href="#DELETE">3.3.3. DELETE</a></li>
<li><a href="#ERASE">3.3.4. ERASE</a></li>
<li><a href="#EXPORT">3.3.5. EXPORT</a></li>
<li><a href="#FILES">3.3.6. FILES</a></li>
<li><a href="#FREES">3.3.7. FREE</a></li>
<li><a href="#LIST">3.3.8. LIST</a></li>
<li><a href="#LOAD">3.3.9. LOAD</a></li>
<li><a href="#LRUN">3.3.10. LRUN</a></li>
<li><a href="#NEW">3.3.11. NEW</a></li>
<li><a href="#REM">3.3.12. REM</a></li>
<li><a href="#RENUM">3.3.13. RENUM</a></li>
<li><a href="#RUN">3.3.14. RUN</a></li>
<li><a href="#SAVE">3.3.15. SAVE</a></li>
<li><a href="#WIDTH">3.3.16. WIDTH</a></li>
</ul>
</li>
<li><a href="#_テキスト画面入出力_2">3.4. テキスト画面入出力</a>
<ul class="sectlevel3">
<li><a href="#AATTR">3.4.1. ATTR</a></li>
<li><a href="#CLS">3.4.2. CLS</a></li>
<li><a href="#COLOR">3.4.3. COLOR</a></li>
<li><a href="#GETS">3.4.4. GETS</a></li>
<li><a href="#INKEY">3.4.5. INKEY</a></li>
<li><a href="#INPUT">3.4.6. INPUT</a></li>
<li><a href="#LOCATE">3.4.7. LOCATE</a></li>
<li><a href="#PRINT">3.4.8. PRINT</a></li>
<li><a href="#REDRAW">3.4.9. REDRAW</a></li>
<li><a href="#VPEEK">3.4.10. VPEEK</a></li>
</ul>
</li>
<li><a href="#_数値文字列操作_2">3.5. 数値・文字列操作</a>
<ul class="sectlevel3">
<li><a href="#ABS">3.5.1. ABS</a></li>
<li><a href="#ASC">3.5.2. ASC</a></li>
<li><a href="#BIN">3.5.3. BIN$</a></li>
<li><a href="#BYTE">3.5.4. BYTE</a></li>
<li><a href="#CHR">3.5.5. CHR$</a></li>
<li><a href="#DMP">3.5.6. DMP$</a></li>
<li><a href="#HEX">3.5.7. HEX$</a></li>
<li><a href="#LEN">3.5.8. LEN</a></li>
<li><a href="#LET">3.5.9. LET</a></li>
<li><a href="#MAP">3.5.10. MAP</a></li>
<li><a href="#RND">3.5.11. RND</a></li>
<li><a href="#STR">3.5.12. STR$</a></li>
<li><a href="#STRCMP">3.5.13. STRCMP</a></li>
</ul>
</li>
<li><a href="#_仮想メモリー参照_2">3.6. 仮想メモリー参照</a>
<ul class="sectlevel3">
<li><a href="#PEEK">3.6.1. PEEK</a></li>
<li><a href="#POKE">3.6.2. POKE</a></li>
</ul>
</li>
<li><a href="#_時間_2">3.7. 時間</a>
<ul class="sectlevel3">
<li><a href="#TICK">3.7.1. TICK</a></li>
<li><a href="#DATE">3.7.2. DATE</a></li>
<li><a href="#GETDATE">3.7.3. GETDATE</a></li>
<li><a href="#GETTIME">3.7.4. GETTIME</a></li>
<li><a href="#CLT">3.7.5. CLT</a></li>
<li><a href="#SETDATE">3.7.6. SETDATE</a></li>
<li><a href="#WAIT">3.7.7. WAIT</a></li>
</ul>
</li>
<li><a href="#_gpio_io入出力_2">3.8. GPIO I/O入出力</a>
<ul class="sectlevel3">
<li><a href="#ANA">3.8.1. ANA</a></li>
<li><a href="#GPIO">3.8.2. GPIO</a></li>
<li><a href="#I2CCLK">3.8.3. I2CCLK</a></li>
<li><a href="#I2CR">3.8.4. I2CR</a></li>
<li><a href="#I2CW">3.8.5. I2CW</a></li>
<li><a href="#IN">3.8.6. IN</a></li>
<li><a href="#SHIFTIN">3.8.7. SHIFTIN</a></li>
<li><a href="#SHIFTOUT">3.8.8. SHIFTOUT</a></li>
<li><a href="#OUT">3.8.9. OUT</a></li>
<li><a href="#POUT">3.8.10. POUT</a></li>
<li><a href="#PULSEIN">3.8.11. PULSEIN</a></li>
</ul>
</li>
<li><a href="#_サウンド_2">3.9. サウンド</a>
<ul class="sectlevel3">
<li><a href="#NOTONE">3.9.1. NOTONE</a></li>
<li><a href="#PLAY">3.9.2. PLAY</a></li>
<li><a href="#TEMPO">3.9.3. TEMPO</a></li>
<li><a href="#TONE">3.9.4. TONE</a></li>
</ul>
</li>
<li><a href="#_ファイル操作_2">3.10. ファイル操作</a>
<ul class="sectlevel3">
<li><a href="#BLOAD">3.10.1. BLOAD</a></li>
<li><a href="#BSAVE">3.10.2. BSAVE</a></li>
<li><a href="#CAT">3.10.3. CAT</a></li>
<li><a href="#LDBMP">3.10.4. LDBMP</a></li>
<li><a href="#MKDIR">3.10.5. MKDIR</a></li>
<li><a href="#REMOVE">3.10.6. REMOVE</a></li>
<li><a href="#RMDIR">3.10.7. RMDIR</a></li>
</ul>
</li>
<li><a href="#_グラフィック表示_2">3.11. グラフィック表示</a>
<ul class="sectlevel3">
<li><a href="#BITMAP">3.11.1. BITMAP</a></li>
<li><a href="#CIRCLE">3.11.2. CIRCLE</a></li>
<li><a href="#CSCROLLL">3.11.3. CSCROLL</a></li>
<li><a href="#DWBMP">3.11.4. DWBMP</a></li>
<li><a href="#GCLS">3.11.5. GCLS</a></li>
<li><a href="#GCOLOR">3.11.6. GCOLOR</a></li>
<li><a href="#GINP">3.11.7. GINP</a></li>
<li><a href="#GPEEK">3.11.8. GPEEK</a></li>
<li><a href="#GPRINT">3.11.9. GPRINT</a></li>
<li><a href="#GSCROLLL">3.11.10. GSCROLL</a></li>
<li><a href="#LINE">3.11.11. LINE</a></li>
<li><a href="#PSET">3.11.12. PSET</a></li>
<li><a href="#RECT">3.11.13. RECT</a></li>
<li><a href="#RGB">3.11.14. RGB</a></li>
<li><a href="#SCREEN">3.11.15. SCREEN</a></li>
</ul>
</li>
<li><a href="#_シリアル通信_2">3.12. シリアル通信</a>
<ul class="sectlevel3">
<li><a href="#SCLOSE">3.12.1. SCLOSE</a></li>
<li><a href="#SMODE">3.12.2. SMODE</a></li>
<li><a href="#SOPEN">3.12.3. SOPEN</a></li>
<li><a href="#SPRINT">3.12.4. SPRINT</a></li>
<li><a href="#SREAD">3.12.5. SREAD</a></li>
<li><a href="#SREADY">3.12.6. SREADY</a></li>
<li><a href="#SWRITE">3.12.7. SWRITE</a></li>
</ul>
</li>
<li><a href="#_仮想eeprom_2">3.13. 仮想EEPROM</a>
<ul class="sectlevel3">
<li><a href="#EEPFORMAT">3.13.1. EEPFORMAT</a></li>
<li><a href="#EEPREAD">3.13.2. EEPREAD</a></li>
<li><a href="#EEPWRITE">3.13.3. EEPWRITE</a></li>
</ul>
</li>
<li><a href="#_漢字フォント_2">3.14. 漢字フォント</a>
<ul class="sectlevel3">
<li><a href="#KANJI">3.14.1. KANJI</a></li>
<li><a href="#KFONT">3.14.2. KFONT</a></li>
<li><a href="#SETKANJI">3.14.3. SETKANJI</a></li>
<li><a href="#ZEN">3.14.4. ZEN</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="_定数リファレンス">1. 定数リファレンス</h2>
<div class="sectionbody">
<div class="paragraph">
<p>「<strong>Tiny BASIC for Arduino STM32</strong>」ではプログラム内に定数の記述が可能です。<br>
定数はコマンドの引数や式の中で数値関数と同等に利用出来ます。</p>
</div>
<div class="sect2">
<h3 id="LOW">1.1. HIGH,LOW</h3>
<div class="paragraph">
<p>1ビット入出力値 <strong>HIGH</strong>、<strong>LOW</strong></p>
</div>
<div class="paragraph">
<p>デジタル入出力のロジックレベルを表す定数です。<br>
値は次の通りです。</p>
</div>
<table class="tableblock frame-all grid-all fit-content">
<colgroup>
<col>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">定数</th>
<th class="tableblock halign-center valign-top">値</th>
<th class="tableblock halign-center valign-top">概要</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>LOW</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0V、ロジック LOW</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>HIGH</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3.3V、ロジック HIGH</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>GPIO入出力コマンド(<strong><a href="#IN">IN</a></strong>、<strong><a href="#OUT">OUT</a></strong> など)の引数や <strong><a href="#IF">IF</a></strong> 文の条件式等にて利用出来ます。</p>
</div>
<hr>
<div style="page-break-after: always;"></div>
</div>
<div class="sect2">
<h3 id="OFF">1.2. ON,OFF</h3>
<div class="paragraph">
<p>1ビットの状態 <strong>ON</strong>、<strong>OFF</strong></p>
</div>
<div class="paragraph">
<p>2値の状態を表す定数です。<br>
値は次の通りです。</p>
</div>
<table class="tableblock frame-all grid-all fit-content">
<colgroup>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">定数</th>
<th class="tableblock halign-center valign-top">値</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>OFF</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">0</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><code>ON</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>各コマンドの引数、<strong><a href="#IF">IF</a></strong> 文、数式等にて利用出来ます。</p>
</div>
<hr>
<div style="page-break-after: always;"></div>
</div>
<div class="sect2">
<h3 id="_メモリ領域先頭アドレス定数">1.3. メモリ領域</h3>
<div class="paragraph">
<p><strong>VRAM</strong>、<strong>VAR</strong>、<strong>ARRAY</strong>、<strong>PRG</strong>、<strong>MEM</strong>、<strong>FNT</strong>、<strong>GRAM</strong> 、<strong>PRG2</strong></p>
</div>
<div class="paragraph">
<p>データ領域を参照するための定数です。<br>
各定数の詳細は次の通りです。</p>
</div>
<table class="tableblock frame-all grid-all fit-content">
<colgroup>
<col>
<col>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">定数名</th>
<th class="tableblock halign-center valign-top">値</th>
<th class="tableblock halign-center valign-top">領域サイズ</th>
<th class="tableblock halign-center valign-top">用途</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VRAM</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">$0000</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">(可変)<br>
最大6,400</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">スクリーン表示用メモリ（CW×CH)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>VAR</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">$1900</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">440</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">変数領域（A～Z, A0～Z6)+ 4バイト</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ARRAY</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">$1AA0</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">200</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">配列変数領域(@(0)～@(99) )</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>PRG</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">$1BA0</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">4,096</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">プログラム領域</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>MEM</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">$2BA0</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1,024</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ユーザーワーク領域</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>FNT</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">$2FA0</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2,048</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">フォント256文字(フラッシュメモリ)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>GRAM</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">$37A0</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">(最大)<br>
可変6,048</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">グラフィック表示用メモリ</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>PRG2</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">$4F40</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">4,096</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">バンク指定プログラム領域(フラッシュメモリ)<br>
 <a href="#BANK"><strong>BANK</strong></a>コマンドで0～5のプログラム保存領域を切り替えて参照可能</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>定数値のアドレスは仮想的なアドレスです。実アドレスとは異なります。<br>
<a href="#BITMAP"><strong>BITMAP</strong></a>、<a href="#BLOAD"><strong>BLOAD</strong></a>、<a href="#BSAVE"><strong>BSAVE</strong></a>、<a href="#FWRITE"><strong>FERITE</strong></a>、<a href="#GETS"><strong>GETS</strong></a>、<a href="#I2CR"><strong>I2CR</strong></a>、<a href="#I2CW"><strong>I2CW</strong></a>、<a href="#KFONT"><strong>KFONT</strong></a>、<br>
<a href="#LDBMP"><strong>LDBMP</strong></a>、<a href="#PEEK"><strong>PEEK</strong></a>、<a href="#POKE"><strong>POKE</strong></a>等の仮想メモリ領域を利用するコマンドで利用できます。</p>
</div>
<hr>
<div style="page-break-after: always;"></div>
</div>
<div class="sect2">
<h3 id="GH">1.4. CW,CH,GW,GH</h3>
<div class="paragraph">
<p>画面サイズの定数 <strong>CW</strong>、<strong>CH</strong>、<strong>GW</strong>、<strong>GH</strong></p>
</div>
<div class="paragraph">
<p>画面サイズを参照する定数です。<br>
定数の値は、利用するデバイス画面、画面関連の設定により異なります。</p>
</div>
<table class="tableblock frame-all grid-all fit-content">
<colgroup>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">定数</th>
<th class="tableblock halign-center valign-top">概要</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>CW</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">キャラクタ画面の横文字数</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>CH</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">キャラクタ画面の縦行数</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>GW</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">グラフィック画面の横ドット数</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>GH</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">グラフィック画面の縦ドット数</p></td>
</tr>
</tbody>
</table>
<hr>
<div style="page-break-after: always;"></div>
</div>
<div class="sect2">
<h3 id="DIRECTION">1.5. 方向を示す定数</h3>
<div class="paragraph">
<p>方向を示す定数 <strong>UP</strong>、<strong>DOWN</strong>、<strong>RIGHT</strong>、<strong>LEFT</strong></p>
</div>
<div class="paragraph">
<p><strong><a href="#CSCROLLL">CSCROLL</a></strong>、<strong><a href="#GSCROLLL">GSCROLL</a></strong> コマンドでスクロール方向を指定に利用出来ます。</p>
</div>
<table class="tableblock frame-all grid-all fit-content">
<colgroup>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">定数</th>
<th class="tableblock halign-center valign-top">値</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>UP</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">0</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>DOWN</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>RIGHT</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>LEFT</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">3</p></td>
</tr>
</tbody>
</table>
<hr>
<div style="page-break-after: always;"></div>
</div>
<div class="sect2">
<h3 id="_ピン番号定数">1.6. ピン番号定数</h3>
<div class="paragraph">
<p><strong>PA</strong> n、<strong>PB</strong> n 、 <strong>PC</strong> n (nは数値)</p>
</div>
<div class="paragraph">
<p>各ピン番号定数に実際のピン番号0 ～ 34が割り当てられています。</p>
</div>
<div class="paragraph">
<p><a href="#ANA"><strong>ANA</strong></a>、<a href="#GPIO"><strong>GPIO</strong></a>、<a href="#I2CR"><strong>I2CR</strong></a>、<a href="#I2CW"><strong>I2CW</strong></a>、<a href="#IN"><strong>IN</strong></a>、<a href="#OUT"><strong>OUT</strong></a>、<a href="#POUT"><strong>POUT</strong></a>、<a href="#PULSEIN"><strong>PULSEIN</strong></a>、<a href="#SHIFTIN"><strong>SHIFTIN</strong></a>、<br>
<a href="#SHIFTOUT"><strong>SHIFTOUT</strong></a>等のコマンド・関数のピン番号の指定に利用します。</p>
</div>
<div class="paragraph">
<div class="title">利用可能なピン番号定数</div>
<p><strong>PA0</strong>、 <strong>PA1</strong>、 <strong>PA2</strong>、 <strong>PA3</strong>、 <strong>PA4</strong>、 <strong>PA5</strong>、 <strong>PA6</strong>、 <strong>PA7</strong>、 <strong>PA8</strong><br>
<strong>PA9</strong>、 <strong>PA10</strong>、 <strong>PA11</strong>、 <strong>PA12</strong>、 <strong>PA13</strong>、 <strong>PA14</strong>、 <strong>PA15</strong><br>
<strong>PB0</strong>、 <strong>PB1</strong>、 <strong>PB2</strong>、 <strong>PB3</strong>、 <strong>PB4</strong>、 <strong>PB5</strong>、 <strong>PB6</strong>、 <strong>PB7</strong>、 <strong>PB8</strong><br>
<strong>PB9</strong>、 <strong>PB10</strong>、 <strong>PB11</strong>、 <strong>PB12</strong>、 <strong>PB13</strong>、 <strong>PB14</strong>、 <strong>PB15</strong><br>
<strong>PC13</strong>、<strong>PC14</strong>、 <strong>PC15</strong></p>
</div>
<div class="paragraph">
<p>ピン番号定数と値の対応は次の通りです。<br>
<strong>PA0</strong> ～ <strong>PA15</strong> ：0 ～ 15 に対応<br>
<strong>PB0</strong> ～ <strong>PB15</strong> ：16 ～ 31 に対応<br>
<strong>PC13</strong> ～ <strong>PC15</strong> ：32 ～ 34 に対応</p>
</div>
<hr>
<div style="page-break-after: always;"></div>
</div>
<div class="sect2">
<h3 id="GPIO_Mode">1.7. GPIOモード</h3>
<div class="paragraph">
<p><strong>OUTPUT</strong>、<strong>OUTPUT_OD</strong>、<strong>INPUT_FL</strong>、
<strong>INPUT_PU</strong>、<strong>INPUT_PD</strong>、<strong>ANALOG</strong>、<strong>PWM</strong></p>
</div>
<div class="paragraph">
<p><strong><a href="#GPIO">GPIO</a></strong> コマンドのモード設定を行うための定数です。</p>
</div>
<table class="tableblock frame-all grid-all fit-content">
<colgroup>
<col>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">定数</th>
<th class="tableblock halign-center valign-top">値</th>
<th class="tableblock halign-center valign-top">概要</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>OUTPUT</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">デジタル出力</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>OUTPUT_OD</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">デジタル出力（オープンドレイン）</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>INPUT_FL</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">デジタル入力（フロート状態：ArduinoのINPUT指定と同じ）</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ANALOG</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">アナログ入力</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>INPUT_PU</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">デジタル入力（内部プルアップ抵抗有効）</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>INPUT_PD</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">デジタル（内部プルダウン抵抗有効）</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>PWM</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PWM出力</p></td>
</tr>
</tbody>
</table>
<hr>
<div style="page-break-after: always;"></div>
</div>
<div class="sect2">
<h3 id="MSB">1.8. LSB,MSB</h3>
<div class="paragraph">
<p>ビット方向定数
<strong>LSB</strong>、 <strong>MSB</strong></p>
</div>
<div class="paragraph">
<p>ビット送受信等で上位、下位を指定するための定数です。<br></p>
</div>
<div class="paragraph">
<p><strong><a href="#SHIFTOUT">SHIFTOUT</a></strong>、<strong><a href="#SHIFTIN">SHIFTIN</a></strong> コマンドで利用します。</p>
</div>
<table class="tableblock frame-all grid-all fit-content">
<colgroup>
<col>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">定数</th>
<th class="tableblock halign-center valign-top">値</th>
<th class="tableblock halign-center valign-top">概要</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>LSB</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">下位ビットから送受信</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>MSB</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">上位ビットから送受信</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_コマンド概要">2. コマンド概要</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_制御命令">2.1. 制御命令</h3>
<div class="paragraph">
<p>プログラムは通常、先頭行から行番号順に実行されます。<br>
ここに示す制御命令を用いることでプログラムの実行の条件分岐、繰り返し、終了の制御を行うことが出来ます。</p>
</div>
<div class="paragraph">
<p>以下に制御命令の一覧を示します。</p>
</div>
<table class="tableblock frame-all grid-all fit-content">
<colgroup>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">制御命令・書式</th>
<th class="tableblock halign-center valign-top">概要</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><a href="#END">END</a></strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">プログラムの終了</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><a href="#FOR">FOR</a></strong> 変数 <strong>=</strong> 初期値 <strong><a href="#FOR">TO</a></strong> 最終値 [<strong><a href="#FOR">STEP</a></strong> 増分]<br>
　<em>＜繰り返し実行文(複数行可能)＞</em><br>
<strong><a href="#FOR">NEXT</a></strong> 変数</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">処理の繰り返し</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><a href="#GOSUB">GOSUB</a></strong> 行番号<br>
<strong><a href="#GOSUB">GOSUB</a></strong> "ラベル"</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">サブルーチンの呼び出し</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><a href="#GOTO">GOTO</a></strong> 行番号<br>
<strong><a href="#GOTO">GOTO</a></strong> "ラベル"</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">指定行にジャンプ</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><a href="#IF">IF</a></strong> 条件式 真の場合の実行文<br>
<strong><a href="#IF">IF</a></strong> 条件式 真の場合の実行文 <strong><a href="#IF">ELSE</a></strong> 偽の場合の実行文</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">条件判定を行う</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><a href="#RETURN">RETURN</a></strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">サブルーチンからの復帰</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>各制御命令の詳細についれは、それぞれの命令文のコマンドリファレンスを参照してください。</p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="_システム">2.2. システム</h3>
<div class="paragraph">
<p>システムに関する操作を行うコマンドです。</p>
</div>
<div class="paragraph">
<p>以下にコマンド・関数の一覧を示します。</p>
</div>
<table class="tableblock frame-all grid-all fit-content">
<colgroup>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">コマンド・書式</th>
<th class="tableblock halign-center valign-top">概要</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><a href="#BANK">BANK</a></strong> プログラム番号</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PRG2参照領域バンク切り替え</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><a href="#CONFIG">CONFIG</a></strong> 項目番号, 設定値 [,設定値2, 設定値3]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">システム環境設定</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><a href="#FWRITE">FWRITE</a></strong>  アドレス, データ</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">プログラム保存領域へのデータ書き込み</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><a href="#SAVECONFIG">SAVECONFIG</a></strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">システム環境設定の保存</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><a href="#SYSINFO">SYSINFO</a></strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">システム情報の表示</p></td>
</tr>
</tbody>
</table>
<hr>
</div>
<div class="sect2">
<h3 id="_プログラム管理">2.3. プログラム管理</h3>
<div class="paragraph">
<p>プログラムの作成、編集、保存、読み込み、環境設定に関連するコマンドです。</p>
</div>
<div class="paragraph">
<p>以下に制御命令の一覧を示します。</p>
</div>
<table class="tableblock frame-all grid-all fit-content">
<colgroup>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">コマンド・書式</th>
<th class="tableblock halign-center valign-top">概要</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><a href="#CLV">CLV</a></strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">変数領域の初期化</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><a href="#CONSOLE">CONSOLE</a></strong> モード</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">コンソール画面切替</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><a href="#DELETE">DELETE</a></strong> 行番号<br>
<strong><a href="#DELETE">DELETE</a></strong> 先頭行番号, 末尾行番号<br></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">プログラムの指定行削除</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><a href="#ERASE">ERASE</a></strong> プログラム番号<br>
<strong><a href="#ERASE">ERASE</a></strong> 開始プログラム番号 , 終了プログラム番号<br></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">フラッシュメモリのプログラム削除</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><a href="#EXPORT">EXPORT</a></strong><br>
<strong><a href="#EXPORT">EXPORT</a></strong> 対象番号<br>
<strong><a href="#EXPORT">EXPORT</a></strong> 開始番号 , 終了番号</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">フラッシュメモリ内プログラムのエクスポート</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><a href="#FILES">FILES</a></strong><br>
<strong><a href="#FILES">FILES</a></strong> 開始プログラム番号<br>
<strong><a href="#FILES">FILES</a></strong> 開始プログラム番号, 終了プログラム番号<br>
<strong><a href="#FILES">FILES</a></strong> "ファイルパス"<br></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">プログラム一覧表示</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><a href="#FREES">FREE()</a></strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">プログラム領域残量取得</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><a href="#LIST">LIST</a></strong><br>
<strong><a href="#LIST">LIST</a></strong> 表示開始行番号<br>
<strong><a href="#LIST">LIST</a></strong> 表示開始行番号, 表示終了行番号</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">プログラムリストの表示</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><a href="#LOAD">LOAD</a></strong><br>
<strong><a href="#LOAD">LOAD</a></strong> プログラム番号<br>
<strong><a href="#LOAD">LOAD</a></strong> "ファイル名"<br>
<strong><a href="#LOAD">LOAD</a></strong> "ファイル名", モード<br></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">プログラムの読み込み</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><a href="#LRUN">LRUN</a></strong> プログラム番号<br>
<strong><a href="#LRUN">LRUN</a></strong> プログラム番号 ,行番号<br>
<strong><a href="#LRUN">LRUN</a></strong> プログラム番号 ,"ラベル"<br>
<strong><a href="#LRUN">LRUN</a></strong> "ファイル名"<br>
<strong><a href="#LRUN">LRUN</a></strong> "ファイル名" ,行番号<br>
<strong><a href="#LRUN">LRUN</a></strong> "ファイル名" ,"ラベル"<br></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">指定プログラム番号の実行</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><a href="#NEW">NEW</a></strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">プログラムの消去</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><a href="#REM">REM</a></strong> コメント<br>
<strong><a href="#REM">'</a></strong> コメント<br></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">コメント</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><a href="#RENUM">RENUM</a></strong><br>
<strong><a href="#RENUM">RENUM</a></strong> 開始行番号<br>
<strong><a href="#RENUM">RENUM</a></strong> 開始行番号, 増分<br></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">行番号の振り直し</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><a href="#RUN">RUN</a></strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">プログラムの実行</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><a href="#SAVE">SAVE</a></strong><br>
<strong><a href="#SAVE">SAVE</a></strong> プログラム番号<br>
<strong><a href="#SAVE">SAVE</a></strong> "ファイル名"<br>
<strong><a href="#SAVE">SAVE</a></strong> "ファイル名", 保存形式</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">プログラムの保存</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><a href="#WIDTH">WIDTH</a></strong> 横文字数, 縦文字数</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">シリアルコンソール画面サイズ設定</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>各制御命令の詳細についれは、それぞれの命令文のコマンドリファレンスを参照してください。</p>
</div>
<hr>
</div>
<div class="sect2">
<h3 id="_テキスト画面入出力">2.4. テキスト画面入出力</h3>
<div class="paragraph">
<p>スクリーン画面へのテキスト表示、入力、表示制御を行うコマンド及び関数です。</p>
</div>
<div class="paragraph">
<p>以下にコマンド・関数の一覧を示します。</p>
</div>
<table class="tableblock frame-all grid-all fit-content">
<colgroup>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">コマンド・書式</th>
<th class="tableblock halign-center valign-top">概要</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><a href="#AATTR">ATTR</a></strong> 属性</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">文字表示属性の設定</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><a href="#CLS">CLS</a></strong><br>
<strong><a href="#CLS">CLS</a></strong> 消去対象画面</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">画面表示内容の全消去</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><a href="#COLOR">COLOR</a></strong> 文字色<br>
<strong><a href="#COLOR">COLOR</a></strong> 文字色, 背景色</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">文字色の設定</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><a href="#GETS">GETS</a></strong> (文字列格納先仮想アドレス[,有効文字列長] )<br>
<strong><a href="#GETS">GETS</a></strong> (文字列格納先仮想アドレス,有効文字列長,モード[,参照元仮想アドレス])</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">文字列の入力</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><a href="#INKEY">INKEY</a>( )</strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">入力文字コード取得</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><a href="#INPUT">INPUT</a></strong> 変数<br>
<strong><a href="#INPUT">INPUT</a></strong> 変数,オーバーフロー時の既定値<br>
<strong><a href="#INPUT">INPUT</a></strong> プロンプト, 変数<br>
<strong><a href="#INPUT">INPUT</a></strong> プロンプト, 変数, オーバーフロー時の既定値</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">数値の入力</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><a href="#LOCATE">LOCATE</a></strong> 横位置, 縦位置</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">カーソルの移動</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><a href="#PRINT">PRINT</a></strong><br>
<strong><a href="#PRINT">PRINT</a></strong> 文字列 | 数値<br>
<strong><a href="#PRINT">PRINT</a></strong> 文字列 | 数値 <code>;</code><br>
<strong><a href="#PRINT">PRINT</a></strong> 文字列 | 数値 <code>;</code> 文字列 | 数値 <code>;</code>…<br>
<strong><a href="#PRINT">PRINT</a></strong> 文字列 | 数値 <code>;</code> 文字列 | 数値 <code>;</code>… <code>;</code><br>
<strong><a href="#PRINT">PRINT</a></strong> <code>#</code> 桁数,文字列 | 数値 <code>;</code> 文字列 | 数値 <code>;</code>… ;</code></p>
<p class="tableblock"><code>… は可変指定を示す<br>
&#8216;;&#8217; は連結・改行抑制指定(オプション)、カンマ &#8216;,&#8217; も可能<br>
<strong><a href="#PRINT">PRINT</a></strong> の代わりに、省略形 <code>?</code> も利用可能<br></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">文字列表示</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><a href="#REDRAW">REDRAW</a></strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">画面表示の再表示</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><a href="#VPEEK">VPEEK</a></strong> (横位置 , 縦位置)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">指定位置の文字コード参照</p></td>
</tr>
</tbody>
</table>
<hr>
</div>
<div class="sect2">
<h3 id="_数値文字列操作">2.5. 数値・文字列操作</h3>
<div class="paragraph">
<p>スクリーン画面へのテキスト表示、入力、表示制御を行うコマンド及び関数です。</p>
</div>
<div class="paragraph">
<p>以下にコマンド・関数の一覧を示します。</p>
</div>
<table class="tableblock frame-all grid-all fit-content">
<colgroup>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">関数・書式</th>
<th class="tableblock halign-center valign-top">概要</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><a href="#ABS">ABS</a></strong> (数値)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">絶対値の取得</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><a href="#ASC">ASC</a></strong> (文字列)<br>
<strong><a href="#ASC">ASC</a></strong>  (文字列 , 文字位置)<br>
<strong><a href="#ASC">ASC</a></strong> (変数)<br>
<strong><a href="#ASC">ASC</a></strong> (変数 , 文字位置)<br></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">文字コード変換</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><a href="#BIN">BIN$</a></strong> (数値)<br>
<strong><a href="#BIN">BIN$</a></strong> (数値 , 桁数)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">整数の2進数文字列変換</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><a href="#BYTE">BYTE</a></strong> (変数)<br>
<strong><a href="#BYTE">BYTE</a></strong> (文字列)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">文字列のバイト数の取得</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><a href="#CHR">CHR$</a></strong> (文字コード)<br>
<strong><a href="#CHR">CHR$</a></strong> (文字コード, 文字コード, … , 文字コード)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">文字コードから文字への変換</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><a href="#DMP">DMP$</a></strong> (数値)<br>
<strong><a href="#DMP">DMP$</a></strong> (数値 , 小数点桁数)<br>
<strong><a href="#DMP">DMP$</a></strong> (数値 , 小数点桁数 , 整数部桁数)<br></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">整数小数付き文字列変換</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><a href="#HEX">HEX$</a></strong> (数値)<br>
<strong><a href="#HEX">HEX$</a></strong> (数値 , 桁数)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">数値の16進数文字列変換</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><a href="#LEN">LEN</a></strong> (変数)<br>
<strong><a href="#LEN">LEN</a></strong> (文字列)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">文字列の長さの取得</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><a href="#LET">LET</a></strong> 変数 = 数値<br>
<strong><a href="#LET">LET</a></strong> 配列変数 = 数値, 数値, 数値, 数値．．．<br>
<strong>変数</strong> = 数値<br>
<strong>配列変数</strong> = 数値, 数値, 数値, 数値．．．<br></code></p>
<p class="tableblock"><code><strong><a href="#LET">LET</a></strong> は省略可能</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">変数への値代入</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><a href="#MAP">MAP</a></strong> (値 , 範囲下限 , 範囲上限 , 新範囲下限 , 新範囲上限)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">数値のスケール変換</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><a href="#RND">RND</a></strong> (数値)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">乱数の発生</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><a href="#STR">STR$</a></strong> (変数)<br>
<strong><a href="#STR">STR$</a></strong> (変数,先頭位置,長さ)<br>
<strong><a href="#STR">STR$</a></strong> (文字列)<br>
<strong><a href="#STR">STR$</a></strong> (文字列,先頭位置,長さ)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">文字列参照・文字列の切り出し</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#STRCMP"><strong>STRCMP</strong></a>(文字列1, 文字列2[, 長さ])</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">文字列の比較</p></td>
</tr>
</tbody>
</table>
<hr>
</div>
<div class="sect2">
<h3 id="_仮想メモリー参照">2.6. 仮想メモリー参照</h3>
<div class="paragraph">
<p>仮想メモリの参照、書き込みを行うコマンド・関数です。</p>
</div>
<div class="paragraph">
<p>以下にコマンド・関数の一覧を示します。</p>
</div>
<table class="tableblock frame-all grid-all fit-content">
<colgroup>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">コマンド・書式</th>
<th class="tableblock halign-center valign-top">概要</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><a href="#PEEK">PEEK</a></strong> (仮想アドレス)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">指定アドレスの値参照</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><a href="#POKE">POKE</a></strong> 仮想アドレス , データ<br>
<strong><a href="#POKE">POKE</a></strong> 仮想アドレス , データ , データ , … ,データ(可変個数指定)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">指定アドレスへのデータ書き込み</p></td>
</tr>
</tbody>
</table>
<hr>
</div>
<div class="sect2">
<h3 id="_時間">2.7. 時間</h3>
<div class="paragraph">
<p>時間、経過時間関連のコマンド・関数です。</p>
</div>
<div class="paragraph">
<p>以下にコマンド・関数の一覧を示します。</p>
</div>
<table class="tableblock frame-all grid-all fit-content">
<colgroup>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">コマンド・書式</th>
<th class="tableblock halign-center valign-top">概要</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><a href="#CLT">CLT</a></strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">経過時間カウントのリセット</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><a href="#DATE">DATE</a></strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">現在時刻の表示</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><a href="#GETDATE">GETDATE</a></strong> 年格納変数, 月格納変数, 日格納変数, 曜日格納変数</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">日付の取得</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><a href="#GETTIME">GETTIME</a></strong> 時格納変数 , 分格納変数 , 秒格納変数</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">時刻の取得</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><a href="#SETDATE">SETDATE</a></strong> 年,月,日,時,分,秒</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">時刻の設定</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><a href="#TICK">TICK</a></strong> ()<br>
<strong><a href="#TICK">TICK</a></strong> (モード)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">経過時間取得</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><a href="#WAIT">WAIT</a></strong> 時間(ミリ秒)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">時間待ち</p></td>
</tr>
</tbody>
</table>
<hr>
</div>
<div class="sect2">
<h3 id="_gpio_io入出力">2.8. GPIO I/O入出力</h3>
<div class="paragraph">
<p>GPIOポートを使った入出力を行うためのコマンド・関数です。</p>
</div>
<div class="paragraph">
<p>以下にコマンド・関数の一覧を示します。</p>
</div>
<table class="tableblock frame-all grid-all fit-content">
<colgroup>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">コマンド・書式</th>
<th class="tableblock halign-center valign-top">概要</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><a href="#ANA">ANA</a></strong> (ピン番号)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">アナログ入力</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><a href="#GPIO">GPIO</a></strong> ピン番号, モード</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GPIO機能設定</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><a href="#I2CCLK">I2CCLK</a></strong> バス速度</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">I2Cバス速度設定</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><a href="#I2CR">I2CR</a></strong> (I2Cアドレス, コマンド, コマンド長, 受信データ, データ長)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">I2Cデータ受信</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><a href="#I2CW">I2CW</a></strong> (I2Cアドレス, コマンド, コマンド長, 送信データ, データ長)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">I2Cデータ送信</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><a href="#IN">IN</a></strong> (ピン番号)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">デジタル入力</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><a href="#OUT">OUT</a></strong> ピン番号, 出力値</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">デジタル出力</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><a href="#POUT">POUT</a></strong> ピン番号, デューティー値<br>
<strong><a href="#POUT">POUT</a></strong> ピン番号, デューティー値, 周波数</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PWM出力</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><a href="#PULSEIN">PULSEIN</a></strong> (パルス入力ピン番号 , 検出信号 , タイムアウト )<br>
<strong><a href="#PULSEIN">PULSEIN</a></strong> (パルス入力ピン番号 , 検出信号 , タイムアウト , スケール値 )</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">入力パルス幅の計測力</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><a href="#SHIFTIN">SHIFTIN</a></strong> (データピン番号, クロックピン番号, 入力形式)<br>
<strong><a href="#SHIFTIN">SHIFTIN</a></strong> (データピン番号, クロックピン番号, 入力形式, 条件)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">シリアルシフト入力</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><a href="#SHIFTOUT">SHIFTOUT</a></strong> データピン番号, クロックピン番号, 出力形式, 出力データ</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">シリアルシフト出力</p></td>
</tr>
</tbody>
</table>
<hr>
</div>
<div class="sect2">
<h3 id="_サウンド">2.9. サウンド</h3>
<div class="paragraph">
<p>サウンド出力を行うためのコマンド・関数です。</p>
</div>
<div class="paragraph">
<p>以下にコマンド・関数の一覧を示します。</p>
</div>
<table class="tableblock frame-all grid-all fit-content">
<colgroup>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">コマンド・書式</th>
<th class="tableblock halign-center valign-top">概要</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><a href="#NOTONE">NOTONE</a></strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">単音出力停止</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><a href="#PLAY">PLAY</a></strong> "MML文"</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">音楽演奏(MML文)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><a href="#TEMPO">TEMPO</a></strong> テンポ</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">音楽演奏のテンポの設定</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><a href="#TONE">TONE</a></strong> 周波数<br>
<strong><a href="#TONE">TONE</a></strong> 周波数, 出力期間</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">単音出力</p></td>
</tr>
</tbody>
</table>
<hr>
</div>
<div class="sect2">
<h3 id="_ファイル操作">2.10. ファイル操作</h3>
<div class="paragraph">
<p>SDカードのファイルを操作するコマンド・関数です。</p>
</div>
<div class="paragraph">
<p>以下にコマンド・関数の一覧を示します。</p>
</div>
<table class="tableblock frame-all grid-all fit-content">
<colgroup>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">コマンド・書式</th>
<th class="tableblock halign-center valign-top">概要</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><a href="#BLOAD">BLOAD</a></strong> "ファイル名" , アドレス, バイト数 [,ファイル内位置]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SDカードからバイナリデータ読込</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><a href="#BSAVE">BSAVE</a></strong> "ファイル名" ,アドレス ,バイト数 [,ファイル内位置]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SDカードへのバイナリデータ保存</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><a href="#LDBMP">LDBMP</a></strong> "ファイル名", 仮想アドレス, Bx, By, 幅, 高さ[,色指定]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ビットマップファイルの読み込み</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><a href="#CAT">CAT</a></strong> "ファイル名"</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ファイルの内容表示</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><a href="#REMOVE">REMOVE</a></strong> "ファイル名"</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ファイルの削除</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><a href="#MKDIR">MKDIR</a></strong> "ディレクトリ名"</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ディレクトリの作成</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><a href="#RMDIR">RMDIR</a></strong> "ディレクトリ名"</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ディレクトリの削除</p></td>
</tr>
</tbody>
</table>
<hr>
</div>
<div class="sect2">
<h3 id="_グラフィック表示">2.11. グラフィック表示</h3>
<div class="paragraph">
<p>グラフィック・デバイス画面表示関連のコマンド・関数です。</p>
</div>
<div class="paragraph">
<p>以下にコマンド・関数の一覧を示します。</p>
</div>
<table class="tableblock frame-all grid-all fit-content">
<colgroup>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">コマンド・書式</th>
<th class="tableblock halign-center valign-top">概要</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><a href="#BITMAP">BITMAP</a></strong> 横座標, 縦座標, アドレス, インデックス, 幅, 高さ [,倍率 [,色 [,モード]]]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ビットマップ画像の描画</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><a href="#CIRCLE">CIRCLE</a></strong> 横中心座標, 縦中心座標, 半径, 色, モード</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">円の描画</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><a href="#CSCROLLL">CSCROLL</a></strong> x1, y1, x2 ,y2, 方向</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">キャラクタ画面スクロール</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><a href="#DWBMP">DWBMP</a></strong> "ファイル名",  x, y [, Bx, By, 幅, 高さ[,色指定]]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BMPファイルの表示</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><a href="#GCLS">GCLS</a></strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">グラフィックデバイス画面のクリア</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><a href="#GCOLOR">GCOLOR</a></strong> 文字色<br>
<strong><a href="#GCOLOR">GCOLOR</a></strong> 文字色, 背景色</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">グラフィック文字描画の前景色、背景色の設定</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><a href="#GINP">GINP</a></strong> (横位置,縦位置,高さ,幅,色)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">指定領域内ピクセル検出（数値関数）</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><a href="#GPEEK">GPEEK</a></strong> (横位置 , 縦位置)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">画面上の指定位置ピクセルの参照(数値関数)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><a href="#GPRINT">GPRINT</a></strong> 横座標, 縦座標<br>
<strong><a href="#GPRINT">GPRINT</a></strong> 横座標, 縦座標, 文字列 | 数値<br>
<strong><a href="#GPRINT">GPRINT</a></strong> 横座標, 縦座標, 文字列 | 数値 <code>;</code><br>
<strong><a href="#GPRINT">GPRINT</a></strong> 横座標, 縦座標, 文字列 | 数値 <code>;</code> 文字列 | 数値 <code>;</code> …<br>
<strong><a href="#GPRINT">GPRINT</a></strong> 横座標, 縦座標, 文字列 | 数値 <code>;</code> 文字列 | 数値 <code>;</code> … <code>;</code><br>
<strong><a href="#GPRINT">GPRINT</a></strong> 横座標, 縦座標, <code>#</code> 桁数 , 文字列 | 数値;文字列 | 数値 <code>;</code> … <code>;</code></code></p>
<p class="tableblock"><code>| はいずれのうち１つを示す<br>
… は可変指定を示す<br>
<code>;</code> は連結指定、カンマ’,’も可能</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">文字列の描画</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><a href="#GSCROLLL">GSCROLL</a></strong> x1, y1, x2, y2,方向</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">グラフィックスクロール</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><a href="#LINE">LINE</a></strong> 横座標1, 縦座標1, 横座標2, 縦座標2,色</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">直線の描画</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><a href="#PSET">PSET</a></strong> 横座標, 縦座標, 色</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">点の描画</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><a href="#RECT">RECT</a></strong> x1, y1,x2, y2, 色, モード</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">矩形の描画</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><a href="#RGB">RGB</a></strong> (赤, 緑, 青)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3原色からRGBコード変換（数値関数）</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><a href="#SCREEN">SCREEN</a></strong> モード [,画面向き]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">スクリーンモードの設定</p></td>
</tr>
</tbody>
</table>
<hr>
</div>
<div class="sect2">
<h3 id="_シリアル通信">2.12. シリアル通信</h3>
<div class="paragraph">
<p>シリアル通信関連のコマンド・関数です。</p>
</div>
<div class="paragraph">
<p>以下にコマンド・関数の一覧を示します。</p>
</div>
<table class="tableblock frame-all grid-all fit-content">
<colgroup>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">コマンド・書式</th>
<th class="tableblock halign-center valign-top">概要</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><a href="#SMODE">SMODE</a></strong> 0<br>
<strong><a href="#SMODE">SMODE</a></strong> 1, "通信速度"<br>
<strong><a href="#SMODE">SMODE</a></strong> 2<br>
<strong><a href="#SMODE">SMODE</a></strong> 3, 制御コード処理指定</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">シリアルポート機能設定</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><a href="#SOPEN">SOPEN</a></strong> 通信速度</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">シリアル通信オープン</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><a href="#SCLOSE">SCLOSE</a></strong> 通信速度</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">シリアル通信クローズ</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><a href="#SPRINT">SPRINT</a></strong><br>
<strong><a href="#SPRINT">SPRINT</a></strong> 文字列 | 数値<br>
<strong><a href="#SPRINT">SPRINT</a></strong> 文字列 | 数値 <code>;</code><br>
<strong><a href="#SPRINT">SPRINT</a></strong> 文字列 | 数値 <code>;</code> 文字列 | 数値 <code>;</code>…<br>
<strong><a href="#SPRINT">SPRINT</a></strong> 文字列 | 数値 <code>;</code> 文字列 | 数値 <code>;</code>… <code>;</code><br>
<strong><a href="#SPRINT">SPRINT</a></strong> <code>#</code> 桁数 <code>,</code> 文字列 | 数値 <code>;</code> 文字列 | 数値 <code>;</code>… <code>;</code></code></p>
<p class="tableblock"><code>| はいずれのうち１つを示す<br>
… は可変指定を示す<br>
’<code>;</code>’ は連結指定、カンマ ’<code>,</code>’ も可能</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">シリアル通信文字列出力</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><a href="#SREAD">SREAD</a></strong> ()</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">シリアル通信1バイト受信（数値関数）</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><a href="#SREADY">SREADY</a></strong> ()</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">シリアル通信データ受信確認（数値関数）</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><a href="#SWRITE">SWRITE</a></strong> 送信データ</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">シリアル通信1バイト出力</p></td>
</tr>
</tbody>
</table>
<hr>
</div>
<div class="sect2">
<h3 id="_仮想eeprom">2.13. 仮想EEPROM</h3>
<div class="paragraph">
<p>仮想EEPROM利用のためののコマンド・関数です。</p>
</div>
<div class="paragraph">
<p>以下にコマンド・関数の一覧を示します。</p>
</div>
<table class="tableblock frame-all grid-all fit-content">
<colgroup>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">コマンド・書式</th>
<th class="tableblock halign-center valign-top">概要</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><a href="#EEPFORMAT">EEPFORMAT</a></strong></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">仮想EEPROMのフォーマット</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><a href="#EEPREAD">EEPREAD</a></strong> (アドレス)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">仮想EEPROMデータ読み込み（数値関数）</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong><a href="#EEPWRITE">EEPWRITE</a></strong> アドレス, データ</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">仮想EEPROMデータ書き込み</p></td>
</tr>
</tbody>
</table>
<hr>
</div>
<div class="sect2">
<h3 id="_漢字フォント">2.14. 漢字フォント</h3>
<div class="paragraph">
<p>日本語シフトJISフォントを利用するためのコマンドです。</p>
</div>
<div class="paragraph">
<p>以下にコマンド・関数の一覧を示します。</p>
</div>
<table class="tableblock frame-all grid-all fit-content">
<colgroup>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">コマンド・書式</th>
<th class="tableblock halign-center valign-top">概要</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#KANJI"><strong>KANJI</strong></a> 横座標, 縦座標, 文字列</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">漢字文字列の描画</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#KFONT"><strong>KFONT</strong></a>(アドレス, 文字コード, サイズ)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">漢字フォントデータの取得（数値関数）</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#SETKANJI"><strong>SETKANJI</strong></a> サイズ,[倍角[,横間隔,行間[,折り返し]]]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">漢字フォントの描画の設定</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#ZEN"><strong>ZEN</strong></a>(文字コード)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">半角文字コードを全角に変換（数値関数）</p></td>
</tr>
</tbody>
</table>
<hr>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_コマンド詳細">3. コマンド詳細</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_制御命令_2">3.1. 制御命令</h3>
<div class="sect3">
<h4 id="GOTO">3.1.1. GOTO</h4>
<div class="paragraph">
<p>指定行にジャンプ</p>
</div>
<div class="sect4">
<h5 id="_書式">【書式】</h5>
<div class="paragraph">
<p><strong><a href="#GOTO">GOTO</a></strong> 行番号<br>
<strong><a href="#GOTO">GOTO</a></strong> "ラベル"</p>
</div>
</div>
<div class="sect4">
<h5 id="_引数">【引数】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">行番号</dt>
<dd>
<p>ジャンプ先の行番号 数値(1 ～ 32767) または 式</p>
</dd>
<dt class="hdlist1">"ラベル"</dt>
<dd>
<p>ジャンプ先のラベル "文字列"の形式</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_説明">【説明】</h5>
<div class="paragraph">
<p>プログラムの実行を行番号、"ラベル"で指定した行にジャンプします。<br>
行番号には数値、式（変数、関数を含む）が利用可能です。<br>
ラベルを指定した場合、行先頭に同じラベルがある行にジャンプします。<br>
ラベルはダブルクオテーション( " )で囲って指定します。</p>
</div>
<div class="listingblock">
<div class="title">ラベルを使った例</div>
<div class="content">
<pre>10 I=0
20 "LOOP"
30 PRINT "@"
40 I=I+1:IF I=5 GOTO 60
50 GOTO "LOOP"
60 END</pre>
</div>
</div>
<div class="paragraph">
<p>上記の例では、40行の <strong><a href="#GOTO">GOTO</a></strong> で60行にジャンプ、50行のラベル指定で20行にジャンプしています。<br>
ラベルを使うとプログラムの流れがわかりやすくなります。<br>
ラベルは必ず行の先頭に記述してください。行に先頭にない場合は、ラベルとして認識されません。</p>
</div>
<div class="listingblock">
<div class="title">ラベルのつけ方が悪い例</div>
<div class="content">
<pre>10 GOTO "hoge"
20 END
30 ? "Hello":"hoge":?"test"
run
Undefined line number or label in 10
10 GOTO "hoge"
OK</pre>
</div>
</div>
<div class="paragraph">
<p>上記の例では、30行の真ん中にラベルをつけているのでエラーとなります。</p>
</div>
<div class="paragraph">
<p>行番号には式や変数の指定が可能です。<br>
ただしその場合は、 <strong><a href="#RENUM">RENUM</a></strong> コマンドよる行番号付け替えに対応出来ない場合があります。<br></p>
</div>
<div class="listingblock">
<div class="title">例</div>
<div class="content">
<pre>GOTO N*100+500      <b class="conum">(1)</b>
GOTO 500+N*100+500  <b class="conum">(2)</b></pre>
</div>
</div>
<div class="paragraph">
<p>(1)では <strong><a href="#RENUM">RENUM</a></strong> コマンドは何もしません。<br>
(2)は500を号番号とみなして更新します。<br>
ただし(1)(2)とも計算結果が正しい行番号となることは保証出来ません。<br>
ご注意下さい。</p>
</div>
</div>
<div class="sect4">
<h5 id="_エラーメッセージ">【エラーメッセージ】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Undefined line number or label</dt>
<dd>
<p>指定した行、ラベルが存在しない</p>
</dd>
<dt class="hdlist1">Overflow</dt>
<dd>
<p>指定した数値が-32768 ～ 32767を超えている</p>
</dd>
<dt class="hdlist1">Syntax error</dt>
<dd>
<p>文法エラー、書式と異なる利用を行った</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_利用例">【利用例】</h5>
<div class="listingblock">
<div class="title">ラベルを使ったループ処理</div>
<div class="content">
<pre>100 GOSUB "SUB01"
110 GOSUB "SUB02"
120 N=0
130 "LOOP"
140 PRINT "N=";N
150 N=N+1:IF N&lt;5 GOTO "LOOP"
160 END
170 "SUB01"
180 PRINT "SUB01"
190 RETURN
200 "SUB02"
210 PRINT "SUB02"
220 RETURN</pre>
</div>
</div>
<hr>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect3">
<h4 id="GOSUB">3.1.2. GOSUB</h4>
<div class="paragraph">
<p>サブルーチンの呼び出し</p>
</div>
<div class="sect4">
<h5 id="_書式_2">【書式】</h5>
<div class="paragraph">
<p><strong><a href="#GOSUB">GOSUB</a></strong> 行番号<br>
<strong><a href="#GOSUB">GOSUB</a></strong> "ラベル"</p>
</div>
</div>
<div class="sect4">
<h5 id="_引数_2">【引数】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">行番号</dt>
<dd>
<p>ジャンプ先の行番号 数値(1 ～ 32767) または 式</p>
</dd>
<dt class="hdlist1">"ラベル"</dt>
<dd>
<p>ジャンプ先のラベル "文字列"の形式</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_説明_2">【説明】</h5>
<div class="paragraph">
<p>プログラムの実行を一旦、行番号またはラベルで指定した行に移ります。<br>
移った先で <strong><a href="#RETURN">RETURN</a></strong> 命令により、呼び出した <strong><a href="#GOSUB">GOSUB</a></strong> 命令の次の位置に戻ります。<br>
行番号には数値、式（変数、関数を含む）が利用できます。<br>
ラベルを指定した場合は、行先頭に同じラベルがある行に移ります。<br>
ラベルはダブルクオテーション`"`で囲って指定します。</p>
</div>
<div class="listingblock">
<div class="title">例</div>
<div class="content">
<pre>10 GOSUB "PRN_LOGO"
20 GOSUB "PRN_DATE"
30 GOSUB 200
40 END
50 "PRN_LOGO"
60 PRINT "Tiny BASIC for Arduino STM32"
70 RETURN
80 "PRN_DATE"
90 PRINT "Edition V0.84 2017/08/01"
100 RETURN
200 PRINT "Ready"
210 RETURN</pre>
</div>
</div>
<div class="paragraph">
<p>上記の例では、10行、20行でラベルを指定してサブルーチンを呼び出しています。<br>
30行では、行番号を指定してサブルーチンを呼び出しています。<br>
ラベルを使うことで、プログラムの実行がわかりやすくなります。<br>
行の先頭に無いラベルは、<strong><a href="#GOSUB">GOSUB</a></strong> 文の呼び出し先としての参照はされません。</p>
</div>
<div class="listingblock">
<div class="title">ラベルのつけ方が悪い例</div>
<div class="content">
<pre>10 GOSUB "hoge"
20 END
30 ? "Hello":"hoge":?"test":RETURN
run
Undefined line number or label in 10
10 GOSUB "hoge"
OK</pre>
</div>
</div>
<div class="paragraph">
<p>行番号には式や変数の指定が可能ですが、 <strong><a href="#RENUM">RENUM</a></strong> コマンドよる行番号付け替えに対応出来ない場合があります。</p>
</div>
<div class="listingblock">
<div class="content">
<pre>GOSUB N*100+500      <b class="conum">(1)</b>
GOSUB 500+N*100+500  <b class="conum">(2)</b></pre>
</div>
</div>
<div class="paragraph">
<p>(1)では <strong><a href="#RENUM">RENUM</a></strong> コマンドは何もしません。<br>
(2)は500を行番号とみなして更新します。<br>
ただし(1)(2)とも計算結果が正しい行番号となることは保証出来ません。ご注意下さい。</p>
</div>
</div>
<div class="sect4">
<h5 id="_エラーメッセージ_2">【エラーメッセージ】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Undefined line number or label</dt>
<dd>
<p>指定した行、ラベルが存在しない</p>
</dd>
<dt class="hdlist1">Overflow</dt>
<dd>
<p>指定した数値が-32768 ～ 32767を超えている</p>
</dd>
<dt class="hdlist1">GOSUB too many nested</dt>
<dd>
<p>GOSUBのネスト数が規定(=10)を超えた</p>
</dd>
<dt class="hdlist1">Syntax error</dt>
<dd>
<p>文法エラー、書式と異なる利用を行った</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_利用例_2">【利用例】</h5>
<div class="listingblock">
<div class="title">ラベルを使ったサブルーチンの呼び出し例</div>
<div class="content">
<pre>100 GOSUB "SUB01"
110 GOSUB "SUB02"
120 N=0
130 "LOOP"
140 PRINT "N=";N
150 N=N+1:IF N&lt;5 GOTO "LOOP"
160 END
170 "SUB01":PRINT "SUB01":RETURN
200 "SUB02":PRINT "SUB02":RETURN</pre>
</div>
</div>
<hr>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect3">
<h4 id="RETURN">3.1.3. RETURN</h4>
<div class="paragraph">
<p>サブルーチンからの復帰</p>
</div>
<div class="sect4">
<h5 id="_書式_3">【書式】</h5>
<div class="paragraph">
<p><strong><a href="#RETURN">RETURN</a></strong></p>
</div>
</div>
<div class="sect4">
<h5 id="_引数_3">【引数】</h5>
<div class="paragraph">
<p>なし</p>
</div>
</div>
<div class="sect4">
<h5 id="_説明_3">【説明】</h5>
<div class="paragraph">
<p>直前に呼び出された <strong><a href="#GOSUB">GOSUB</a></strong> の次の処理に復帰します。<br>
詳細は <strong><a href="#GOSUB">GOSUB</a></strong> のコマンドリファレンスを参照して下さい。</p>
</div>
</div>
<div class="sect4">
<h5 id="_エラーメッセージ_3">【エラーメッセージ】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Undefined line number or label</dt>
<dd>
<p>指定した行、ラベルが存在しない</p>
</dd>
<dt class="hdlist1">Overflow</dt>
<dd>
<p>指定した数値が-32768 ～ 32767を超えている</p>
</dd>
<dt class="hdlist1">RETURN stack underflow</dt>
<dd>
<p>GOSUBの呼び出しがないのにRETURNを実行</p>
</dd>
<dt class="hdlist1">Syntax error</dt>
<dd>
<p>文法エラー、書式と異なる利用を行った</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_利用例_3">【利用例】</h5>
<div class="listingblock">
<div class="title">ラベルを使ったサブルーチンの呼び出し例</div>
<div class="content">
<pre>100 GOSUB "SUB01"
110 GOSUB "SUB02"
120 N=0
130 "LOOP"
140 PRINT "N=";N
150 N=N+1:IF N&lt;5 GOTO "LOOP"
160 END
170 "SUB01"
180 PRINT "SUB01"
190 RETURN
200 "SUB02"
210 PRINT "SUB02"
220 RETURN</pre>
</div>
</div>
<hr>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect3">
<h4 id="IF">3.1.4. IF</h4>
<div class="paragraph">
<p>条件判定を行う</p>
</div>
<div class="sect4">
<h5 id="_書式_4">【書式】</h5>
<div class="paragraph">
<p><strong><a href="#IF">IF</a></strong> 条件式 真の場合の実行文<br>
<strong><a href="#IF">IF</a></strong> 条件式 真の場合の実行文 <strong><a href="#IF">ELSE</a></strong> 偽の場合の実行文</p>
</div>
</div>
<div class="sect4">
<h5 id="_引数_4">【引数】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">条件式</dt>
<dd>
<p>定数、数値、式</p>
</dd>
<dt class="hdlist1">真の場合の実行文</dt>
<dd>
<p>条件式の計算結果が真(0以外)の場合に実行される命令文<br>
命令文は`:`を使って複数記述することが可能</p>
</dd>
<dt class="hdlist1">偽の場合の実行文</dt>
<dd>
<p>条件式の計算結果が偽(0)の場合に実行される命令文<br>
命令文は`:`を使って複数記述することが可能</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_説明_4">【説明】</h5>
<div class="paragraph">
<p>条件式の真偽判定を行い、真の場合は <strong>真の場合の実行文</strong> を実行します。<br>
条件式が偽の場合、<strong><a href="#IF">ELSE</a></strong> がある場合は <strong>偽の場合の実行文</strong> を実行します。</p>
</div>
<div class="paragraph">
<p>真偽は次の条件となります。</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"></dt>
<dd>
<p>真：評価した値が0以外である<br>
偽：評価した値が0である</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>真偽判定を行う条件式には定数、数値、関数を含む式が記述できます。</p>
</div>
<div class="ulist">
<div class="title">条件式の記述例</div>
<ul>
<li>
<p><code>IF A &gt; 5 B=B-1</code></p>
</li>
<li>
<p><code>IF A+1 PRINT A</code></p>
</li>
<li>
<p><code>IF A &amp; 1 TONE 440,200</code></p>
</li>
<li>
<p><code>IF INKEY() = ASC("A") GOTO 100</code></p>
</li>
</ul>
</div>
<div class="ulist">
<div class="title">定数の例</div>
<ul>
<li>
<p><code>IF HIGH GOTO 100</code></p>
</li>
</ul>
</div>
<div class="ulist">
<div class="title">数値の例</div>
<ul>
<li>
<p><code>IF 123 PRINT "123"</code></p>
</li>
</ul>
</div>
<div class="ulist">
<div class="title">関数の例</div>
<ul>
<li>
<p><code>IF RND(1) X=X+1</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>実行文には、`:`を使って複数のコマンドを記述することが可能です。
.例</p>
</div>
<div class="listingblock">
<div class="content">
<pre>10 INPUT "年齢=",N
20 IF (N&lt;0) OR (N&gt;120) PRINT "bad value":GOTO 10
30 PRINT "年齢:";N</pre>
</div>
</div>
<div class="paragraph">
<p>上記のプログラムでは、入力した年齢の範囲をチェックし、<br>
不当な値である場合は、再入力を行います。+
20行の真の場合に実行される命令文では <strong><a href="#PRINT">PRINT</a></strong> 、<strong><a href="#GOTO">GOTO</a></strong> が逐次実行されます。<br>
実行文には <strong><a href="#IF">IF</a></strong> 、<strong><a href="#GOTO">GOTO</a></strong> 、<strong><a href="#GOSUB">GOSUB</a></strong> 等の制御命令を使うことも可能です。</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">注意</div>
</td>
<td class="content">
<strong><a href="#IF">ELSE</a></strong> 利用の制約(ぶら下がり <strong><a href="#IF">ELSE</a></strong> に関する補足)<br>
<strong><a href="#IF">IF</a></strong> 文をネストして利用した場合、<strong><a href="#IF">ELSE</a></strong> 文は直前の <strong>IF</strong> 文に対応します。<br>
　例： <code>IF A=1 IF B=1 ? "A,B=1" ELSE ? "A=1,B&lt;&gt;1"</code><br>
上記の <strong><a href="#IF">ELSE</a></strong> は2番目の <strong><a href="#IF">IF</a></strong> 文に対応します。<br>
この「 <strong><a href="#IF">ELSE</a></strong> 文は直前の <strong><a href="#IF">IF</a></strong> 文に対応」の条件で、<strong><a href="#IF">ELSE</a></strong> 文に <strong><a href="#IF">IF</a></strong> 文をネスト出来ます。<br>
　例: <code>IF A=1 IF B=1 ? "A,B=1" ELSE IF B=2 ? "A=1,B=2" ELSE IF B=3 ?"A=1,B=3"</code><br>
上記では、A=1,B=1,2,3の条件に対して対応する表示メッセージを表示する例です。
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_エラーメッセージ_4">【エラーメッセージ】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">IF without condition</dt>
<dd>
<p>条件式が定義されていない</p>
</dd>
<dt class="hdlist1">Overflow</dt>
<dd>
<p>指定した数値が-32768 ～ 32767を超えている</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_利用例_4">【利用例】</h5>
<div class="paragraph">
<p>yを押したら、"Y key" を表示して終了、その他のキーなら"End" を表示して終了する
何も押されていなければ10行から30行をループする。</p>
</div>
<div class="listingblock">
<div class="content">
<pre>10 A=INKEY()
20 IF A=ASC("y") PRINT "Y key":END ELSE IF A&lt;&gt;0 PRINT "End":END
30 GOTO 10</pre>
</div>
</div>
<hr>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect3">
<h4 id="FOR">3.1.5. FOR TO NEXT</h4>
<div class="paragraph">
<p>処理の繰り返し</p>
</div>
<div class="sect4">
<h5 id="_書式_5">【書式】</h5>
<div class="paragraph">
<p><strong><a href="#FOR">FOR</a></strong> 変数 <strong>=</strong> 初期値 <strong><a href="#FOR">TO</a></strong> 最終値 [<strong><a href="#FOR">STEP</a></strong> 増分]<br>
　<em>＜繰り返し実行文(複数行可能)＞</em><br>
<strong><a href="#FOR">NEXT</a></strong> 変数</p>
</div>
</div>
<div class="sect4">
<h5 id="_引数_5">【引数】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">変数</dt>
<dd>
<p>変数A～Z、An～Zn(nは0～6) または 配列変数@(0) ～@(99)</p>
</dd>
<dt class="hdlist1">初期値</dt>
<dd>
<p>変数の初期値：数値(-32768 ～ 32767)、定数 または 式</p>
</dd>
<dt class="hdlist1">最終値</dt>
<dd>
<p>変数の最終値：数値(-32768 ～ 32767)、定数 または 式</p>
</dd>
<dt class="hdlist1">増分</dt>
<dd>
<p>変数の増分：数値(-32768 ～ 32767)、定数 または 式<br>
省略時は 1</p>
</dd>
<dt class="hdlist1">繰り返し実行文(複数行可能)</dt>
<dd>
<p>繰り返し実行する命令文</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_説明_5">【説明】</h5>
<div class="paragraph">
<p><strong><a href="#FOR">FOR</a></strong> から <strong><a href="#FOR">NEXT</a></strong> の間の実行文を繰り返し実行します。<br>
繰り返し実行は、指定した変数が最終値以上になるで行われます。</p>
</div>
<div class="paragraph">
<p>変数には初期値がセットされ、一回の繰り返し毎に、増分を加算します。<br>
加算された変数が最終値またはそれ以上の値になった時点で繰り返し処理を終了し、NEXTの次の命令の実行に移ります。</p>
</div>
<div class="paragraph">
<p><strong><a href="#FOR">STEP</a></strong> にて増分を指定しない場合、増分は1となります。<br>
<strong><a href="#FOR">STEP</a></strong> 増分には、負の値の指定も可能です。</p>
</div>
<div class="listingblock">
<div class="title">変数Iを0から5まで2づづ変化させる</div>
<div class="content">
<pre>10 PRINT "start."
20 FOR I=0 TO 5 STEP 2
30 PRINT I
40 NEXT I
50 PRINT "done."
実行結果
start
0
2
4
done.
ok</pre>
</div>
</div>
<div class="paragraph">
<p>上記の例ではIを0から5まで、2ずつ増加して30行の命令を繰り返し実行します。
Iが4の時、増分2を足すと終了値5を超えた6となるので繰り返しを終了し、50行を実行します。</p>
</div>
<div class="paragraph">
<p><strong><a href="#FOR">FOR</a></strong> 文はネストも可能です(<strong>利用例</strong> のプログラムを参照）。<br>
最大で10段のネストを行うことが出来ます。 <br>
ネストする場合、各 <strong><a href="#FOR">FOR</a></strong> ～ <strong><a href="#FOR">NEXT</a></strong> の組み合わせには異なる変数を指定します。</p>
</div>
<div class="paragraph">
<p><strong><a href="#FOR">FOR</a></strong> ～ <strong><a href="#FOR">NEXT</a></strong> の繰り返しは、利用している変数が繰り返し条件を満たさなくなった時点で繰り返しを終了します。<br>
<strong>例1</strong> に`35 I=6`を追加した <strong>例2</strong> では、ループ内で条件を満たさなくすることでループを抜けることが出来ます。</p>
</div>
<div class="listingblock">
<div class="title">変数Iに値をセットしてループを抜ける</div>
<div class="content">
<pre>10 PRINT "start."
20 FOR I=0 TO 5 STEP 2
30 PRINT I
35 I=6
40 NEXT I
50 PRINT "done."
実行結果
start
0
done.
ok</pre>
</div>
</div>
<div class="listingblock">
<div class="title">10桁2進数0000000000～1111111111を表示(10段のループ)</div>
<div class="content">
<pre>10 FOR I0=0 TO 1
20 FOR I1=0 TO 1
30 FOR I2=0 TO 1
40 FOR I3=0 TO 1
50 FOR I4=0 TO 1
60 FOR I5=0 TO 1
70 FOR I6=0 TO 1
80 FOR J0=0 TO 1
90 FOR J1=0 TO 1
100 FOR J2=0 TO 1
110 ?#2,I0,I1,I2,I3,I4,I5,I6,J0,J1,J2
120 NEXT J2
130 NEXT J1
140 NEXT J0
150 NEXT I6
160 NEXT I5
170 NEXT I4
180 NEXT I3
190 NEXT I2
200 NEXT I1
210 NEXT I0</pre>
</div>
</div>
<div class="listingblock">
<div class="title">実行結果</div>
<div class="content">
<pre>run
 0 0 0 0 0 0 0 0 0 0
 0 0 0 0 0 0 0 0 0 1
 0 0 0 0 0 0 0 0 1 0
 0 0 0 0 0 0 0 0 1 1
 0 0 0 0 0 0 0 1 0 0
 0 0 0 0 0 0 0 1 0 1
 0 0 0 0 0 0 0 1 1 0
 0 0 0 0 0 0 0 1 1 1
 0 0 0 0 0 0 1 0 0 0
       ＜中略＞
 1 1 1 1 1 1 1 0 1 1
 1 1 1 1 1 1 1 1 0 0
 1 1 1 1 1 1 1 1 0 1
 1 1 1 1 1 1 1 1 1 0
 1 1 1 1 1 1 1 1 1 1</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_エラーメッセージ_5">【エラーメッセージ】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Syntax error</dt>
<dd>
<p>文法エラー、書式と異なる利用を行った</p>
</dd>
<dt class="hdlist1">FOR without variable</dt>
<dd>
<p>FOR文で変数を指定していない</p>
</dd>
<dt class="hdlist1">FOR without TO</dt>
<dd>
<p>FOR文でTOを指定していない</p>
</dd>
<dt class="hdlist1">NEXT without counter</dt>
<dd>
<p>NEXTに対応するFOR文が無い</p>
</dd>
<dt class="hdlist1">FOR too many nested</dt>
<dd>
<p>FOR文のネスト数が規定数(=10)を超えた</p>
</dd>
<dt class="hdlist1">Overflow</dt>
<dd>
<p>指定した数値が-32768 ～ 32767を超えている</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_利用例_5">【利用例】</h5>
<div class="listingblock">
<div class="title">画面の指定位置に*を表示する（FOR文のネストの例)</div>
<div class="content">
<pre>10 CLS
20 FOR Y=5 TO 10
30 FOR X=5 TO 10
40 LOCATE X,Y:PRINT "*"
50 NEXT X
60 NEXT Y</pre>
</div>
</div>
<hr>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect3">
<h4 id="END">3.1.6. END</h4>
<div class="paragraph">
<p>プログラムの終了</p>
</div>
<div class="sect4">
<h5 id="_書式_6">【書式】</h5>
<div class="paragraph">
<p><strong><a href="#END">END</a></strong></p>
</div>
</div>
<div class="sect4">
<h5 id="_引数_6">【引数】</h5>
<div class="paragraph">
<p>なし</p>
</div>
</div>
<div class="sect4">
<h5 id="_説明_6">【説明】</h5>
<div class="paragraph">
<p>プログラムの実行を終了します。</p>
</div>
</div>
<div class="sect4">
<h5 id="_エラーメッセージ_6">【エラーメッセージ】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Syntax error</dt>
<dd>
<p>文法エラー、書式と異なる利用を行った</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_利用例_6">【利用例】</h5>
<div class="listingblock">
<div class="title">特定の条件でプログラムを終了する</div>
<div class="content">
<pre>10 I=0
20 PRINT I
30 IF I=5 END
40 GOTO 20</pre>
</div>
</div>
<hr>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_システム_2">3.2. システム</h3>
<div class="sect3">
<h4 id="BANK">3.2.1. BANK</h4>
<div class="paragraph">
<p>PRG2参照領域バンク切り替え</p>
</div>
<div class="sect4">
<h5 id="_書式_7">【書式】</h5>
<div class="paragraph">
<p><strong><a href="#BANK">BANK</a></strong> プログラム番号</p>
</div>
</div>
<div class="sect4">
<h5 id="_引数_7">【引数】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">プログラム番号</dt>
<dd>
<p>参照対象のプログラム番号:		0～5</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_説明_7">【説明】</h5>
<div class="paragraph">
<p>内部フラッシュメモリのプログラム保存領域 0～5の領域のうちの<br>
<strong>プログラム番号</strong> で指定した領域(4096バイト)を仮想アドレスにて参照可能な<br>
領域：<strong>PRG2</strong> (領域サイズ 4096バイト)にマッピングします。<br></p>
</div>
<div class="paragraph">
<p>すなわち、<strong><a href="#BANK">BANK</a></strong> にてプログラム番号を指定することで、<br>
フラッシュメモリのプログラム保存領域にアクセスすることが出来ます。</p>
</div>
<div class="paragraph">
<p>下記の図は、<code>BANK 4</code> を実行した例です。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/BANK_01.png" alt="BANK 01">
</div>
<div class="title">図 1. 例 BANK 4を実行時の領域のマッピング</div>
</div>
<div class="paragraph">
<p>プログラム番号4の4096バイトの領域は、<br>
<a href="#_メモリ領域先頭アドレス定数"><strong>PRG2</strong></a> ～ <a href="#_メモリ領域先頭アドレス定数"><strong>PRG2</strong></a> + 4095の領域にマッピングされています。<br>
この領域は、<a href="#PEEK"><strong>PEEK</strong></a> コマンドにより参照することが出来ます。</p>
</div>
<div class="paragraph">
<p>さらに、<a href="#ERASE"><strong>ERASE</strong></a>コマンドでプログラム保存領域を消去した直後は、<br>
１回だけ、<a href="#FWRITE"><strong>FWRITE</strong></a>コマンド、<a href="#BLOAD"><strong>BLOAD</strong></a>コマンドにて<br>
書き込みを行うここが出来ます。</p>
</div>
<div class="listingblock">
<div class="title">例:プログラム保存領域(番号5)に直接書き込む</div>
<div class="content">
<pre>BANK 5
OK
EARSE 5
OK
FWIRE PRG2,123
OK
?PEEK(PRG2)
123
OK</pre>
</div>
</div>
<div class="listingblock">
<div class="title">例:プログラム番号5にプログラム番号0の内容を書き込む</div>
<div class="content">
<pre>BANK 0
OK
BSAVE "PRG00.BIN",PRG2,4096
OK
BANK 5
OK
EARSE 5
OK
BLOAD "PRG00.BIN",PRG2,4096
OK</pre>
</div>
</div>
<div class="paragraph">
<p>プログラム領域への直接書き込みを行う際は、操作ミス等により<br>
削除すべきでないプログラムを消去してしまう可能性がありますので、ご注意願います。</p>
</div>
<div class="paragraph">
<p>仮想アドレスを参照する定数 ＊PTG2*を含め、仮想アドレスの詳細については、  +「<a href="../仕様/メモリーマップ.adoc">メモリーマップ</a>」の「<a href="../仕様/メモリーマップ.adoc#_仮想アドレス">仮想アドレス</a>」を参照下さい。</p>
</div>
</div>
<div class="sect4">
<h5 id="_エラーメッセージ_7">【エラーメッセージ】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Syntax error</dt>
<dd>
<p>文法エラー、書式と異なる利用を行った、引数に数値以外を指定した</p>
</dd>
<dt class="hdlist1">Overflow</dt>
<dd>
<p>指定した数値が-32768 ～ 32767を超えている</p>
</dd>
<dt class="hdlist1">Illegal value</dt>
<dd>
<p>プログラム番号の指定が正しくない</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_利用例_7">【利用例】</h5>
<div class="paragraph">
<p>フラッシュメモリ内の保存プログラムをSDカードに退避する</p>
</div>
<div class="listingblock">
<div class="content">
<pre>10 FOR I=0 TO 5
20 BANK I
30 BSAVE "PRG";I;".BIN",PRG2,4096
40 NEXT I</pre>
</div>
</div>
<div class="paragraph">
<p>上位の退避したプログラムをロードする</p>
</div>
<div class="listingblock">
<div class="content">
<pre>10 FOR I=0 TO 5
20 BANK I
30 ERASE I
40 BLOAD "PRG";I;".BIN",PRG2,4096
50 NEXT I</pre>
</div>
</div>
<hr>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect3">
<h4 id="CONFIG">3.2.2. CONFIG</h4>
<div class="paragraph">
<p>システム環境設定</p>
</div>
<div class="sect4">
<h5 id="_書式_8">【書式】</h5>
<div class="paragraph">
<p><strong><a href="#CONFIG">CONFIG</a></strong> 項目番号, 設定値 [,設定値2, 設定値3]</p>
</div>
</div>
<div class="sect4">
<h5 id="_引数_8">【引数】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">項目番号</dt>
<dd>
<p>0 ～ 2
設定値;;　  選択した項目の設定値（項目により設定値の条件は異なる）</p>
</dd>
<dt class="hdlist1">設定値2</dt>
<dd>
<p>選択した項目の設定値（項目により設定値の条件は異なる）</p>
</dd>
<dt class="hdlist1">設定値3</dt>
<dd>
<p>選択した項目の設定値（項目により設定値の条件は異なる）</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_説明_8">【説明】</h5>
<div class="paragraph">
<p>項目で指定した機器の設定を行います。</p>
</div>
<table class="tableblock frame-all grid-all fit-content">
<colgroup>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">項目と書式</th>
<th class="tableblock halign-center valign-middle">説明</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>NTSC信号補正<br>
<br>
書式<br>
<strong><a href="#CONFIG">CONFIG</a></strong> 0,垂直同期補正[,横補正, 縦補正]<br></code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">NTSCの信号の補正値を設定します。<br>
垂直同期補正：-2 ～ 2（デフォルト 0) <br>
横補正： -15 ～ 15（デフォルト 0) <br>
縦補正： -15 ～ 15（デフォルト 0) <br></p>
<p class="tableblock">画面が縦にスクロールする場合は、<br>
垂直同期補正に正の数値を指定します。<br>
例: 2<br>
垂直同期補正の単位は走査線増減数です。<br>
<br>
横補正は左側からの補正量、<br>
縦補正は上からの補正量です。<br>
単位はドットではなく、クロック数です。<br></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>キーボード設定<br></code></p>
<p class="tableblock"><code>書式<br>
<strong><a href="#CONFIG">CONFIG</a></strong> 1,レイアウト指定値<br></code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">利用するキーボードのレイアウト設定を行います。<br>
レイアウト指定値<br>
0：日本語キーボード(デフォルト)<br>
1：USキーボード<br></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>自動起動プログラム設定<br>
<br>
書式<br>
<strong><a href="#CONFIG">CONFIG</a></strong> 2,プログラム番号<br></code></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">電源ON後に自動起動するプログラムを指定します。<br>
プログラム番号：0 ～ 7 or -1<br>
-1の設定で自動起動無し<br></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>設定はコマンド実行後、直ちに反映されます。本設定は電源を落とすまで有効です。<br>
次回以降の起動にも適用したい場合は、<strong><a href="#SAVECONFIG">SAVECONFIG</a></strong> コマンドで保存して下さい。<br></p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">注意</div>
</td>
<td class="content">
初めてボードに書き込みを行う場合、<strong><a href="#SAVECONFIG">SAVECONFIG</a></strong> コマンドで書き込めない場合があります。その場合は、<strong><a href="#EEPFORMAT">EEPFORMAT</a></strong> コマンドにて保存領域の初期化を行って下さい。
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_エラーメッセージ_8">【エラーメッセージ】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Syntax error</dt>
<dd>
<p>書式と異なる利用を行った、プログラム番号に変数、式を指定した</p>
</dd>
<dt class="hdlist1">Illegal value</dt>
<dd>
<p>指定した項目番号、設定値が正しくない。</p>
</dd>
<dt class="hdlist1">Overflow</dt>
<dd>
<p>指定した数値が-32768 ～ 32767を超えている</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_利用例_8">【利用例】</h5>
<div class="listingblock">
<div class="title">利用しているキーボードをUSキーボードに設定する</div>
<div class="content">
<pre>CONFIG 1,1
OK
SAVECONFIG
OK</pre>
</div>
</div>
<hr>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect3">
<h4 id="FWRITE">3.2.3. FWRITE</h4>
<div class="paragraph">
<p>プログラム保存領域へのデータ書き込み</p>
</div>
<div class="sect4">
<h5 id="_書式_9">【書式】</h5>
<div class="paragraph">
<p><strong><a href="#FWRITE">FWRITE</a></strong>  アドレス, データ</p>
</div>
</div>
<div class="sect4">
<h5 id="_引数_9">【引数】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">アドレス</dt>
<dd>
<p>データの書き込み先の仮想アドレス<br>
<a href="#_メモリ領域先頭アドレス定数">PRG2</a> ～ <a href="#_メモリ領域先頭アドレス定数">PRG2</a> + 4095 または $4F40 ～ $66DFの偶数アドレス</p>
</dd>
<dt class="hdlist1">データ</dt>
<dd>
<p>$0000～$FFFF,-32768 ～32767<br></p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_説明_9">【説明】</h5>
<div class="paragraph">
<p>プログラム保存領域（指定した仮想アドレス）に２バイトデータを書き込みます。<br>
書き込み対象のプログラム保存領域は、<a href="#BANK"><strong>BANK</strong></a>コマンドにて、切り替えることが出来ます。<br>
書き込みを行うには、事前に<a href="#ERASE"><strong>ERASE</strong></a>コマンドで対象のプログラム保存領域を消去しておく必要があります。</p>
</div>
<div class="paragraph">
<p>仮想アドレスは必ず偶数アドレスを指定しなければなりません。<br></p>
</div>
<div class="paragraph">
<p>書き込み先の仮想アドレスの指定には定数 <a href="#_メモリ領域先頭アドレス定数">PRG2</a>の利用を推奨します。</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">注意</div>
</td>
<td class="content">
プログラム保存領域にデータを書き込んだ場合、<a href="#FILE"><strong>FILE</strong></a>コマンドのでのプログラム一覧の表示を正しく行うことが出来なくなります。
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_エラーメッセージ_9">【エラーメッセージ】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Syntax error</dt>
<dd>
<p>文法エラー、書式と異なる利用を行った</p>
</dd>
<dt class="hdlist1">Bad address</dt>
<dd>
<p>指定したアドレスが正しくない</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_利用例_9">【利用例】</h5>
<div class="listingblock">
<div class="title">プログラム保存領域(番号5)に直接書き込む</div>
<div class="content">
<pre>BANK 5
OK
EARSE 5
OK
FWIRE PRG2,123
OK
?PEEK(PRG2)
123
OK</pre>
</div>
</div>
<hr>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect3">
<h4 id="SAVECONFIG">3.2.4. SAVECONFIG</h4>
<div class="paragraph">
<p>システム環境設定の保存</p>
</div>
<div class="sect4">
<h5 id="_書式_10">【書式】</h5>
<div class="paragraph">
<p><strong><a href="#SAVECONFIG">SAVECONFIG</a></strong></p>
</div>
</div>
<div class="sect4">
<h5 id="_引数_10">【引数】</h5>
<div class="paragraph">
<p>なし</p>
</div>
</div>
<div class="sect4">
<h5 id="_説明_10">【説明】</h5>
<div class="paragraph">
<p><strong><a href="#CONFIG">CONFIG</a></strong> コマンドの設定内容をフラッシュメモリに保存します。<br>
次回以降の起動でも設定を有効にします。<br></p>
</div>
<div class="paragraph">
<p>フラッシュメモリの利用状況により、保存に失敗する場合があります。<br>
その場合は、フラッシュメモリの初期化を <strong><a href="#EEPFORMAT">EEPFORMAT</a></strong> にて行って下さい。<br></p>
</div>
</div>
<div class="sect4">
<h5 id="_エラーメッセージ_10">【エラーメッセージ】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Syntax error</dt>
<dd>
<p>書式と異なる利用を行った、プログラム番号に変数、式を指定した</p>
</dd>
<dt class="hdlist1">Overflow</dt>
<dd>
<p>指定した数値が-32768 ～ 32767を超えている</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_利用例_10">【利用例】</h5>
<div class="listingblock">
<div class="title">利用しているキーボードをUSキーボードに設定する</div>
<div class="content">
<pre>CONFIG 1,1
OK
SAVECONFIG
OK</pre>
</div>
</div>
<hr>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect3">
<h4 id="SYSINFO">3.2.5. SYSINFO</h4>
<div class="paragraph">
<p>システム情報の表示</p>
</div>
<div class="sect4">
<h5 id="_書式_11">【書式】</h5>
<div class="paragraph">
<p><strong><a href="#SYSINFO">SYSINFO</a></strong></p>
</div>
</div>
<div class="sect4">
<h5 id="_引数_11">【引数】</h5>
<div class="paragraph">
<p>なし</p>
</div>
</div>
<div class="sect4">
<h5 id="_説明_11">【説明】</h5>
<div class="paragraph">
<p>システム情報表示
スタックアドレス、ヒープアドレス、SRAM未使用サイズ、キーワード数を表示します。</p>
</div>
<div class="paragraph">
<p>本コマンドは、「Tiny BASIC for Arduino STM32」のプログラム本体を拡張・改造した際の、リソース残量を把握するために利用します。</p>
</div>
</div>
<div class="sect4">
<h5 id="_エラーメッセージ_11">【エラーメッセージ】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"></dt>
<dd>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Syntax error</strong></dt>
<dd>
<p>文法エラー、書式と異なる利用を行った、引数に数値以外を指定した</p>
</dd>
</dl>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_利用例_11">【利用例】</h5>
<div class="literalblock">
<div class="title">システム情報を表示する</div>
<div class="content">
<pre>sysinfo
Stack Top:20004F87
Heap Top :20004AB8
SRAM Free:1231
symbol Num:216
OK</pre>
</div>
</div>
<hr>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_プログラム管理_2">3.3. プログラム管理</h3>
<div class="sect3">
<h4 id="CLV">3.3.1. CLV</h4>
<div class="paragraph">
<p>変数領域の初期化</p>
</div>
<div class="sect4">
<h5 id="_書式_12">【書式】</h5>
<div class="paragraph">
<p><strong><a href="#CLV">CLV</a></strong></p>
</div>
</div>
<div class="sect4">
<h5 id="_引数_12">【引数】</h5>
<div class="paragraph">
<p>なし</p>
</div>
</div>
<div class="sect4">
<h5 id="_説明_12">【説明】</h5>
<div class="paragraph">
<p>変数領域（変数、配列）の初期化を行います。<br>
変数A～Z、A0～Z6、配列@(0)～@(99)はすべて0に初期化されます。<br></p>
</div>
<div class="paragraph">
<p><strong><a href="#LRUN">LRUN</a></strong> コマンドにてプログラムをロードして実行する場合、変数領域は初期化されません。<br>
これにより呼び出し元のプログラムの変数を引き継ぐことが出来ます。<br>
呼び出されたプログラムにて明示的に変数領域の初期化を行う場合は、<strong><a href="#CLV">CLV</a></strong> コマンドを使って下さい。<br></p>
</div>
</div>
<div class="sect4">
<h5 id="_エラーメッセージ_12">【エラーメッセージ】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Syntax error</dt>
<dd>
<p>文法エラー、書式と異なる利用を行った</p>
</dd>
<dt class="hdlist1">Overflow</dt>
<dd>
<p>指定した数値が-32768 ～ 32767を超えている</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_利用例_12">【利用例】</h5>
<div class="listingblock">
<div class="title">変数Aに値を代入後、初期化する</div>
<div class="content">
<pre>a=123
OK
?a
123
OK
CLV
OK
?a
0
OK</pre>
</div>
</div>
<hr>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect3">
<h4 id="CONSOLE">3.3.2. CONSOLE</h4>
<div class="paragraph">
<p>コンソール画面切替</p>
</div>
<div class="sect4">
<h5 id="_書式_13">【書式】</h5>
<div class="paragraph">
<p><strong><a href="#CONSOLE">CONSOLE</a></strong> モード</p>
</div>
</div>
<div class="sect4">
<h5 id="_引数_13">【引数】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">モード</dt>
<dd>
<p>0 ～ 1 の整数 または 定数 OFF、ON</p>
</dd>
</dl>
</div>
<table class="tableblock frame-all grid-all fit-content">
<caption class="title">表 1. モードの引数の詳細</caption>
<colgroup>
<col>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">モード</th>
<th class="tableblock halign-center valign-middle">機能</th>
<th class="tableblock halign-left valign-middle">説明</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>OFF<br>
（0）</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">デバイスコンソール</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">コンソール画面をデバイス画面に切り替えます。<br>
デバイス画面はNTSC、OLEDディスプレイ、TFTディスプレイです。</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>ON<br>
（1）</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">シリアルコンソール</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">コンソール画面をシリアルターミナル画面に切り替えます。<br>
USBシリアル、シリアルポート接続のシリアルコンソールが利用可能です。</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_説明_13">【説明】</h5>
<div class="paragraph">
<p>コンソール画面の切替を行います。<br></p>
</div>
<div class="paragraph">
<p>モードの指定で、デバイスコンソールを指定した場合、利用している表示デバイス（NTSC、OLED、TFT）がコンソール画面となります。<br>
シリアルコンソールを指定した場合、USBシリアルまたはシリアルポート接続のシリアルターミナルがコンソール画面となります。</p>
</div>
<div class="paragraph">
<p>シリアルコンソールでは、パソコン上のターミナルソフトにてスクリーン編集を行うことが出来ます。デフォルトでは２つのシリアルポート（USBシリアル、シリアル端子PA9、PA10)のうち、USBシリアルがスクリーン編集用として機能します。<br></p>
</div>
<div class="paragraph">
<p>シリアルポートをスクリーン編集用に利用する場合は、<strong><a href="#SMODE">SMODE</a></strong> コマンドを使うことで、利用することが出来ます。<br></p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"></dt>
<dd>
<p><strong>例</strong> ： シリアルコンソールをシリアルポートに切り替える</p>
</dd>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre>SMODE 1,"115200"</pre>
</div>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">注意</div>
</td>
<td class="content">
シリアルコンソールに切り替えた場合、PS/2キーボードを利用することは出来ません。<br>
パソコン等のシリアルコンソール無しでの利用環境での切り替えにおいてはご注意下さい。
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>シリアルコンソールを利用している状態で <strong><a href="#SCREEN">SCREEN</a></strong> コマンドを実行した場合、デバイスコンソールに切り替わり、指定したスクリーンモードの設定が反映されます。
シリアルコンソールからデバイスコンソールに切り替えた場合、スクリーンモードはデフォルトの設定となります。</p>
</div>
</div>
<div class="sect4">
<h5 id="_補足">【補足】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">起動直後のモードについて</dt>
<dd>
<p>デフォルトではモード：0（デバイスコンソール）となります(コンソール版を除く) 。<br>
ただし、次の設定を行うことでモード：1（シリアルコンソール）に切り替えることが出来ます。<br></p>
</dd>
<dt class="hdlist1"></dt>
<dd>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>設定</strong></dt>
<dd>
<p>ボート上の <strong>BOOT1</strong> のジャンパーピンを1にセットして起動する</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"></dt>
<dd>
<p>さらに、上記の設定と併用して、<br>
SWCLK( PA14 )ピンをHIGH(VCC接続)の場合、USBシリアルではなくシリアルポート（PA9、PA10）をシリアルコンソール画面として利用することが出来ます。</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_エラーメッセージ_13">【エラーメッセージ】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Syntax error</dt>
<dd>
<p>文法エラー、書式と異なる利用を行った、引数に数値以外を指定した</p>
</dd>
<dt class="hdlist1">Illegal value</dt>
<dd>
<p>指定した引数の値が範囲外である</p>
</dd>
<dt class="hdlist1">Overflow</dt>
<dd>
<p>指定した数値が-32767 ～ 32767を超えている</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_利用例_13">【利用例】</h5>
<div class="paragraph">
<p>コンソール画面をシリアルコンソールに切り替える</p>
</div>
<div class="listingblock">
<div class="content">
<pre>CONSOLE ON</pre>
</div>
</div>
<hr>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect3">
<h4 id="DELETE">3.3.3. DELETE</h4>
<div class="paragraph">
<p>プログラムの指定行削除</p>
</div>
<div class="sect4">
<h5 id="_書式_14">【書式】</h5>
<div class="paragraph">
<p><strong><a href="#DELETE">DELETE</a></strong> 行番号<br>
<strong><a href="#DELETE">DELETE</a></strong> 先頭行番号, 末尾行番号<br></p>
</div>
</div>
<div class="sect4">
<h5 id="_引数_14">【引数】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">行番号</dt>
<dd>
<p>削除対象の行番号:		1～32767</p>
</dd>
<dt class="hdlist1">先頭行番号</dt>
<dd>
<p>削除対象範囲の先頭番号:	1～32767</p>
</dd>
<dt class="hdlist1">末尾行番号</dt>
<dd>
<p>削除対象範囲の末尾番号:	1～32767</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_説明_14">【説明】</h5>
<div class="paragraph">
<p>プログラム内の指定した行、指定した範囲（先頭行番号、末尾行番号）の行を削除します。</p>
</div>
</div>
<div class="sect4">
<h5 id="_エラーメッセージ_14">【エラーメッセージ】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Syntax error</dt>
<dd>
<p>文法エラー、書式と異なる利用を行った、引数に数値以外を指定した</p>
</dd>
<dt class="hdlist1">Overflow</dt>
<dd>
<p>指定した数値が-32768 ～ 32767を超えている</p>
</dd>
<dt class="hdlist1">Illegal value</dt>
<dd>
<p>先頭番号と末尾番号の指定に矛盾がある</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_利用例_14">【利用例】</h5>
<div class="paragraph">
<p>プログラム内の20行から50行の範囲を削除する</p>
</div>
<div class="listingblock">
<div class="content">
<pre>10 ? "AAAAAA"
20 ? "BBBBBB"
30 ? "CCCCCC"
40 ? "DDDDDD"
50 ? "EEEEEE"
60 ? "FFFFFF"
70 ? "GGGGGG"

DELETE 20,50
OK
LIST
10 ? "AAAAAA"
60 ? "FFFFFF"
70 ? "GGGGGG"
OK</pre>
</div>
</div>
<hr>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect3">
<h4 id="ERASE">3.3.4. ERASE</h4>
<div class="paragraph">
<p>フラッシュメモリのプログラム削除</p>
</div>
<div class="sect4">
<h5 id="_書式_15">【書式】</h5>
<div class="paragraph">
<p><strong><a href="#ERASE">ERASE</a></strong> プログラム番号<br>
<strong><a href="#ERASE">ERASE</a></strong> 開始プログラム番号 , 終了プログラム番号<br></p>
</div>
</div>
<div class="sect4">
<h5 id="_引数_15">【引数】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">プログラム番号</dt>
<dd>
<p>削除対象のプログラム番号： 0 ～ 5</p>
</dd>
<dt class="hdlist1">開始プログラム番号</dt>
<dd>
<p>削除範囲の開始プログラム番号：0 ～ 5</p>
</dd>
<dt class="hdlist1">終了プログラム番号</dt>
<dd>
<p>削除範囲の終了プログラム番号： 0 ～ 5</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_説明_15">【説明】</h5>
<div class="paragraph">
<p>マイコン内のフラッシュメモリに保存されているプログラム(プログラム番号0～5)の削除を行います。<br>
削除対象プログラムは、コマンド引数にてプログラム番号を指定するか、<br>
削除するプログラム番号の範囲（開始プログラム番号、終了プログラム番号）を指定します。<br></p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">注意</div>
</td>
<td class="content">
豊四季Tiny BASIC for Arduino STM32 のスケッチを書き込み後、<br>
<strong><a href="#FILES">FILES</a></strong> コマンドにてプログラム一覧を表示した場合、<br>
意味不明の文字列が大量に表示される場合があります。<br>
この場合は <strong><a href="#ERASE">ERASE</a></strong> コマンドを実行して、プログラム保存領域を初期化して下さい。
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_エラーメッセージ_15">【エラーメッセージ】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Syntax error</dt>
<dd>
<p>書式と異なる利用を行った、プログラム番号に変数、式を指定した</p>
</dd>
<dt class="hdlist1">Illegal value</dt>
<dd>
<p>プログラム番号の指定が0～5の範囲外である</p>
</dd>
<dt class="hdlist1">Overflow</dt>
<dd>
<p>指定した数値が-32768 ～ 32767を超えている</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_利用例_15">【利用例】</h5>
<div class="listingblock">
<div class="title">フラッシュメモリに保存されている全てのプログラムの削除を行う</div>
<div class="content">
<pre>ERASE 0,5
OK
FILES
0:(none)
1:(none)
2:(none)
3:(none)
4:(none)
5:(none)
OK</pre>
</div>
</div>
<hr>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect3">
<h4 id="EXPORT">3.3.5. EXPORT</h4>
<div class="paragraph">
<p>フラッシュメモリ内プログラムのエクスポート</p>
</div>
<div class="sect4">
<h5 id="_書式_16">【書式】</h5>
<div class="paragraph">
<p><strong><a href="#EXPORT">EXPORT</a></strong><br>
<strong><a href="#EXPORT">EXPORT</a></strong> 対象番号<br>
<strong><a href="#EXPORT">EXPORT</a></strong> 開始番号 , 終了番号</p>
</div>
</div>
<div class="sect4">
<h5 id="_引数_16">【引数】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">対象番号</dt>
<dd>
<p>エクスポートするプログラム保存番号: 0 ～ 5</p>
</dd>
<dt class="hdlist1">開始番号,終了番号</dt>
<dd>
<p>エクスポートするプログラム保存番号の範囲: 0 ～ 5</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_説明_16">【説明】</h5>
<div class="paragraph">
<p>マイコン内のフラッシュメモリに保存されているプログラム(プログラム番号0～5)を出力表示します。<br>
ターミナルソフト等を利用することにより、出力表示されたプログラムリストをコピーすることで、<br>
内部保存されたプログラムのバックアップを行うことが出来ます。<br></p>
</div>
<div class="paragraph">
<p>引数に何も指定しない場合は、0 ～ 5までの全てのプログラムを画面に出力します。<br>
対象番号を指定した場合は、該当するプログラム番号の内容のみ出力します。<br>
開始番号と終了番号を指定した場合はその範囲のプログラムを出力します。<br></p>
</div>
<div class="paragraph">
<p>出力形式は次の形式となります。<br></p>
</div>
<div class="listingblock">
<div class="title">出力例</div>
<div class="content">
<pre>NEW
10 'oscilloscope
20 CLS
30 GPIO PB1,ANALOG
40 "LOOP"
50 R=ANA(PB1)
60 Q=R/20
70 LOCATE 0,0:?R;"   "
80 PSET 223,221-Q,1
90 WAIT 50
100 GSCROLL 0,8,GW-1,GH-1,LEFT
110 GOTO "LOOP"
SAVE 1</pre>
</div>
</div>
<div class="paragraph">
<p>プログラム番号毎のプログラムリストの先頭に <strong><a href="#NEW">NEW</a></strong> コマンド、末尾に <strong><a href="#SAVE">SAVE</a> プログラム番号</strong> が付加されます。<br>
ターミナルソフトにペーストすることにより、フラッシュメモリ内に再登録することが出来ます。<br></p>
</div>
</div>
<div class="sect4">
<h5 id="_エラーメッセージ_16">【エラーメッセージ】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Syntax error</dt>
<dd>
<p>書式と異なる利用を行った、プログラム番号に変数、式を指定した</p>
</dd>
<dt class="hdlist1">Illegal value</dt>
<dd>
<p>指定した引数が有効範囲を超えている</p>
</dd>
<dt class="hdlist1">Overflow</dt>
<dd>
<p>指定した数値が-32768 ～ 32767を超えている</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_利用例_16">【利用例】</h5>
<div class="listingblock">
<div class="title">プログラム番号1,2に保存されているプログラムのエクスポート</div>
<div class="content">
<pre>EXPORT 1,2
NEW
10 'oscilloscope
20 CLS
30 GPIO PB01,ANALOG
40 "LOOP"
50 R=ANA(PB01)
60 Q=R/20
70 LOCATE 0,0:?R;"   "
80 PSET GW-1,GH-Q-4,1
90 WAIT 50
100 GSCROLL 8,208,3
110 GOTO "LOOP"
SAVE 1

NEW
10 CLS
20 RECT 0,0,GW,GH,1,1
30 RESETTICK
40 FOR I=0 TO 215
50 FOR X=0 TO 200 STEP 16
60 GSCROLL X,0,8,GH,0
70 GSCROLL X+8,0,8,GH,1
80 NEXT X
100 NEXT I
110 ?TICK()
120 GOTO 120
SAVE 2

OK</pre>
</div>
</div>
<hr>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect3">
<h4 id="FILES">3.3.6. FILES</h4>
<div class="paragraph">
<p>プログラム一覧表示</p>
</div>
<div class="sect4">
<h5 id="_書式_17">【書式】</h5>
<div class="paragraph">
<p><strong><a href="#FILES">FILES</a></strong><br>
<strong><a href="#FILES">FILES</a></strong> 開始プログラム番号<br>
<strong><a href="#FILES">FILES</a></strong> 開始プログラム番号, 終了プログラム番号<br>
<strong><a href="#FILES">FILES</a></strong> "ファイルパス"<br></p>
</div>
</div>
<div class="sect4">
<h5 id="_引数_17">【引数】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">開始プログラム番号</dt>
<dd>
<p>表示開始プログラム番号: 0～5</p>
</dd>
<dt class="hdlist1">終了プログラム番号</dt>
<dd>
<p>表示終了プログラム番号: 0～5</p>
</dd>
<dt class="hdlist1">"ファイルパス"</dt>
<dd>
<p>SDカード内のディレクトリまたはファイル名(ワイルドカード指定可能）</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_説明_17">【説明】</h5>
<div class="paragraph">
<p>マイコン内のフラッシュメモリに保存されているプログラムまたは、SDカード内に保存されているファイルの一覧を表示します。<br></p>
</div>
<div class="paragraph">
<p>引数を指定しない場合は、内部フラッシュメモリ内のプログラム番号0～5の先頭行をリスト表示します。開始プログラム番号,終了プログラム番号を指定した場合、その範囲のリストを表示します。<br>
プログラム番号にプログラムが保存されていない場合は(none)と表示されます。<br>
保存されている場合は先頭行の内容の一部を表示します。<br>
プログラム先頭行にコメントをつけると、一覧表示でのプログラムの内容が分かり易くなります。<br></p>
</div>
<div class="listingblock">
<div class="title">例</div>
<div class="content">
<pre>files
0:'Edit bitmap
1:'RTC TEST
2:(none)
3:(none)
4:(none)
5:1'LED Blink
OK</pre>
</div>
</div>
<div class="paragraph">
<p>引数にファイルパスを指定した場合、SDカード内のファイルを一覧表示します。<br>
ファイル名は8.3形式となります。<br>
ファイルパスには、ディレクトリ名、ディレクトリ名＋ファイル名(ワイルドカード指定可能）の記述が可能です。ワイルドカードは、*と?が利用可能です。ディレクトリ名指定の上位、下位の"/"は省略可能です。""と"/"は同じ出力となります。<br></p>
</div>
<div class="listingblock">
<div class="title">ファイル名の指定例</div>
<div class="content">
<pre>FILES ""
FILES "/"
FILES "/*"
FILES "/SRC/"
FILES "/SRC"
FILES "/SRC/SAMPLE/"
FILES "SRC/"
FILES "SRC/*.BAS"
FILES "SRC/*.B??"</pre>
</div>
</div>
<div class="paragraph">
<p>出力されるファイル一覧の順番は不定となります。ディレクトリファイルの場合は、ファイル名の最後に*が付きます。<br></p>
</div>
<div class="listingblock">
<div class="title">ファイル一覧の出力例</div>
<div class="content">
<pre>files "*.bas"
TEST.BAS      TIME.BAS
TM.BAS        SOKUDO.BAS
ﾄｹｲ.BAS       ﾄｹｲ2.BAS
TEST2.BAS     TESTBMP.BAS
AA.BAS        1.BAS
2.BAS         3.BAS
ｻｯﾁｬﾝ.BAS     SUB.BAS
ｹｲｿｸ.BAS      DAT*</pre>
</div>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">注意</div>
</td>
<td class="content">
豊四季Tiny BASIC for Arduino STM32のファームウェアの新規書き込みまたは更新を行った直後は、フラッシュメモリ上の既存データの内容の不整合により正しく表示できない場合があります。その場合は、<strong><a href="#ERASE">ERASE</a></strong> コマンドにてフラッシュメモリ上のプログラムの消去を行って下さい。
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_エラーメッセージ_17">【エラーメッセージ】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Syntax error</dt>
<dd>
<p>書式と異なる利用を行った、プログラム番号に変数、式を指定した</p>
</dd>
<dt class="hdlist1">Illegal value</dt>
<dd>
<p>指定した開始プログラム番号,終了プログラム番号の値が正しくない。</p>
</dd>
<dt class="hdlist1">Bad file name</dt>
<dd>
<p>指定したファイル名が正しくない</p>
</dd>
<dt class="hdlist1">SD I/O error</dt>
<dd>
<p>SDカードの利用が出来ない</p>
</dd>
<dt class="hdlist1">File read error</dt>
<dd>
<p>SDカードからのファイル読み込みに失敗した</p>
</dd>
<dt class="hdlist1">Overflow</dt>
<dd>
<p>指定した数値が-32768 ～ 32767を超えている</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_利用例_17">【利用例】</h5>
<div class="listingblock">
<div class="title">シリアルコンソール画面でSDカード内のファイル一覧を表示する。</div>
<div class="content">
<pre>OK
files ""
TEST.BAS      SYSTEM~1*     FONT.BIN      FOUND.000*    TIME.BAS
TM.BAS        SOKUDO.BAS    ﾄｹｲ.BAS       TIME2.BAS     ﾄｹｲ2.BAS
FONTLCD.BIN   PAC.BAS       PAC1.BAS      AKABE.IMG     PAC2.BAS
PAC0.BAS      T1.BAS        NEKO_P.BAS    TEST2.BAS     TESTBMP.BAS
AA.BAS        DIR1*         VRAM.BIN      A.BIN         B.BIN
1.BAS         2.BAS         3.BAS         ｻｯﾁｬﾝ.BAS     SUB.BAS
ｹｲｿｸ.BAS      SAMPLE*       TT.BAS        TEST*         MEM.BIN
SS1306.BAS    DS3231.BAS    OLED.BAS      OLED2.BAS     RR.BAS
N1.BAS        T11.BAS       OLEDﾖｺ.BAS    CAT*          CAT.JPG
CAT2.JPG      INDEX.HTM     NEXT.HTM      T12.BAS       T13.BAS
T14.BAS       T15.BAS       OLEDﾛｺﾞ.BAS   TEST.TXT      TEST1.BAS
TEST3.BAS     TEST4.BAS     ﾒﾓﾘｰMAP.BAS   CHAROUT.BAS   HAROUT.BAS
STR_01.BAS    T2.BIN        T1.BIN        GDATA.BIN     LIFE.BAS
NEKO_P2.BAS   TFT_PSET.BAS  TFT_LINE.BAS  TFT_C.BAS     TFTBMP.BAS
NAME.BAS      MESSAGE.BAS   BMP*          TT.BMP        CAT.BMP
IMG.BMP       LOGO.BMP      LOGO3.BMP     MSG.BMP       MSG2.BMP

OK</pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">補足</div>
</td>
<td class="content">
表示する横の列数は、スクリーンの横のサイズに応じて調整されます。
</td>
</tr>
</table>
</div>
<hr>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect3">
<h4 id="FREES">3.3.7. FREE</h4>
<div class="paragraph">
<p>プログラム領域残量取得</p>
</div>
<div class="sect4">
<h5 id="_書式_18">【書式】</h5>
<div class="paragraph">
<p><strong><a href="#FREES">FREE()</a></strong></p>
</div>
</div>
<div class="sect4">
<h5 id="_引数_18">【引数】</h5>
<div class="paragraph">
<p>なし</p>
</div>
</div>
<div class="sect4">
<h5 id="_戻り値">【戻り値】</h5>
<div class="paragraph">
<p>プログラム領域の残りバイト数： 0 ～ 4095</p>
</div>
</div>
<div class="sect4">
<h5 id="_説明_18">【説明】</h5>
<div class="paragraph">
<p>プログラム領域の残りバイト数を返します。<br>
作成したプログラムサイズを確認する場合は、下記の記述にて行うことが可能です。<br></p>
</div>
<div class="listingblock">
<div class="title">プログラムサイズを調べる</div>
<div class="content">
<pre>PRINT 4095-FREE()</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_エラーメッセージ_18">【エラーメッセージ】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Syntax error</dt>
<dd>
<p>文法エラー、書式と異なる利用を行った</p>
</dd>
<dt class="hdlist1">'(' or ')' expected</dt>
<dd>
<p>引数部の記述が正しくない</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_利用例_18">【利用例】</h5>
<div class="listingblock">
<div class="title">プログラムサイズを調べる</div>
<div class="content">
<pre>PRINT 4095-FREE()
287
OK</pre>
</div>
</div>
<hr>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect3">
<h4 id="LIST">3.3.8. LIST</h4>
<div class="paragraph">
<p>プログラムリストの表示</p>
</div>
<div class="sect4">
<h5 id="_書式_19">【書式】</h5>
<div class="paragraph">
<p><strong><a href="#LIST">LIST</a></strong><br>
<strong><a href="#LIST">LIST</a></strong> 表示開始行番号<br>
<strong><a href="#LIST">LIST</a></strong> 表示開始行番号, 表示終了行番号</p>
</div>
</div>
<div class="sect4">
<h5 id="_引数_19">【引数】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">表示開始行番号</dt>
<dd>
<p>表示を開始する行番号（0 ～ 32767）</p>
</dd>
<dt class="hdlist1">表示終了行番号</dt>
<dd>
<p>表示を終了する行番号（0 ～ 32767）</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_説明_19">【説明】</h5>
<div class="paragraph">
<p>プログラムリストの表示を行います。<br>
引数を指定しない場合は、全てのプログラムを表示します。<br>
表示開始番号のみ指定した場合は、その行番号のプログラムリストを表示します。<br>
表示開始番号、表示終了番号を指定した場合は、そこ範囲のプログラムリストを表示します。<br></p>
</div>
<div class="paragraph">
<p>表示したプログラムリストは、カーソルを移動して編集することが出来ます。<br>
編集した行は必ず <kbd>ENTER</kbd> キーを押して入力確定を行って下さい。<br></p>
</div>
</div>
<div class="sect4">
<h5 id="_エラーメッセージ_19">【エラーメッセージ】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Syntax error</dt>
<dd>
<p>文法エラー、書式と異なる利用を行った、引数に数値以外を指定した</p>
</dd>
<dt class="hdlist1">Overflow</dt>
<dd>
<p>指定した数値が-32768 ～ 32767を超えている</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_利用例_19">【利用例】</h5>
<div class="listingblock">
<div class="title">プログラムのリストを表示する</div>
<div class="content">
<pre>LIST
10 I=0
20 PRINT "*";
30 I=I+1:IF I&lt;10 GOTO 20
40 PRINT
50 END
OK</pre>
</div>
</div>
<div class="listingblock">
<div class="title">プログラムの20行から30行を表示する</div>
<div class="content">
<pre>list 20,30
20 PRINT "*";
30 I=I+1:IF I&lt;10 GOTO 20
OK</pre>
</div>
</div>
<hr>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect3">
<h4 id="LOAD">3.3.9. LOAD</h4>
<div class="paragraph">
<p>プログラムの読み込み</p>
</div>
<div class="sect4">
<h5 id="_書式_20">【書式】</h5>
<div class="paragraph">
<p><strong><a href="#LOAD">LOAD</a></strong><br>
<strong><a href="#LOAD">LOAD</a></strong> プログラム番号<br>
<strong><a href="#LOAD">LOAD</a></strong> "ファイル名"<br>
<strong><a href="#LOAD">LOAD</a></strong> "ファイル名", モード<br></p>
</div>
</div>
<div class="sect4">
<h5 id="_引数_20">【引数】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">プログラム番号</dt>
<dd>
<p>内部フラッシュメモリのプログラム番号 0 ～ 5</p>
</dd>
<dt class="hdlist1">"ファイル名"</dt>
<dd>
<p>ディレクトリパス(省略可能)+ファイル8文字+拡張子3文字 の形式（63文字まで）</p>
</dd>
<dt class="hdlist1">モード</dt>
<dd>
<p>0: <strong>上書きモード</strong> （デフォルト）、1: <strong>追記モード</strong><br>
SDカードからの読み込み時のみ指定可能</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_説明_20">【説明】</h5>
<div class="paragraph">
<p>内部フラッシュメモリ、または外付けSDカードからプログラムを読み込みます。<br></p>
</div>
<div class="paragraph">
<p>引数を省略した場合は、内部フラッシュメモリのプログラム番号を読み込みます。<br>
引数にプログラム番号を指定した場合は、指定したプログラム番号を読み込みます。<br>
プログラムを読込の際、<strong>変数は初期化</strong> されます。<br></p>
</div>
<div class="paragraph">
<p>引数にファイル名を指定した場合、SDカードからプログラムを読み込みます。<br>
ファイル形式は、テキスト形式またはバイナリ形式(SAVE時にバイナリ形式指定）対応しています。<br></p>
</div>
<div class="paragraph">
<p>ファイル名にはディレクトリパスを付けることが出来ます。<br>
ファイル名には大文字小文字の区別はありません。<br></p>
</div>
<div class="listingblock">
<div class="title">ファイル名の指定例</div>
<div class="content">
<pre>LOAD "/SAMPLE/TEST.BAS"
LOAD "/PRG1.BAS"
LOAD "PRG1.BAS"</pre>
</div>
</div>
<div class="paragraph">
<p>ＳＤカードからの読み込みには、引数のモードにて<br>
0 : <strong>上書きモード</strong>、 1 : <strong>追記モード</strong> を指定することが出来ます。<br></p>
</div>
<div class="paragraph">
<p><strong>上書きモード</strong> の場合、メモリー上のプログラムの初期化後に読み込みます。<br>
変数領域は初期化されます。<br></p>
</div>
<div class="paragraph">
<p><strong>追記モード</strong> の場合、メモリー上の既存プログラムに追記して読み込みを行います。<br>
ただし、行番号が同じ行は上書きされます。<br>
また、変数領域は初期化されません。<br></p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">注意</div>
</td>
<td class="content">
バイナリー形式で <strong><a href="#SAVE">SAVE</a></strong> したプログラムを追記モードで読み込む場合、<br>
読み込むプログラムの行番号が既存プログラムよりも若い番号が付いている場合、<br>
行番号の重複や行並びに不整合が生じます。<br>
追記するプログラムは、あらかじめ大きい行番号を付けて下さい。
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_エラーメッセージ_20">【エラーメッセージ】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Syntax error</dt>
<dd>
<p>書式と異なる利用を行った、プログラム番号に変数、式を指定した</p>
</dd>
<dt class="hdlist1">Illegal value</dt>
<dd>
<p>プログラム番号の指定が0～5の範囲外である</p>
</dd>
<dt class="hdlist1">Program not found</dt>
<dd>
<p>指定したプログラム番号にプログラムが保存されていない</p>
</dd>
<dt class="hdlist1">Bad file name</dt>
<dd>
<p>指定したファイル名が正しくない</p>
</dd>
<dt class="hdlist1">SD I/O error</dt>
<dd>
<p>SDカードの利用が出来ない</p>
</dd>
<dt class="hdlist1">File read error</dt>
<dd>
<p>SDカードからのファイル読み込みに失敗した</p>
</dd>
<dt class="hdlist1">Overflow</dt>
<dd>
<p>指定した数値が-32767 ～ 32767を超えている</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_利用例_20">【利用例】</h5>
<div class="listingblock">
<div class="title">プログラム番号1を読み込む</div>
<div class="content">
<pre>LOAD 1
OK</pre>
</div>
</div>
<hr>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect3">
<h4 id="LRUN">3.3.10. LRUN</h4>
<div class="paragraph">
<p>指定プログラム番号の実行</p>
</div>
<div class="sect4">
<h5 id="_書式_21">【書式】</h5>
<div class="paragraph">
<p><strong><a href="#LRUN">LRUN</a></strong> プログラム番号<br>
<strong><a href="#LRUN">LRUN</a></strong> プログラム番号 ,行番号<br>
<strong><a href="#LRUN">LRUN</a></strong> プログラム番号 ,"ラベル"<br>
<strong><a href="#LRUN">LRUN</a></strong> "ファイル名"<br>
<strong><a href="#LRUN">LRUN</a></strong> "ファイル名" ,行番号<br>
<strong><a href="#LRUN">LRUN</a></strong> "ファイル名" ,"ラベル"<br></p>
</div>
</div>
<div class="sect4">
<h5 id="_引数_21">【引数】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">プログラム番号</dt>
<dd>
<p>実行するプログラムの番号： 0 ～ 5</p>
</dd>
<dt class="hdlist1">"ファイル名"</dt>
<dd>
<p>"ディレクトリパス(省略可能)+ファイル8文字+拡張子3文字" の形式</p>
</dd>
<dt class="hdlist1">行番号</dt>
<dd>
<p>プログラムの実行開始行番号： 1～32767</p>
</dd>
<dt class="hdlist1">"ラベル"</dt>
<dd>
<p>プログラムの実行開始行のラベル指定</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_説明_21">【説明】</h5>
<div class="paragraph">
<p>プログラム番号またはファイル名で指定したプログラムを実行します。<br>
第1引数に数値を指定した場合は、内部フラッシュメモリから指定したプログラム番号のプログラムを読み込んで実行します。ファイル名を指定した場合は、SDカードから指定ファイルを読み込んで実行します。<br>
第2引数に行番号またはラベルの指定がある場合は、その行からプログラムの実行を開始します。<br></p>
</div>
<div class="paragraph">
<p>ファイル名の指定には、<strong><a href="#PRINT">PRINT</a></strong> 文と同等の記述(文字列関数の利用、文字の結合等)が可能です。<br></p>
</div>
<div class="listingblock">
<div class="title">変数Nの値でファイル名を作成し、プログラムを実行する</div>
<div class="content">
<pre>10 INPUT "PROG NO=",N,0
20 IF N=0 OR N&gt;9 GOTO 10
20 LRUN #-2,"PRG";"N;".BAS"</pre>
</div>
</div>
<div class="paragraph">
<p>上記の例では、Nの値が1～9の場合には 対応する"PRG01.BAS"～"PROG09.BAS"をロードして実行します。<br></p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">注意</div>
</td>
<td class="content">
<strong><a href="#LRUN">LRUN</a></strong> にてプログラムを実行し場合、変数領域の初期化は行われません。直前のプログラムが設定した変数の値を引き継ぎます。初期化が必要な場合は呼び出されたプログラム中で <strong><a href="#CLV">CLV</a></strong> コマンドを実行して下さい。
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_エラーメッセージ_21">【エラーメッセージ】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Syntax error</dt>
<dd>
<p>文法エラー、書式と異なる利用を行った</p>
</dd>
<dt class="hdlist1">Illegal value</dt>
<dd>
<p>プログラム番号の指定が0～5の範囲外である</p>
</dd>
<dt class="hdlist1">Program not found</dt>
<dd>
<p>指定したプログラム番号にプログラムが保存されていない</p>
</dd>
<dt class="hdlist1">Bad file name</dt>
<dd>
<p>指定したファイル名が正しくない</p>
</dd>
<dt class="hdlist1">SD I/O error</dt>
<dd>
<p>SDカードの利用が出来ない</p>
</dd>
<dt class="hdlist1">File read error</dt>
<dd>
<p>SDカードからのファイル読み込みに失敗した</p>
</dd>
<dt class="hdlist1">Overflow</dt>
<dd>
<p>指定した数値が-32768 ～ 32767を超えている</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_利用例_21">【利用例】</h5>
<div class="listingblock">
<div class="title">入力したプログラム番号を実行する。</div>
<div class="content">
<pre>10 INPUT N
20 LRUN N</pre>
</div>
</div>
<hr>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect3">
<h4 id="NEW">3.3.11. NEW</h4>
<div class="paragraph">
<p>プログラムの消去</p>
</div>
<div class="sect4">
<h5 id="_書式_22">【書式】</h5>
<div class="paragraph">
<p><strong><a href="#NEW">NEW</a></strong></p>
</div>
</div>
<div class="sect4">
<h5 id="_引数_22">【引数】</h5>
<div class="paragraph">
<p>なし</p>
</div>
</div>
<div class="sect4">
<h5 id="_説明_22">【説明】</h5>
<div class="paragraph">
<p>プログラム領域のプログラム、変数、配列変数を消去します。</p>
</div>
</div>
<div class="sect4">
<h5 id="_エラーメッセージ_22">【エラーメッセージ】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Syntax error</dt>
<dd>
<p>文法エラー、書式と異なる利用を行った、引数に数値以外を指定した</p>
</dd>
<dt class="hdlist1">Overflow</dt>
<dd>
<p>指定した数値が-32768 ～ 32767を超えている</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_利用例_22">【利用例】</h5>
<div class="listingblock">
<div class="content">
<pre>.プログラムを消去する
LIST
10 I=0
20 PRINT "*";
30 I=I+1:IF I&lt;10 GOTO 20
40 PRINT
50 END
OK</pre>
</div>
</div>
<div class="listingblock">
<div class="title">実行結果</div>
<div class="content">
<pre>run
**********
OK
?I
10
OK
NEW
OK
LIST
OK
?I
0
OK</pre>
</div>
</div>
<hr>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect3">
<h4 id="REM">3.3.12. REM</h4>
<div class="paragraph">
<p>コメント</p>
</div>
<div class="sect4">
<h5 id="_書式_23">【書式】</h5>
<div class="paragraph">
<p><strong><a href="#REM">REM</a></strong> コメント<br>
<strong><a href="#REM">'</a></strong> コメント<br></p>
</div>
</div>
<div class="sect4">
<h5 id="_引数_23">【引数】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">コメント</dt>
<dd>
<p>任意の文字列</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_説明_23">【説明】</h5>
<div class="paragraph">
<p>プログラムに説明等の記載を行います。<br>
<strong>‘</strong> (シングルクオート)は <strong><a href="#REM">REM</a></strong> の省略形です。<br></p>
</div>
<div class="paragraph">
<p><strong><a href="#REM">REM</a></strong> および <strong>’</strong> 以降の文字以降はすべてコメントとみなし、プログラムとして実行されません。<br>
プログラムの先頭行にコメントを付けた場合、<br>
 <strong><a href="#FILES">FILES</a></strong> コマンドによる、フラシュメモリのプログラム一覧表示時に、<br>
プログラムの見出しとして表示されます。</p>
</div>
</div>
<div class="sect4">
<h5 id="_エラーメッセージ_23">【エラーメッセージ】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Syntax error</dt>
<dd>
<p>文法エラー、書式と異なる利用を行った</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_利用例_23">【利用例】</h5>
<div class="listingblock">
<div class="title">コメントの記述例</div>
<div class="content">
<pre>LIST
1 REM Print starts
10 I=0:’initialize value
20 PRINT "*";
30 I=I+1:IF I&lt;10 GOTO 20
40 PRINT
50 END</pre>
</div>
</div>
<hr>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect3">
<h4 id="RENUM">3.3.13. RENUM</h4>
<div class="paragraph">
<p>行番号の振り直し</p>
</div>
<div class="sect4">
<h5 id="_書式_24">【書式】</h5>
<div class="paragraph">
<p><strong><a href="#RENUM">RENUM</a></strong><br>
<strong><a href="#RENUM">RENUM</a></strong> 開始行番号<br>
<strong><a href="#RENUM">RENUM</a></strong> 開始行番号, 増分<br></p>
</div>
</div>
<div class="sect4">
<h5 id="_引数_24">【引数】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">開始番号</dt>
<dd>
<p>振り直しをする新しい行番号の開始番号
: 0 ～ 32767<br></p>
</dd>
<dt class="hdlist1">増分</dt>
<dd>
<p>行番号の増分：1 ～ 32767<br></p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_説明_24">【説明】</h5>
<div class="paragraph">
<p>プログラム全体の行番号を指定した条件にて振り直します。<br>
引数を省略した場合は、行番号を10行から10間隔で振り直します。<br></p>
</div>
<div class="paragraph">
<p>開始番号のみ指定した場合、指定した開始番号から10間隔で振り直します。<br>
開始番号と増分を指定した場合、指定した開始番号から指定した増分で振り直します。<br>
振り直しにおいて、<strong><a href="#GOTO">GOTO</a></strong> 文、<strong><a href="#GOSUB">GOSUB</a></strong> 文のとび先の行番号も更新されます。<br></p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">注意</div>
</td>
<td class="content">
<strong><a href="#GOTO">GOTO</a></strong> ,<strong><a href="#GOSUB">GOSUB</a></strong> に存在しない行番号を指定している場合、更新は行われません。<br>
また、行番号に計算式を利用している場合、正しい更新が行われない場合があります。<br>
<code>GOTO 100+N*10</code> の記載の場合、先頭の数値100を行番号とみなして更新します。
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_エラーメッセージ_24">【エラーメッセージ】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Syntax error</strong></dt>
<dd>
<p>文法エラー、書式と異なる利用を行った、引数に数値以外を指定した</p>
</dd>
<dt class="hdlist1"><strong>Illegal value</strong></dt>
<dd>
<p>振り直しをする新しい行番号が有効範囲を超えている</p>
</dd>
<dt class="hdlist1"><strong>Overflow</strong></dt>
<dd>
<p>指定した数値が-32768 ～ 32767を超えている</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_利用例_24">【利用例】</h5>
<div class="paragraph">
<p>行番号を100から10間隔で振り直す。</p>
</div>
<div class="listingblock">
<div class="content">
<pre>LIST
10 I=0
20 PRINT "*";
30 I=I+1:IF I&lt;10 GOTO 20
40 PRINT
50 END
OK
RENUM 100,10
OK
LIST
100 I=0
110 PRINT "*";
120 I=I+1:IF I&lt;10 GOTO 110
130 PRINT
140 END</pre>
</div>
</div>
<hr>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect3">
<h4 id="RUN">3.3.14. RUN</h4>
<div class="paragraph">
<p>プログラムの実行</p>
</div>
<div class="sect4">
<h5 id="_書式_25">【書式】</h5>
<div class="paragraph">
<p><strong><a href="#RUN">RUN</a></strong></p>
</div>
</div>
<div class="sect4">
<h5 id="_引数_25">【引数】</h5>
<div class="paragraph">
<p>なし</p>
</div>
</div>
<div class="sect4">
<h5 id="_説明_25">【説明】</h5>
<div class="paragraph">
<p>プログラムの実行を行います。<br>
実行中のプログラムは <kbd>ESC</kbd> キーまたは、<span class="keyseq"><kbd>CTRL</kbd>+<kbd>C</kbd></span> キーにて強制終了することが出来ます。<br>
シリアルコンソール上で <kbd>ESC</kbd> キーにて中断する場合は、<kbd>ESC</kbd> キーを２回押す必要があります。<br></p>
</div>
<div class="paragraph">
<p>プログラムの実行中は、カーソルが非表示となります。<br>
プログラムの実行中は実行すべき次の行が無い場合、実行を終了します。<br>
また <strong><a href="#END">END</a></strong> コマンドにより実行を終了します。<br>
プログラムの実行中にエラーが発生した場合は実行を終了します。<br></p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">注意</div>
</td>
<td class="content">
<strong><a href="#WAIT">WAIT</a></strong> 命令で長い時間待ちを行っている場合は、時間待ちが終了するまで、<br>
<kbd>ESC</kbd> キー、 <span class="keyseq"><kbd>CTRL</kbd>+<kbd>C</kbd></span> キーによる強制終了を行うことが出来ません。 +
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_エラーメッセージ_25">【エラーメッセージ】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1"></dt>
<dd>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Syntax error</strong></dt>
<dd>
<p>文法エラー、書式と異なる利用を行った、引数に数値以外を指定した</p>
</dd>
</dl>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_利用例_25">【利用例】</h5>
<div class="paragraph">
<p>プログラムを実行する。</p>
</div>
<div class="literalblock">
<div class="content">
<pre>LIST
10 I=0
20 PRINT "*";
30 I=I+1:IF I&lt;10 GOTO 20
40 PRINT
50 END
OK

RUN
**********
OK</pre>
</div>
</div>
<hr>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect3">
<h4 id="SAVE">3.3.15. SAVE</h4>
<div class="paragraph">
<p>プログラムの保存</p>
</div>
<div class="sect4">
<h5 id="_書式_26">【書式】</h5>
<div class="paragraph">
<p><strong><a href="#SAVE">SAVE</a></strong><br>
<strong><a href="#SAVE">SAVE</a></strong> プログラム番号<br>
<strong><a href="#SAVE">SAVE</a></strong> "ファイル名"<br>
<strong><a href="#SAVE">SAVE</a></strong> "ファイル名", 保存形式</p>
</div>
</div>
<div class="sect4">
<h5 id="_引数_26">【引数】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">プログラム番号</dt>
<dd>
<p>0 ～ 5</p>
</dd>
<dt class="hdlist1">"ファイル名"</dt>
<dd>
<p>ディレクトリパス(省略可能)+ファイル8文字+拡張子3文字 の形式（63文字まで）</p>
</dd>
<dt class="hdlist1">保存形式</dt>
<dd>
<p>1: テキスト形式（デフォルト）<br>
0: バイナリ形式</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_説明_26">【説明】</h5>
<div class="paragraph">
<p>プログラムをマイコン内のフラッシュメモリ、またはSDカードに保存します。<br></p>
</div>
<div class="paragraph">
<p>引数の省略、数値を指定した場合は内部フラッシュメモリに保存します。<br>
プログラムは最大で6つ保存可能です。保存先はプログラム番号0～5で指定します。<br>
引数の省略した場合、プログラム番号0に保存します。<br></p>
</div>
<div class="paragraph">
<p>ファイル名を指定した場合は、SDカードにプログラムを保存します。<br>
保存形式の指定により、テキスト形式またはバイナリ形式にて保存が行えます。<br>
保存形式を指定しない場合は、テキスト形式で保存されます。<br>
バイナリ形式での保存はプログラム領域4kバイトの全てを保存します。<br></p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">注意</div>
</td>
<td class="content">
NTSC表示版では <strong><a href="#SAVE">SAVE</a></strong> コマンド実行時に画面表示が乱れる場合があります。
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_エラーメッセージ_26">【エラーメッセージ】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Syntax error</dt>
<dd>
<p>書式と異なる利用を行った、プログラム番号に変数、式を指定した</p>
</dd>
<dt class="hdlist1">Illegal value</dt>
<dd>
<p>プログラム番号の指定が0～5の範囲外である</p>
</dd>
<dt class="hdlist1">Bad file name</dt>
<dd>
<p>指定したファイル名が正しくない</p>
</dd>
<dt class="hdlist1">SD I/O error</dt>
<dd>
<p>SDカードの利用が出来ない</p>
</dd>
<dt class="hdlist1">File write error</dt>
<dd>
<p>SDカードへのファイルの書込みに失敗した</p>
</dd>
<dt class="hdlist1">Overflow</dt>
<dd>
<p>指定した数値が-32768 ～ 32767を超えている</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_利用例_26">【利用例】</h5>
<div class="listingblock">
<div class="title">プログラム番号1にプログラムを保存する</div>
<div class="content">
<pre>SAVE 1
OK</pre>
</div>
</div>
<hr>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect3">
<h4 id="WIDTH">3.3.16. WIDTH</h4>
<div class="paragraph">
<p>シリアルコンソール画面サイズ設定</p>
</div>
<div class="sect4">
<h5 id="_書式_27">【書式】</h5>
<div class="paragraph">
<p><strong><a href="#WIDTH">WIDTH</a></strong> 横文字数, 縦文字数</p>
</div>
</div>
<div class="sect4">
<h5 id="_引数_27">【引数】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">横文字数</dt>
<dd>
<p>コンソール画面上のスクリーンの横文字数 16 ～ 128（デフォルト 80)</p>
</dd>
<dt class="hdlist1">縦文字数</dt>
<dd>
<p>コンソール画面上のスクリーンの縦文字数 10 ～ 45（デフォルト 24)</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_説明_27">【説明】</h5>
<div class="paragraph">
<p>シリアルコンソール画面上のスクリーンサイズの設定を行います。<br>
この設定にてスクリーンエディタの表示文字数、スクロール範囲の変更を行うことが出来ます。<br>
スクリーンサイズは、最小サイズ16桁×10行 ～ 最大 128桁×45行 となります。<br></p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">注意</div>
</td>
<td class="content">
デバイスコンソール画面で <strong><a href="#WIDTH">WIDTH</a></strong> コマンドを実行た場合、設定は無視されます。<br>
	また、シリアルコンソール画面への変更直後はデフォルトの80×24となります。
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_エラーメッセージ_27">【エラーメッセージ】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Syntax error</dt>
<dd>
<p>文法エラー、書式と異なる利用を行った、引数に数値以外を指定した</p>
</dd>
<dt class="hdlist1">Illegal value</dt>
<dd>
<p>指定した引数の値が範囲外である</p>
</dd>
<dt class="hdlist1">Overflow</dt>
<dd>
<p>指定した数値が-32768 ～ 32767を超えている</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_利用例_27">【利用例】</h5>
<div class="paragraph">
<p>スクリーンサイズを80桁×30行に設定する</p>
</div>
<div class="listingblock">
<div class="content">
<pre>WIDTH 80,30</pre>
</div>
</div>
<div style="page-break-after: always;"></div>
<hr>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_テキスト画面入出力_2">3.4. テキスト画面入出力</h3>
<div class="sect3">
<h4 id="AATTR">3.4.1. ATTR</h4>
<div class="paragraph">
<p>文字表示属性の設定</p>
</div>
<div class="sect4">
<h5 id="_書式_28">【書式】</h5>
<div class="paragraph">
<p><strong><a href="#AATTR">ATTR</a></strong> 属性</p>
</div>
</div>
<div class="sect4">
<h5 id="_引数_28">【引数】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">属性</dt>
<dd>
<p>属性コード: 0 ～ 4</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_説明_28">【説明】</h5>
<div class="paragraph">
<p>文字の表示属性を設定します。指定した表示属性は以降の文字表示に反映されます。<br>
属性に指定する属性コードは次の表の通りです。<br></p>
</div>
<table class="tableblock frame-all grid-all fit-content">
<caption class="title">表 2. 属性コード</caption>
<colgroup>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">属性コード</th>
<th class="tableblock halign-center valign-top">機能</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>0</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">標準(デフォルト)</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>1</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">下線</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>2</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">反転</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>3</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">ブリンク</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>4</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">ボールド</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">注意</div>
</td>
<td class="content">
ターミナル版のみ利用可能です。
</td>
</tr>
</table>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">注意</div>
</td>
<td class="content">
利用するターミナルソフトにより色が正しく表示されない場合があります。<br>
属性指定との併用では正しく表示されない場合があります。<br>
<kbd>CTRL-R</kbd> 、<kbd>Page UP</kbd> 、<kbd>Page Down</kbd> キー操作を行った場合は<br>
再表示が発生し、色情報は欠落します。
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_エラーメッセージ_28">【エラーメッセージ】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Syntax error</dt>
<dd>
<p>文法エラー、書式と異なる利用を行った</p>
</dd>
<dt class="hdlist1">Illegal value</dt>
<dd>
<p>属性コードに範囲外の値を指定した</p>
</dd>
<dt class="hdlist1">Overflow</dt>
<dd>
<p>指定した数値が-32768 ～ 32767を超えている</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_利用例_28">【利用例】</h5>
<div class="listingblock">
<div class="title">Hello,worldを反転表示する</div>
<div class="content">
<pre>10 CLS
20 LOCATE 5,5
30 ATTR 2:? "Hello,world"
40 ATTR 0</pre>
</div>
</div>
<hr>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect3">
<h4 id="CLS">3.4.2. CLS</h4>
<div class="paragraph">
<p>画面表示内容の全消去</p>
</div>
<div class="sect4">
<h5 id="_書式_29">【書式】</h5>
<div class="paragraph">
<p><strong><a href="#CLS">CLS</a></strong><br>
<strong><a href="#CLS">CLS</a></strong> 消去対象画面</p>
</div>
</div>
<div class="sect4">
<h5 id="_引数_29">【引数】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">消去対象画面</dt>
<dd>
<p>0 : コンソール画面の全消去（デフォルト）<br>
1 : デバイス画面の消去</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_説明_29">【説明】</h5>
<div class="paragraph">
<p>画面上に表示している内容を全て消します。<br>
引数に消去対象画面を指定した場合、指定した画面の消去を行います。<br>
OLED版、TFT版ではシリアルコンソール画面切り替え中でも、<br>
デバイス画面へのグラフィック描画コマンドを使った描画が可能です。<br>
その際、<strong><a href="#CLS">CLS</a></strong> コマンドの引数にてどちらの画面を消去するかを指定することが出来ます 。</p>
</div>
</div>
<div class="sect4">
<h5 id="_エラーメッセージ_29">【エラーメッセージ】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Illegal value</dt>
<dd>
<p>指定した引数が有効範囲でない</p>
</dd>
<dt class="hdlist1">Overflow</dt>
<dd>
<p>指定した数値が-32768 ～ 32767を超えている</p>
</dd>
<dt class="hdlist1">Syntax error</dt>
<dd>
<p>文法エラー、書式と異なる利用を行った</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_利用例_29">【利用例】</h5>
<div class="listingblock">
<div class="title">画面の表示内容を消去する</div>
<div class="content">
<pre>CLS
OK</pre>
</div>
</div>
<hr>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect3">
<h4 id="COLOR">3.4.3. COLOR</h4>
<div class="paragraph">
<p>文字色の設定</p>
</div>
<div class="sect4">
<h5 id="_書式_30">【書式】</h5>
<div class="paragraph">
<p><strong><a href="#COLOR">COLOR</a></strong> 文字色<br>
<strong><a href="#COLOR">COLOR</a></strong> 文字色, 背景色</p>
</div>
</div>
<div class="sect4">
<h5 id="_引数_30">【引数】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">文字色</dt>
<dd>
<p>色コード　0～8、または RGBコード：$0009 ～ $FFFF</p>
</dd>
<dt class="hdlist1">背景色</dt>
<dd>
<p>色コード　0～8、または RGBコード：$0009 ～ $FFFF</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_説明_30">【説明】</h5>
<div class="paragraph">
<p>文字色の設定を行います。指定した色は以降の文字表示に反映されます。<br>
文字色、背景色で指定する色コードに対する色は次の表の通りです。<br></p>
</div>
<table class="tableblock frame-all grid-all fit-content">
<caption class="title">表 3. 色コード</caption>
<colgroup>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">色コード</th>
<th class="tableblock halign-center valign-top">色</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>0</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">黒</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>1</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">赤</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>2</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">緑</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>3</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">茶</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>4</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">青</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>5</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">マゼンタ</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>6</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">シアン</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>7</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">白(デフォルト)</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>8</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">黄</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>TFT(ILI9341)ディスプレイを利用している場合、上記の色コードに加えて、<br>
RGBコード：$0009 ～ $FFFFの色指定が可能です。RGBコードは次の構成となります。<br></p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/RGB_format.png" alt="RGBフォーマット">
</div>
</div>
<div class="paragraph">
<p>RGBコードの指定は、<strong><a href="#RGB">RGB</a></strong> 関数を使うことで直感的な色を指定することが出来ます。<br></p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">注意</div>
</td>
<td class="content">
TFTデスプレイ、ターミナル版のみ利用可能です。
</td>
</tr>
</table>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">注意</div>
</td>
<td class="content">
利用するターミナルソフトにより色が正しく表示されない場合があります。<br>
属性指定との併用では正しく表示されない場合があります。<br>
画面を <kbd>CTRL-R</kbd>、 <kbd>Page UP</kbd>、 <kbd>Page Down</kbd> キーにて再表示した場合、<br>
色情報は欠落します。
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_エラーメッセージ_30">【エラーメッセージ】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Syntax error</dt>
<dd>
<p>文法エラー、書式と異なる利用を行った</p>
</dd>
<dt class="hdlist1">Illegal value</dt>
<dd>
<p>色コードに範囲外の値を指定した</p>
</dd>
<dt class="hdlist1">Overflow</dt>
<dd>
<p>指定した数値が-32768 ～ 32767を超えている</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_利用例_30">【利用例】</h5>
<div class="listingblock">
<div class="title">ランダムな色で"＊"を表示する</div>
<div class="content">
<pre>10 FOR I=0 TO 10
20 FOR J=0 TO 10
30 COLOR RND(8): ? "*";
35 WAIT 100
40 NEXT J
50 ?
60 NEXT I</pre>
</div>
</div>
<hr>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect3">
<h4 id="GETS">3.4.4. GETS</h4>
<div class="paragraph">
<p>文字列の入力</p>
</div>
<div class="sect4">
<h5 id="_書式_31">【書式】</h5>
<div class="paragraph">
<p><strong><a href="#GETS">GETS</a></strong> (文字列格納先仮想アドレス[,有効文字列長] )<br>
<strong><a href="#GETS">GETS</a></strong> (文字列格納先仮想アドレス,有効文字列長,モード[,参照元仮想アドレス])</p>
</div>
</div>
<div class="sect4">
<h5 id="_引数_31">【引数】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">文字列格納先仮想アドレス</dt>
<dd>
<p>入力した文字列を格納する仮想アドレス  $0000 ～</p>
</dd>
<dt class="hdlist1">有効文字列長</dt>
<dd>
<p>入力した文字列のうち、有効とする文字列の長さ（バイト：デフォルト 32）</p>
</dd>
<dt class="hdlist1">モード</dt>
<dd>
<p>文字列を入力する方法の選択 <br>
0 : 文字列の対話入力(デフォルト値)<br>
1 : 参照元仮想アドレスから入力、 または 領域のみ確保<br></p>
</dd>
<dt class="hdlist1">参照元仮想アドレス</dt>
<dd>
<p>モードで1を指定した場合の参照する文字列格納アドレス</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_戻り値_2">【戻り値】</h5>
<div class="paragraph">
<p>文字列格納先仮想アドレス</p>
</div>
</div>
<div class="sect4">
<h5 id="_説明_31">【説明】</h5>
<div class="paragraph">
<p>コンソール画面のカーソル位置での文字列入力を行います(モード 0時)。<br>
または、参照元仮想アドレスに格納されているバイナリーデータを<br>
文字列として取得します(モード1時)。<br></p>
</div>
<div class="paragraph">
<p>取得した文字列データは引数で指定した文字列格納先仮想アドレスに格納されます。<br>
戻り値として、そのアドレスを返します。<br></p>
</div>
<div class="paragraph">
<p>取得した文字列は、有効文字列長(デフォルトでは32)の長さ分が文字列として利用されます。<br></p>
</div>
<div class="paragraph">
<p>仮想アドレスの指定には次の定数することが出来ます。</p>
</div>
<div class="paragraph">
<p>モード１において、引数の参照元仮想アドレスを省略した場合は、領域のみを確保します。</p>
</div>
<table class="tableblock frame-all grid-all fit-content">
<colgroup>
<col>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">定数名</th>
<th class="tableblock halign-center valign-top">仮想化ドレス名</th>
<th class="tableblock halign-center valign-top">概要</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#_メモリ領域先頭アドレス定数">VRAM</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">画面表示用メモリ(CW×CH)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">サイズは<a href="#SCREEN">SCREEN</a>モードにより可変</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#_メモリ領域先頭アドレス定数">VAR</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">変数領域</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">サイズ 420バイト</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#_メモリ領域先頭アドレス定数">ARRAY</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">配列変数領域(@(0)～@(99) )</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">サイズ 200バイト</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#_メモリ領域先頭アドレス定数">PRG</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">プログラム領域</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">サイズ 4,096バイト</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#_メモリ領域先頭アドレス定数">MEM</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ユーザーワーク領域</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">サイズ 1,024バイト</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#_メモリ領域先頭アドレス定数">FNT</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">フォント256文字(フラッシュメモリ)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">サイズ 2,048バイト</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#_メモリ領域先頭アドレス定数">GRAM</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">グラフィック表示用メモリ</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">サイズは<a href="#SCREEN">SCREEN</a>モードにより可変</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#_メモリ領域先頭アドレス定数">PRG2</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">フラッシュメモリプログラム保存領域</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">サイズ 4,096バイト<br>
<a href="#BANK">BANK</a>コマンドにより0～5のバンク切り替え</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>仮想アドレスの詳細については、「<a href="../仕様/メモリーマップ.adoc">メモリーマップ</a>」の「<a href="../仕様/メモリーマップ.adoc#_仮想アドレス">仮想アドレス</a>」を参照下さい。<br></p>
</div>
<div class="paragraph">
<p>指定した仮想アドレスには次の形式にて文字列が格納されます。<br></p>
</div>
<table class="tableblock frame-all grid-all fit-content">
<caption class="title">表 4. 文字列格納形式</caption>
<colgroup>
<col>
<col>
<col>
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">[文字列長(1バイト)]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[入力した文字列]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[文字列終端コード:0(1バイト)]</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>下記の例では、変数 <strong>S1</strong> 、 <strong>S2</strong> に文字列の入力を行い、その内容を表示しています。<br></p>
</div>
<div class="listingblock">
<div class="title">利用例</div>
<div class="content">
<pre>10 S1=GETS(MEM,8)
20 S2=GETS(MEM+10,8)
30 ?STR$(S1)
40 ?STR$(S2)
OK
run
1234567890
abcdefghij
12345678
abcdefgh
OK</pre>
</div>
</div>
<div class="paragraph">
<p>有効文字列長に8を指定しているため、入力した文字列のうち、先頭から8バイトが格納されます。<br>
変数に代入されている仮想アドレスに格納されている文字列を表示する場合は <strong><a href="#STR">STR$</a></strong> 関数を利用します。<br>
変数 <strong>S2</strong> の格納アドレスを <strong><a href="#MEM">MEM</a>+10</strong> としているのは、文字列8バイト分に長さと文字列終端コードの2バイトが必要なためです。<br></p>
</div>
<div class="paragraph">
<p>全角を含む文字列を入力した場合、有効文字列長は全角2バイト文字を考慮します。<br>
上記のプログラムを再度実行し、今度は全角半角混合文字を入力してみます。</p>
</div>
<div class="listingblock">
<div class="content">
<pre>run
あeいうえお
かきくけこ
あeいう
かきくけ
OK</pre>
</div>
</div>
<div class="paragraph">
<p>入力した文字列 "あeいうえお" は11バイトです。
有効文字列長に8を指定しているため*S1* には "あeいう"の7バイト分が格納されます。<br></p>
</div>
<div class="paragraph">
<p>入力した文字列は、<strong><a href="#BYTE">BYTE</a></strong> 関数でバイト数、<strong><a href="#LEN">LEN</a></strong> 関数で文字数を調べることが出来ます。<br></p>
</div>
<div class="listingblock">
<div class="title">文字数、バイト数を調べる</div>
<div class="content">
<pre>10 S=GETS(MEM)
20 ?"バイト数:";BYTE(S)
30 ?"文字数  :";LEN(S)
OK
run
さいたまsaitama
バイト数:15
文字数  :11
OK</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_エラーメッセージ_31">【エラーメッセージ】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Syntax error</dt>
<dd>
<p>文法エラー、書式と異なる利用を行った、引数に数値以外を指定した</p>
</dd>
<dt class="hdlist1">Overflow</dt>
<dd>
<p>指定した数値が-32768 ～ 32767を超えている</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_利用例_31">【利用例】</h5>
<div class="listingblock">
<div class="title">5人分の名前を入力し、配列に格納する</div>
<div class="content">
<pre>10 FOR I=0 TO 4
20 ?"氏名(";I;")=";
30 @(I)=GETS(MEM+I*20,18)
40 NEXT I
50 ?"--- 名前リスト ---"
55 FOR I=0 TO 4
60 ?STR$(@(I))
70 NEXT I
80 ?"------------------"</pre>
</div>
</div>
<div class="listingblock">
<div class="title">実行結果</div>
<div class="content">
<pre>氏名(0)=たま吉
氏名(1)=ルミちゃん
氏名(2)=モコちゃん
氏名(3)=歳三くん
氏名(4)=メイちゃん
--- 名前リスト ---
たま吉
ルミちゃん
モコちゃん
歳三くん
メイちゃん
------------------
OK</pre>
</div>
</div>
<hr>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect3">
<h4 id="INKEY">3.4.5. INKEY</h4>
<div class="paragraph">
<p>入力文字コード取得</p>
</div>
<div class="sect4">
<h5 id="_書式_32">【書式】</h5>
<div class="paragraph">
<p><strong><a href="#INKEY">INKEY</a>( )</strong></p>
</div>
</div>
<div class="sect4">
<h5 id="_引数_32">【引数】</h5>
<div class="paragraph">
<p>なし</p>
</div>
</div>
<div class="sect4">
<h5 id="_戻り値_3">【戻り値】</h5>
<div class="paragraph">
<p>押したキーの文字コード： 0 ～ 255<br>
キーが押されていない場合は0を返します。<br></p>
</div>
</div>
<div class="sect4">
<h5 id="_説明_32">【説明】</h5>
<div class="paragraph">
<p>キーボード上の押しているキーのコードを取得します。<br>
キーが押されていない場合は、0を返します。<br>
押したキーが返すコードについては「キー入力コード」を参照下さい。<br></p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">注意</div>
</td>
<td class="content">
<kbd>ESC</kbd> キー、<kbd>CTRL-C</kbd>キー はプログラム中断用のため、キー入力の読み取りは出来ません。<br>
キーボードにおいて利用出来ないキーはコードの取得が出来ません。
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_エラーメッセージ_32">【エラーメッセージ】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Syntax error</dt>
<dd>
<p>文法エラー、書式と異なる利用を行った</p>
</dd>
<dt class="hdlist1">'(' or ')' expected</dt>
<dd>
<p>’(‘ または ‘)’がない</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_利用例_32">【利用例】</h5>
<div class="listingblock">
<div class="title">入力したキーのコードを調べる</div>
<div class="content">
<pre>10 CLS
20 I= INKEY()
30 IF I&gt;0 LOCATE 0,0:?#3,I
40 GOTO 20</pre>
</div>
</div>
<hr>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect3">
<h4 id="INPUT">3.4.6. INPUT</h4>
<div class="paragraph">
<p>数値の入力</p>
</div>
<div class="sect4">
<h5 id="_書式_33">【書式】</h5>
<div class="paragraph">
<p><strong><a href="#INPUT">INPUT</a></strong> 変数<br>
<strong><a href="#INPUT">INPUT</a></strong> 変数,オーバーフロー時の既定値<br>
<strong><a href="#INPUT">INPUT</a></strong> プロンプト, 変数<br>
<strong><a href="#INPUT">INPUT</a></strong> プロンプト, 変数, オーバーフロー時の既定値</p>
</div>
</div>
<div class="sect4">
<h5 id="_引数_33">【引数】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">変数</dt>
<dd>
<p>入力した値を格納する変数または配列変数</p>
</dd>
<dt class="hdlist1">プロンプト</dt>
<dd>
<p>文字列定数  "プロンプト"</p>
</dd>
<dt class="hdlist1">オーバーフロー時の既定値</dt>
<dd>
<p>-32768 ～ 32767</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_説明_33">【説明】</h5>
<div class="paragraph">
<p>現在のカーソル位置にて数値の入力をし、指定した変数にその値を格納します。<br>
キーボードから入力できる文字は符号<kbd>-</kbd>、<kbd>+</kbd>、数値 <kbd>0</kbd>～<kbd>9</kbd>、入力訂正の <kbd>BS</kbd>、<kbd>DEL</kbd>、入力確定の<kbd>Enter</kbd>キーです。<br>
それ以外の入力はできません。<br>
数値を入力せずに、<kbd>Enter</kbd>キーにて入力確定を行った場合、変数には0が格納されます。<br></p>
</div>
<div class="paragraph">
<p>引数に変数のみを指定した場合、"変数名:"を表示しその後ろの位置から数値を入力します。</p>
</div>
<div class="listingblock">
<div class="title">例</div>
<div class="content">
<pre>INPUT A
A:</pre>
</div>
</div>
<div class="paragraph">
<p>プロンプトを指定した場合は、そのプロンプトを表示しその後ろ位置から数値を入力します。<br></p>
</div>
<div class="paragraph">
<p>例.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>INPUT "Value=",A
Value=</pre>
</div>
</div>
<div class="paragraph">
<p>オーバーフロー時の既定値を指定した場合、入力値した数値がオーバーフローを発生した場合は、オーバーフロー時の既定値を変数に設定します。オーバーフロー時の既定値を設定していない場合は、Overflowエラーとなります。<br></p>
</div>
<div class="listingblock">
<div class="title">オーバーフロー時の既定値なし</div>
<div class="content">
<pre>INPUT A
A:111111
Overflow
OK</pre>
</div>
</div>
<div class="listingblock">
<div class="title">オーバーフロー時の既定値あり</div>
<div class="content">
<pre>INPUT A,-1
A:111111
OK
?A
-1
OK</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_エラーメッセージ_33">【エラーメッセージ】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Syntax error</dt>
<dd>
<p>文法エラー、書式と異なる利用を行った、引数に数値以外を指定した</p>
</dd>
<dt class="hdlist1">Overflow</dt>
<dd>
<p>指定した数値が-32768 ～ 32767を超えている</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_利用例_33">【利用例】</h5>
<div class="listingblock">
<div class="title">単純な使い方</div>
<div class="content">
<pre>INPUT A
A=1234
OK</pre>
</div>
</div>
<div class="listingblock">
<div class="title">プロンプト指定</div>
<div class="content">
<pre>INPUT "Value=" A
Value=1234
OK</pre>
</div>
</div>
<hr>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect3">
<h4 id="LOCATE">3.4.7. LOCATE</h4>
<div class="paragraph">
<p>カーソルの移動</p>
</div>
<div class="sect4">
<h5 id="_書式_34">【書式】</h5>
<div class="paragraph">
<p><strong><a href="#LOCATE">LOCATE</a></strong> 横位置, 縦位置</p>
</div>
</div>
<div class="sect4">
<h5 id="_引数_34">【引数】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">横位置</dt>
<dd>
<p>画面上の横位置: 0 ～ CW-1</p>
</dd>
<dt class="hdlist1">縦位置</dt>
<dd>
<p>画面上の縦位置: 0 ～ CH-1</p>
</dd>
<dt class="hdlist1"></dt>
<dd>
<p>CW、CHは画面の横桁数、縦行数の示す定数です。<br>
利用するフォント等により異なります。</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_説明_34">【説明】</h5>
<div class="paragraph">
<p>カーソルを指定した位置に移動します。<br></p>
</div>
<div class="paragraph">
<p>縦横位置それぞれの指定に0以下の数値を指定した場合、それぞれの位置は0となります。<br>
横位置にCW-1を超える数値を指定した場合、横位置はCW-1となります。<br>
縦位置にCH-1を超える数値を指定した場合、縦位置はCH-1となります。<br></p>
</div>
<div class="paragraph">
<p>定数CW、CHに設定されている値は次のようすることで確認することができます。<br></p>
</div>
<div class="listingblock">
<div class="title">定数の利用例</div>
<div class="content">
<pre>?CW
37
OK
?CH
27
OK</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_エラーメッセージ_34">【エラーメッセージ】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Syntax error</dt>
<dd>
<p>文法エラー、書式と異なる利用を行った</p>
</dd>
<dt class="hdlist1">Overflow</dt>
<dd>
<p>指定した数値が-32768 ～ 32767を超えている</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_利用例_34">【利用例】</h5>
<div class="listingblock">
<div class="title">画面の指定位置にメッセージを表示する</div>
<div class="content">
<pre>10 CLS
20 LOCATE 5,5:PRINT "Hello,world."
30 LOCATE 6,6:PRINT "TinyBASIC"
40 LOCATE 7,7:PRINT "Thank you."</pre>
</div>
</div>
<div class="listingblock">
<div class="title">実行結果</div>
<div class="content">
<pre>     Hello,world.
      TinyBASIC
       Thank you.</pre>
</div>
</div>
<hr>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect3">
<h4 id="PRINT">3.4.8. PRINT</h4>
<div class="paragraph">
<p>文字列表示</p>
</div>
<div class="sect4">
<h5 id="_書式_35">【書式】</h5>
<div class="paragraph">
<p><strong><a href="#PRINT">PRINT</a></strong><br>
<strong><a href="#PRINT">PRINT</a></strong> 文字列 | 数値<br>
<strong><a href="#PRINT">PRINT</a></strong> 文字列 | 数値 <code>;</code><br>
<strong><a href="#PRINT">PRINT</a></strong> 文字列 | 数値 <code>;</code> 文字列 | 数値 <code>;</code>…<br>
<strong><a href="#PRINT">PRINT</a></strong> 文字列 | 数値 <code>;</code> 文字列 | 数値 <code>;</code>… <code>;</code><br>
<strong><a href="#PRINT">PRINT</a></strong> <code>#</code> 桁数,文字列 | 数値 <code>;</code> 文字列 | 数値 <code>;</code>… ;</p>
</div>
<div class="paragraph">
<p>… は可変指定を示す<br>
&#8216;;&#8217; は連結・改行抑制指定(オプション)、カンマ &#8216;,&#8217; も可能<br>
<strong><a href="#PRINT">PRINT</a></strong> の代わりに、省略形 <code>?</code> も利用可能<br></p>
</div>
</div>
<div class="sect4">
<h5 id="_引数_35">【引数】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">文字列</dt>
<dd>
<p>文字列定数または文字列関数</p>
</dd>
<dt class="hdlist1">数値</dt>
<dd>
<p>数値定数、変数、配列変数、または数値関数、式</p>
</dd>
<dt class="hdlist1">連結指定</dt>
<dd>
<p>セミコロン’<code>;</code>’ または カンマ‘<code>,</code>’<br>
　             文末に付けると改行抑制される</p>
</dd>
<dt class="hdlist1">桁数</dt>
<dd>
<p><code>#</code> 数値 または <code>#-数値</code> の形式で指定する<br>
　例: <code>#3</code> 、 <code>#-3</code></p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_説明_35">【説明】</h5>
<div class="paragraph">
<p>指定した文字列、数値をスクリーン画面のカーソル位置に表示します。<br></p>
</div>
<div class="listingblock">
<div class="title">例</div>
<div class="content">
<pre>PRINT "Hello,World"
Hello,World
OK
PRINT 123*3
369
OK
PRINT HEX$(123*3)
171
OK</pre>
</div>
</div>
<div class="paragraph">
<p>文字列、数値は連結指定のセミコロン’;’、またはカンマ’,’にて連結して表示することが出来ます。<br>
また最後に’;’または’,’が付加されている場合は改行しません。<br></p>
</div>
<div class="listingblock">
<div class="title">例</div>
<div class="content">
<pre>10 N=5:C=3:K=10
20 PRINT "N=";N;" C=";C;
30 PRINT " K=";
40 PRINT K
RUN
N=5 C=3 K=10
OK</pre>
</div>
</div>
<div class="paragraph">
<p><strong>数値の整形表示</strong><br>
<strong>#数値</strong> にて桁数を指定することで、任意の桁数（指定桁に満たない場合は空白を入れる）にて等間隔で表示します。<br>
数値の前に-（マイナス）を付加した場合、空白をではなく、0(零)で不足桁を補います。<br>
<strong>#数値</strong> は任意の位置、任意の回数指定できます。<br></p>
</div>
<div class="paragraph">
<p>桁数指定なし<br></p>
</div>
<div class="listingblock">
<div class="title">例</div>
<div class="content">
<pre>PRINT 1;":";2;":";3 +
1:2:3 +</pre>
</div>
</div>
<div class="paragraph">
<p>桁数指定あり(空白文字で補間)<br></p>
</div>
<div class="listingblock">
<div class="title">例</div>
<div class="content">
<pre>PRINT #2,1;":";2;":";3
 1: 2: 3</pre>
</div>
</div>
<div class="paragraph">
<p>桁数指定あり(0で補間)<br></p>
</div>
<div class="listingblock">
<div class="title">例</div>
<div class="content">
<pre>PRINT #-2,1;":";2;":";3
01:02:03</pre>
</div>
</div>
<div class="paragraph">
<p><strong>表示位置の指定</strong><br>
<strong><a href="#LOCATE">LOCATE</a></strong> コマンドを併用することで、スクリーン画面の任意の位置に文字を表示することが出来ます。<br></p>
</div>
<div class="listingblock">
<div class="title">例</div>
<div class="content">
<pre>10 LOCATE 10,10
20 PRINT "Hello!"</pre>
</div>
</div>
<div class="paragraph">
<p><strong>色、属性の指定</strong><br>
スクリーン画面が <strong><a href="#SCREEN">SCREEN</a> 0</strong> のターミナルコンソールの場合、<br>
<strong><a href="#COLOR">COLOR</a></strong> コマンド、<strong><a href="#AATTR">ATTR</a></strong> コマンドを併用することで、文字の前景色、背景色の指定、点滅、アンダーライン等の属性を付加することが出来ます。<br></p>
</div>
<div class="listingblock">
<div class="title">例</div>
<div class="content">
<pre>10 COLOR 4,3
20 PRINT "Hello,";
40 ATTR 2
50 PRINT "World".
60 COLOR 7,0:ATTR 0</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_エラーメッセージ_35">【エラーメッセージ】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Syntax error</dt>
<dd>
<p>文法エラー、書式と異なる利用を行った、引数に数値以外を指定した</p>
</dd>
<dt class="hdlist1">Overflow</dt>
<dd>
<p>指定した数値が-32768 ～ 32767を超えている</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_利用例_35">【利用例】</h5>
<div class="listingblock">
<div class="title">時刻を表示する</div>
<div class="content">
<pre>10 GETTIME A,B,C
20 LOCATE 0,0:PRINT #-2,A;":";B;":";C
30 WAIT 1000
40 GOTO 20</pre>
</div>
</div>
<div class="listingblock">
<div class="title">実行結果</div>
<div class="content">
<pre>10:52:00</pre>
</div>
</div>
<hr>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect3">
<h4 id="REDRAW">3.4.9. REDRAW</h4>
<div class="paragraph">
<p>画面表示の再表示</p>
</div>
<div class="sect4">
<h5 id="_書式_36">【書式】</h5>
<div class="paragraph">
<p><strong><a href="#REDRAW">REDRAW</a></strong></p>
</div>
</div>
<div class="sect4">
<h5 id="_引数_36">【引数】</h5>
<div class="paragraph">
<p>なし</p>
</div>
</div>
<div class="sect4">
<h5 id="_説明_36">【説明】</h5>
<div class="paragraph">
<p>テキスト画面表示用メモリ（VRAM）の内容を画面に再表示を行います。<br>
再表示においては、個々に色付しけした文字の色、背景色、属性は欠落します。<br>
再表示後の表示内容は指定した文字色、背景色、属性に統一されます。<br></p>
</div>
<div class="paragraph">
<p><strong><a href="#POKE">POKE</a></strong> コマンド等にて画面表示用メモリにデータを書き込んだ場合、<br>
そのままでは表示が反映されません。<br>
<strong><a href="#REDRAW">REDRAW</a></strong> コマンドを実行して再表示を行う必要があります。<br></p>
</div>
</div>
<div class="sect4">
<h5 id="_エラーメッセージ_36">【エラーメッセージ】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Syntax error</dt>
<dd>
<p>：文法エラー、書式と異なる利用を行った</p>
</dd>
<dt class="hdlist1">Overflow</dt>
<dd>
<p>：指定した数値が-32768 ～ 32767を超えている</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_利用例_36">【利用例】</h5>
<div class="listingblock">
<div class="title">画面表示用メモリ（VRAM）に直接書き内容を画面に反映させる</div>
<div class="content">
<pre>10 POKE VRAM+80*5+50,ASC("b")
20 REDRAW</pre>
</div>
</div>
<hr>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect3">
<h4 id="VPEEK">3.4.10. VPEEK</h4>
<div class="paragraph">
<p>指定位置の文字コード参照</p>
</div>
<div class="sect4">
<h5 id="_書式_37">【書式】</h5>
<div class="paragraph">
<p><strong><a href="#VPEEK">VPEEK</a></strong> (横位置 , 縦位置)</p>
</div>
</div>
<div class="sect4">
<h5 id="_引数_37">【引数】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">横位置</dt>
<dd>
<p>0 ～ CW - 1</p>
</dd>
<dt class="hdlist1">縦位置</dt>
<dd>
<p>0 ～ CH - 1</p>
</dd>
<dt class="hdlist1"></dt>
<dd>
<p>CW、CHは画面の横桁数、縦行数の示す定数です。<br>
利用するデバイス画面、画面サイズにより異なります。</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_戻り値_4">【戻り値】</h5>
<div class="paragraph">
<p>指定位置に表示されている文字の文字コード（0 ～ 255）</p>
</div>
</div>
<div class="sect4">
<h5 id="_説明_37">【説明】</h5>
<div class="paragraph">
<p>画面上の指定位置に表示されている文字の文字コードを取得します。<br>
引数の指定位置が範囲外の場合は0を返します。<br></p>
</div>
</div>
<div class="sect4">
<h5 id="_エラーメッセージ_37">【エラーメッセージ】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Syntax error</dt>
<dd>
<p>文法エラー、書式と異なる利用を行った</p>
</dd>
<dt class="hdlist1">Illegal value</dt>
<dd>
<p>指定した引数の値が有効範囲を超えている</p>
</dd>
<dt class="hdlist1">Overflow</dt>
<dd>
<p>指定した数値が-32768 ～ 32767を超えている</p>
</dd>
<dt class="hdlist1">'(' or ')' expected</dt>
<dd>
<p>’(‘ または ‘)’が無い</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_利用例_37">【利用例】</h5>
<div class="listingblock">
<div class="title">画面最上位の行に表示されている文字を表示する</div>
<div class="content">
<pre>10 FOR I=0 TO CW-1
20 C=VPEEK(I,0)
30 PRINT CHR$(C);
40 NEXT I
50 PRINT</pre>
</div>
</div>
<div style="page-break-after: always;"></div>
<hr>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_数値文字列操作_2">3.5. 数値・文字列操作</h3>
<div class="sect3">
<h4 id="ABS">3.5.1. ABS</h4>
<div class="paragraph">
<p>絶対値の取得</p>
</div>
<div class="sect4">
<h5 id="_書式_38">【書式】</h5>
<div class="paragraph">
<p><strong><a href="#ABS">ABS</a></strong> (数値)</p>
</div>
</div>
<div class="sect4">
<h5 id="_引数_38">【引数】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">数値</dt>
<dd>
<p>式、変数、配列変数、<br>
数値（-32767～ 32767 ）、<br>
数値定数<br>
の指定が可能</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_戻り値_5">【戻り値】</h5>
<div class="paragraph">
<p>指定した <strong>数値</strong> の絶対値</p>
</div>
</div>
<div class="sect4">
<h5 id="_説明_38">【説明】</h5>
<div class="paragraph">
<p>指定した <strong>数値</strong> の絶対値を返します。<br></p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">注意</div>
</td>
<td class="content">
-32768の絶対値 32768はオーバーフローとなるため、-32768を指定した場合は<br>
オバーフローエラーとなります。
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_エラーメッセージ_38">【エラーメッセージ】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Syntax error</dt>
<dd>
<p>文法エラー、書式と異なる利用を行った</p>
</dd>
<dt class="hdlist1">Overflow</dt>
<dd>
<p>指定した数値が-32767 ～ 32767を超えている</p>
</dd>
<dt class="hdlist1">'(' or ')' expected</dt>
<dd>
<p>’(‘ または ‘)’が無い</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_利用例_38">【利用例】</h5>
<div class="listingblock">
<div class="title">変数の値の絶対値を表示する</div>
<div class="content">
<pre>10 FOR I=-3 TO 3
20 PRINT ABS(I)
30 NEXT I</pre>
</div>
</div>
<div class="listingblock">
<div class="title">実行結果</div>
<div class="content">
<pre>RUN
3
2
1
0
2
3
OK</pre>
</div>
</div>
<hr>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect3">
<h4 id="ASC">3.5.2. ASC</h4>
<div class="paragraph">
<p>文字コード変換</p>
</div>
<div class="sect4">
<h5 id="_書式_39">【書式】</h5>
<div class="paragraph">
<p><strong><a href="#ASC">ASC</a></strong> (文字列)<br>
<strong><a href="#ASC">ASC</a></strong>  (文字列 , 文字位置)<br>
<strong><a href="#ASC">ASC</a></strong> (変数)<br>
<strong><a href="#ASC">ASC</a></strong> (変数 , 文字位置)<br></p>
</div>
</div>
<div class="sect4">
<h5 id="_引数_39">【引数】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">文字列</dt>
<dd>
<p>"文字列"<br>
"ABC" の形式とし、ダブルクォーテーション文字を囲みます。</p>
</dd>
<dt class="hdlist1">文字位置</dt>
<dd>
<p>1～32767<br>
変換対象となる左からの文字位置を指定します。<br></p>
</dd>
<dt class="hdlist1">変数</dt>
<dd>
<p>文字列参照している変数または配列変数</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_戻り値_6">【戻り値】</h5>
<div class="paragraph">
<p>指定した <strong>文字列</strong> に対応する <strong>文字コード</strong> ： 0 ～ $FFFF<br>
(1バイト文字コード または 2バイト文字コード）</p>
</div>
</div>
<div class="sect4">
<h5 id="_説明_39">【説明】</h5>
<div class="paragraph">
<p>指定した <strong>文字列</strong> (全角文字または半角文字)に対応する <strong>文字コード</strong> を返します。<br>
<strong>文字列</strong> のみを指定した場合は、先頭の <strong>文字コード</strong> を返します。<br></p>
</div>
<div class="listingblock">
<div class="title">例</div>
<div class="content">
<pre>10 ?ASC("ABCD")
RUN
65
OK</pre>
</div>
</div>
<div class="paragraph">
<p><strong>文字位置</strong> を指定した場合は、指定した <strong>文字列</strong> の <strong>文字位置</strong> の <strong>文字コード</strong> を返します。<br></p>
</div>
<div class="listingblock">
<div class="title">例</div>
<div class="content">
<pre>10 ?HEX$(ASC("AあBうCD",4))
RUN
82A4
OK</pre>
</div>
</div>
<div class="paragraph">
<p><strong>変数</strong> を指定した場合、<strong>変数</strong> が参照している文字列の <strong>文字コード</strong> を返します。<br></p>
</div>
<div class="listingblock">
<div class="title">例</div>
<div class="content">
<pre>10 A="ABあCDEF"
20 ?HEX$(ASC(A))
30 ?HEX$(ASC(A,3))
RUN
41
82A0
OK</pre>
</div>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">注意</div>
</td>
<td class="content">
変数の文字列参照はプログラム中にのみ有効です。<br>
コマンドラインでは文字列参照を正しく行うことが出来ません。
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_エラーメッセージ_39">【エラーメッセージ】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Syntax error</dt>
<dd>
<p>文法エラー、書式と異なる利用を行った</p>
</dd>
<dt class="hdlist1">Illegal value</dt>
<dd>
<p>文字指定位置が不当</p>
</dd>
<dt class="hdlist1">'(' or ')' expected</dt>
<dd>
<p>’(‘ または ‘)’がない</p>
</dd>
<dt class="hdlist1">Overflow</dt>
<dd>
<p>指定した数値が-32768 ～ 32767を超えている</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_利用例_39">【利用例】</h5>
<div class="listingblock">
<div class="title">アルファベットA～Zを表示する</div>
<div class="content">
<pre>10 C=ASC("A")
20 FOR I=0 TO 25
30 PRINT CHR$(C+I);
40 NEXT I
50 PRINT</pre>
</div>
</div>
<div class="listingblock">
<div class="title">実行結果</div>
<div class="content">
<pre>run
ABCDEFGHIJKLMNOPQRSTUVWXYZ
OK</pre>
</div>
</div>
<div class="listingblock">
<div class="title">文字列に該当するシフトJISコードを表示します。</div>
<div class="content">
<pre>10 S="こんにちは、世界！"
20 L=LEN(S)
30 FOR I=1 TO L
40 PRINT HEX$(ASC(S,I),2)
50 NEXT I</pre>
</div>
</div>
<div class="listingblock">
<div class="title">実行結果</div>
<div class="content">
<pre>run
82B1
82F1
82C9
82BF
82CD
8141
90A2
8A45
8149
OK</pre>
</div>
</div>
<hr>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect3">
<h4 id="BIN">3.5.3. BIN$</h4>
<div class="paragraph">
<p>整数の2進数文字列変換</p>
</div>
<div class="sect4">
<h5 id="_書式_40">【書式】</h5>
<div class="paragraph">
<p><strong><a href="#BIN">BIN$</a></strong> (数値)<br>
<strong><a href="#BIN">BIN$</a></strong> (数値 , 桁数)</p>
</div>
</div>
<div class="sect4">
<h5 id="_引数_40">【引数】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">数値</dt>
<dd>
<p>変換対象の整数値:  -32768 ～ 32767</p>
</dd>
<dt class="hdlist1">桁数</dt>
<dd>
<p>出力桁数: 0 ～ 16)</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_戻り値_7">【戻り値】</h5>
<div class="paragraph">
<p>2進数文字列(1桁～16桁)</p>
</div>
</div>
<div class="sect4">
<h5 id="_説明_40">【説明】</h5>
<div class="paragraph">
<p>指定した <strong>数値</strong> を2進数文字列に変換する <strong>文字列関数</strong> です。<br>
<strong>数値</strong> には式、変数、定数等の指定が可能です。<br></p>
</div>
<div class="paragraph">
<p><strong>桁数</strong> を指定した場合は数値が <strong>桁数</strong> に満たない場合は、0で桁を補います。<br>
<strong>桁数</strong> を超える場合は数値の <strong>桁数</strong> を優先します。<br>
<strong>桁数</strong> を指定しない場合は、先頭の0は付加されません。<br></p>
</div>
<div class="paragraph">
<p>本関数を含め <strong>文字列関数</strong> は、<br>
<a href="#BLOAD"><strong>BLOAD</strong></a>、<a href="#BSAVE"><strong>BSAVE</strong></a>、<a href="#CAT"><strong>CAT</strong></a>、<a href="#DWBMP"><strong>DWBMP</strong></a>、<a href="#FILES"><strong>FILES</strong></a>、<a href="#GPRINT"><strong>GPRINT</strong></a>、 <a href="#KANJI"><strong>KANJI</strong></a>、<a href="#LDBMP"><strong>LDBMP</strong></a>、<br>
<a href="#LOAD"><strong>LOAD</strong></a>、<a href="#LRUN"><strong>LRUN</strong></a>、<a href="#PLAY"><strong>PLAY</strong></a>、<a href="#PRINT"><strong>PRINT</strong></a>、<a href="#REMOVE"><strong>REMOVE</strong></a>、<a href="#SAVE"><strong>SAVE</strong></a>、<a href="#SPRINT"><strong>SPRINT</strong></a><br>
コマンドの引数にて利用可能です。<br></p>
</div>
</div>
<div class="sect4">
<h5 id="_エラーメッセージ_40">【エラーメッセージ】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Syntax error</dt>
<dd>
<p>文法エラー、書式と異なる利用を行った</p>
</dd>
<dt class="hdlist1">'(' or ')' expected</dt>
<dd>
<p>’(‘ または ‘)’がない</p>
</dd>
<dt class="hdlist1">Illegal value</dt>
<dd>
<p>桁数の値が正しくない</p>
</dd>
<dt class="hdlist1">Overflow</dt>
<dd>
<p>指定した数値が-32768 ～ 32767を超えている</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_利用例_40">【利用例】</h5>
<div class="listingblock">
<div class="title">2進数で変数の内容を表示する</div>
<div class="content">
<pre>10 A=1234:B=1
20 PRINT BIN$(A)
30 PRINT BIN$(B)
40 PRINT BIN$(A,4)
50 PRINT BIN$(B,4)

run
10011010010
1
10011010010
0001
OK</pre>
</div>
</div>
<hr>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect3">
<h4 id="BYTE">3.5.4. BYTE</h4>
<div class="paragraph">
<p>文字列のバイト数の取得</p>
</div>
<div class="sect4">
<h5 id="_書式_41">【書式】</h5>
<div class="paragraph">
<p><strong><a href="#BYTE">BYTE</a></strong> (変数)<br>
<strong><a href="#BYTE">BYTE</a></strong> (文字列)</p>
</div>
</div>
<div class="sect4">
<h5 id="_引数_41">【引数】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">変数</dt>
<dd>
<p>変数、または配列変数</p>
</dd>
<dt class="hdlist1">文字列</dt>
<dd>
<p>"文字列"の形式（ダブルクォーテーションで囲み）</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_戻り値_8">【戻り値】</h5>
<div class="paragraph">
<p>文字列の長さ: 0 ～ 32767</p>
</div>
</div>
<div class="sect4">
<h5 id="_説明_41">【説明】</h5>
<div class="paragraph">
<p>文字列定数、変数で参照してる文字列のバイト数をカウントし、その値を返します。<br></p>
</div>
<div class="paragraph">
<p>例：文字列のバイト数を求める</p>
</div>
<div class="listingblock">
<div class="content">
<pre>10 ?BYTE("12345678")
20 A="ABCDEF"
30 @(0)="abcdef"
40 ? BYTE (A)
50? BYTE (@(0))
&gt;RUN
8
6
6
OK</pre>
</div>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">注意</div>
</td>
<td class="content">
文字列のサポートは限定的です。<br>
他の文字列関数と組み合わせた利用はサポートしていません。<br>
例) 下記のような記述は出来ません。<br>
  ?BYTE(BIN$(100))
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>本関数は全角1文字は2バイトとしてカウントします。<br>
全角を1文字として扱いたい場合は、<strong><a href="#LEN">LEN</a></strong> 関数を利用して下さい。</p>
</div>
</div>
<div class="sect4">
<h5 id="_エラーメッセージ_41">【エラーメッセージ】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Syntax error</dt>
<dd>
<p>文法エラー、書式と異なる利用を行った</p>
</dd>
<dt class="hdlist1">Overflow</dt>
<dd>
<p>指定した数値が-32768 ～ 32767を超えている</p>
</dd>
<dt class="hdlist1">'(' or ')' expected</dt>
<dd>
<p>’(‘ または ‘)’が無い</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_利用例_41">【利用例】</h5>
<div class="listingblock">
<div class="title">変数Aが参照している文字列のバイト数をを調べ文字コードを表示</div>
<div class="content">
<pre>10 'BYTE関数サンプル
20 A="Hello!"
30 FOR I=1 TO BYTE(A)
40 ?STR$(A,I,1);":";ASC(A,I)
50 NEXT I</pre>
</div>
</div>
<div class="listingblock">
<div class="title">実行結果</div>
<div class="content">
<pre>run
H:72
e:101
l:108
l:108
o:111
!:33
OK</pre>
</div>
</div>
<hr>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect3">
<h4 id="CHR">3.5.5. CHR$</h4>
<div class="paragraph">
<p>文字コードから文字への変換</p>
</div>
<div class="sect4">
<h5 id="_書式_42">【書式】</h5>
<div class="paragraph">
<p><strong><a href="#CHR">CHR$</a></strong> (文字コード)<br>
<strong><a href="#CHR">CHR$</a></strong> (文字コード, 文字コード, … , 文字コード)</p>
</div>
</div>
<div class="sect4">
<h5 id="_引数_42">【引数】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">文字コード</dt>
<dd>
<p>アスキーコード または シフトSJIS文字コード： 0～$FFFF</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_戻り値_9">【戻り値】</h5>
<div class="paragraph">
<p>指定した <strong>文字コード</strong> に対する文字、または文字列</p>
</div>
</div>
<div class="sect4">
<h5 id="_説明_42">【説明】</h5>
<div class="paragraph">
<p>指定した <strong>文字コード</strong> に対応する文字、文字列を返します。<br>
<strong>文字コード</strong> は2バイトシフトJISコード(全角含む)、1バイト半角アスキーコードに対応ます。<br>
<strong>文字コード</strong> をカンマ区切りで複数指定した場合は、文字列を返します。<br></p>
</div>
<div class="paragraph">
<p>本関数を含め <strong>文字列関数</strong> は、<br>
<a href="#BLOAD"><strong>BLOAD</strong></a>、<a href="#BSAVE"><strong>BSAVE</strong></a>、<a href="#CAT"><strong>CAT</strong></a>、<a href="#DWBMP"><strong>DWBMP</strong></a>、<a href="#FILES"><strong>FILES</strong></a>、<a href="#GPRINT"><strong>GPRINT</strong></a>、 <a href="#KANJI"><strong>KANJI</strong></a>、<a href="#LDBMP"><strong>LDBMP</strong></a>、<br>
<a href="#LOAD"><strong>LOAD</strong></a>、<a href="#LRUN"><strong>LRUN</strong></a>、<a href="#PLAY"><strong>PLAY</strong></a>、<a href="#PRINT"><strong>PRINT</strong></a>、<a href="#REMOVE"><strong>REMOVE</strong></a>、<a href="#SAVE"><strong>SAVE</strong></a>、<a href="#SPRINT"><strong>SPRINT</strong></a><br>
コマンドの引数にて利用可能です。<br></p>
</div>
</div>
<div class="sect4">
<h5 id="_エラーメッセージ_42">【エラーメッセージ】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Syntax error</dt>
<dd>
<p>文法エラー、書式と異なる利用を行った</p>
</dd>
<dt class="hdlist1">'(' or ')' expected</dt>
<dd>
<p>’(‘ または ‘)’が無い</p>
</dd>
<dt class="hdlist1">Overflow</dt>
<dd>
<p>指定した数値が-32768 ～ 32767を超えている</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_利用例_42">【利用例】</h5>
<div class="listingblock">
<div class="title">アルファベットA～Zを表示する</div>
<div class="content">
<pre>10 C=ASC("A")
20 FOR I=0 TO 25
30 PRINT CHR$(C+I);
40 NEXT I
50 PRINT

run
ABCDEFGHIJKLMNOPQRSTUVWXYZ
OK</pre>
</div>
</div>
<div class="listingblock">
<div class="title">ひらがな"あいうえお"を表示する</div>
<div class="content">
<pre>10 ?CHR$($82A0,$82A2,$82A4,$82A6,$82A8)

run
あいうえお
OK</pre>
</div>
</div>
<hr>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect3">
<h4 id="DMP">3.5.6. DMP$</h4>
<div class="paragraph">
<p>整数小数付き文字列変換</p>
</div>
<div class="sect4">
<h5 id="_書式_43">【書式】</h5>
<div class="paragraph">
<p><strong><a href="#DMP">DMP$</a></strong> (数値)<br>
<strong><a href="#DMP">DMP$</a></strong> (数値 , 小数点桁数)<br>
<strong><a href="#DMP">DMP$</a></strong> (数値 , 小数点桁数 , 整数部桁数)<br></p>
</div>
</div>
<div class="sect4">
<h5 id="_引数_43">【引数】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">数値</dt>
<dd>
<p>変換対象整数: -32767 ～ 32767</p>
</dd>
<dt class="hdlist1">小数点桁数</dt>
<dd>
<p>小数点以下の桁数を指定:   0 ～ 4（省略時は2）</p>
</dd>
<dt class="hdlist1">整数部桁数</dt>
<dd>
<p>小数点以上の桁数を指定:   0 ～ 8 (省略時は0)</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_戻り値_10">【戻り値】</h5>
<div class="paragraph">
<p>小数点を付加した数値文字列</p>
</div>
</div>
<div class="sect4">
<h5 id="_説明_43">【説明】</h5>
<div class="paragraph">
<p>指定した <strong>数値</strong> を小数点付きの文字列に変換する文字列関数です。<br>
引数の <strong>小数点桁数</strong> をnとした場合、数値÷10<sup>n</sup>の計算を行い、<br>
小数点以下の数値を含めて表示します。<br></p>
</div>
<div class="listingblock">
<div class="title">数値文字列変換例</div>
<div class="content">
<pre>PRINT DMP$(3141,3)
3.141</pre>
</div>
</div>
<div class="paragraph">
<p><strong>小数点桁数</strong> を指定しない場合、<strong>小数点桁数</strong> はデフォルトの2となります。<br></p>
</div>
<div class="listingblock">
<div class="title">デフォルトの数値文字列変換</div>
<div class="content">
<pre>PRINT DMP$(3141)
3.14</pre>
</div>
</div>
<div class="paragraph">
<p><strong>整数部桁数</strong> を指定した場合、その桁数に満たない場合は空白で補完します。<br></p>
</div>
<div class="paragraph">
<p>本関数を含め <strong>文字列関数</strong> は、<br>
<a href="#BLOAD"><strong>BLOAD</strong></a>、<a href="#BSAVE"><strong>BSAVE</strong></a>、<a href="#CAT"><strong>CAT</strong></a>、<a href="#DWBMP"><strong>DWBMP</strong></a>、<a href="#FILES"><strong>FILES</strong></a>、<a href="#GPRINT"><strong>GPRINT</strong></a>、 <a href="#KANJI"><strong>KANJI</strong></a>、<a href="#LDBMP"><strong>LDBMP</strong></a>、<br>
<a href="#LOAD"><strong>LOAD</strong></a>、<a href="#LRUN"><strong>LRUN</strong></a>、<a href="#PLAY"><strong>PLAY</strong></a>、<a href="#PRINT"><strong>PRINT</strong></a>、<a href="#REMOVE"><strong>REMOVE</strong></a>、<a href="#SAVE"><strong>SAVE</strong></a>、<a href="#SPRINT"><strong>SPRINT</strong></a><br>
コマンドの引数にて利用可能です。<br></p>
</div>
</div>
<div class="sect4">
<h5 id="_エラーメッセージ_43">【エラーメッセージ】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Syntax error</dt>
<dd>
<p>文法エラー、書式と異なる利用を行った</p>
</dd>
<dt class="hdlist1">Illegal value</dt>
<dd>
<p>指定した引数の値が有効範囲を超えている</p>
</dd>
<dt class="hdlist1">Overflow</dt>
<dd>
<p>指定した数値が-32768 ～ 32767を超えている</p>
</dd>
<dt class="hdlist1">Illegal value</dt>
<dd>
<p>桁数の値が正しくない</p>
</dd>
<dt class="hdlist1">'(' or ')' expected</dt>
<dd>
<p>’(‘ または ‘)’が無い</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_利用例_43">【利用例】</h5>
<div class="listingblock">
<div class="title">アナログ入力値0～4095を0～3.3Vで表示する</div>
<div class="content">
<pre>10 CLS
20 GPIO PB1,ANALOG
30 V=MAP(ANA(PB1),0,4095,0,3300)
40 LOCATE 0,0:? DMP$(V,3)
50 WAIT 200
60 GOTO 30</pre>
</div>
</div>
<div class="listingblock">
<div class="title">実行結果</div>
<div class="content">
<pre>run
2.011
2.215
2.294
2.330</pre>
</div>
</div>
<div class="paragraph">
<p>アナログ入力値0～4095を <strong><a href="#MAP">MAP</a></strong> 関数にて0～3300に変換し、<br>
0～3300の数値を <strong><a href="#DMP">DMP$</a></strong> 関数にて"0.000"～"3.300"の文字列数値に変換して表示しています。</p>
</div>
<hr>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect3">
<h4 id="HEX">3.5.7. HEX$</h4>
<div class="paragraph">
<p>数値の16進数文字列変換</p>
</div>
<div class="sect4">
<h5 id="_書式_44">【書式】</h5>
<div class="paragraph">
<p><strong><a href="#HEX">HEX$</a></strong> (数値)<br>
<strong><a href="#HEX">HEX$</a></strong> (数値 , 桁数)</p>
</div>
</div>
<div class="sect4">
<h5 id="_引数_44">【引数】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">数値</dt>
<dd>
<p>変換対象の整数値: -32767 ～ 32767</p>
</dd>
<dt class="hdlist1">桁数</dt>
<dd>
<p>出力桁数: 0 ～ 4</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_戻り値_11">【戻り値】</h5>
<div class="paragraph">
<p>16進数文字列(1桁～4桁)</p>
</div>
</div>
<div class="sect4">
<h5 id="_説明_44">【説明】</h5>
<div class="paragraph">
<p>指定した <strong>数値</strong> を16進数文字列に変換する <strong>文字列関数</strong> です。<br>
<strong>数値</strong> には式、変数、定数等の指定が可能です。<br></p>
</div>
<div class="paragraph">
<p><strong>桁数</strong> を指定した場合は <strong>数値</strong> が <strong>桁数</strong> に満たない場合は、0で桁を補います。<br>
<strong>桁数</strong> を超える場合は <strong>数値</strong> の <strong>桁数</strong> を優先します。<br>
<strong>桁数</strong> をしない場合は、先頭の0は付加されません。<br></p>
</div>
<div class="paragraph">
<p>本関数を含め <strong>文字列関数</strong> は、<br>
<a href="#BLOAD"><strong>BLOAD</strong></a>、<a href="#BSAVE"><strong>BSAVE</strong></a>、<a href="#CAT"><strong>CAT</strong></a>、<a href="#DWBMP"><strong>DWBMP</strong></a>、<a href="#FILES"><strong>FILES</strong></a>、<a href="#GPRINT"><strong>GPRINT</strong></a>、 <a href="#KANJI"><strong>KANJI</strong></a>、<a href="#LDBMP"><strong>LDBMP</strong></a>、<br>
<a href="#LOAD"><strong>LOAD</strong></a>、<a href="#LRUN"><strong>LRUN</strong></a>、<a href="#PLAY"><strong>PLAY</strong></a>、<a href="#PRINT"><strong>PRINT</strong></a>、<a href="#REMOVE"><strong>REMOVE</strong></a>、<a href="#SAVE"><strong>SAVE</strong></a>、<a href="#SPRINT"><strong>SPRINT</strong></a><br>
コマンドの引数にて利用可能です。<br></p>
</div>
</div>
<div class="sect4">
<h5 id="_エラーメッセージ_44">【エラーメッセージ】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Syntax error</dt>
<dd>
<p>文法エラー、書式と異なる利用を行った</p>
</dd>
<dt class="hdlist1">'(' or ')' expected</dt>
<dd>
<p>’(‘ または ‘)’がない</p>
</dd>
<dt class="hdlist1">Illegal value</dt>
<dd>
<p>桁数の値が正しくない</p>
</dd>
<dt class="hdlist1">Overflow</dt>
<dd>
<p>指定した数値が-32768 ～ 32767を超えている</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_利用例_44">【利用例】</h5>
<div class="listingblock">
<div class="title">入力した整数値を16進数表示する</div>
<div class="content">
<pre>10 INPUT "value=",V
20 PRINT HEX$(V,4)
30 GOTO 10</pre>
</div>
</div>
<hr>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect3">
<h4 id="LEN">3.5.8. LEN</h4>
<div class="paragraph">
<p>文字列の長さの取得</p>
</div>
<div class="sect4">
<h5 id="_書式_45">【書式】</h5>
<div class="paragraph">
<p><strong><a href="#LEN">LEN</a></strong> (変数)<br>
<strong><a href="#LEN">LEN</a></strong> (文字列)</p>
</div>
</div>
<div class="sect4">
<h5 id="_引数_45">【引数】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">変数</dt>
<dd>
<p>変数、または配列変数</p>
</dd>
<dt class="hdlist1">文字列</dt>
<dd>
<p>"文字列"の形式（ダブルクォーテーションで囲み）</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_戻り値_12">【戻り値】</h5>
<div class="paragraph">
<p>文字列の長さ: 0 ～ 32767</p>
</div>
</div>
<div class="sect4">
<h5 id="_説明_45">【説明】</h5>
<div class="paragraph">
<p>文字列定数、変数で参照してる文字列の文字数をカウントし、その値を返します。<br>
全角文字、半角文字とも1文字としてカウントします。<br></p>
</div>
<div class="listingblock">
<div class="title">例：半角全角混合文字列の長さを求める</div>
<div class="content">
<pre>10 ?LEN("1あ2い34う5678")
20 A="ABさいたまCDEF"
30 @(0)="abcdef埼玉"
40 ?LEN(A)
50 ?LEN(@(0))

RUN
11
10
8
OK</pre>
</div>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">注意</div>
</td>
<td class="content">
「豊四季Tiny BASIC for Arduino STM32」の文字列のサポートは限定的です。<br>
他の文字列関数と組み合わせた利用はサポートしていません。<br>
例) 下記のような記述は出来ません。<br>
  ?LEN(BIN$(100))
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_エラーメッセージ_45">【エラーメッセージ】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Syntax error</dt>
<dd>
<p>文法エラー、書式と異なる利用を行った</p>
</dd>
<dt class="hdlist1">Overflow</dt>
<dd>
<p>指定した数値が-32768 ～ 32767を超えている</p>
</dd>
<dt class="hdlist1">'(' or ')' expected</dt>
<dd>
<p>’(‘ または ‘)’が無い</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_利用例_45">【利用例】</h5>
<div class="listingblock">
<div class="title">文字を拡大表示する</div>
<div class="content">
<pre>10 CLS
20 A="Hello!"
30 FOR I=1 TO LEN(A)
40 BITMAP (I-1)*30,0,FNT,ASC(A,I),6,8,5
50 NEXT I
60 LOCATE 0,5</pre>
</div>
</div>
<div class="paragraph">
<p>変数Aが参照している文字列の長さ <strong>LEN</strong> 関数で取得し、その長の分、文字を拡大表示します。</p>
</div>
<div class="paragraph">
<p>実行結果<br></p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/LEN_sample_putput.png" alt="文字拡大表示">
</div>
</div>
<hr>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect3">
<h4 id="LET">3.5.9. LET</h4>
<div class="paragraph">
<p>変数への値代入</p>
</div>
<div class="sect4">
<h5 id="_書式_46">【書式】</h5>
<div class="paragraph">
<p><strong><a href="#LET">LET</a></strong> 変数 = 数値<br>
<strong><a href="#LET">LET</a></strong> 配列変数 = 数値, 数値, 数値, 数値．．．<br>
<strong>変数</strong> = 数値<br>
<strong>配列変数</strong> = 数値, 数値, 数値, 数値．．．<br></p>
</div>
<div class="paragraph">
<p><strong><a href="#LET">LET</a></strong> は省略可能</p>
</div>
</div>
<div class="sect4">
<h5 id="_引数_46">【引数】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">変数</dt>
<dd>
<p>変数、または配列変数</p>
</dd>
<dt class="hdlist1">配列変数</dt>
<dd>
<p>配列変数 @(添え字)<br>
配列の添え字(数値)には式、定数、変数、配列変数の利用が可能</p>
</dd>
<dt class="hdlist1">数値</dt>
<dd>
<p>式、定数、変数、配列変数の利用が可能</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_説明_46">【説明】</h5>
<div class="paragraph">
<p><strong>変数</strong> に値を代入します。<br>
<strong>数値</strong> には式、定数、変数、配列変数等を評価した整数値の記述が可能です。<br>
<strong>配列変数</strong> への代入は、指定した複数の <strong>数値</strong> の連続代入が可能です。<br>
指定した <strong>添え字</strong> を起点に順番に代入します。<br></p>
</div>
<div class="listingblock">
<div class="content">
<pre>LET @(3)=1,2,3,4,5</pre>
</div>
</div>
<div class="paragraph">
<p>上記の記述は、<br></p>
</div>
<div class="listingblock">
<div class="content">
<pre>LET @(3)=1: LET @(4)=2: LET @(5)=3: LET @(5)=4: LET @(5)=5</pre>
</div>
</div>
<div class="paragraph">
<p>と同じです。</p>
</div>
<div class="paragraph">
<p><strong><a href="#LET">LET</a></strong> は省略可能です。<br>
次の2は同じ結果となります。<br></p>
</div>
<div class="listingblock">
<div class="title">LETの省略</div>
<div class="content">
<pre>LET A=A+1
A=A+1</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_エラーメッセージ_46">【エラーメッセージ】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Syntax error</dt>
<dd>
<p>文法エラー、書式と異なる利用を行った</p>
</dd>
<dt class="hdlist1">Overflow</dt>
<dd>
<p>指定した数値が-32768 ～ 32767を超えている</p>
</dd>
<dt class="hdlist1">LET without variable</dt>
<dd>
<p>変数が指定されていない</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_利用例_46">【利用例】</h5>
<div class="listingblock">
<div class="title">変数Iに値を代入します</div>
<div class="content">
<pre>1 'Print starts
10 LET I=0:'initialize value
20 PRINT "*";
30 LET I=I+1:IF I&lt;10 GOTO 20
40 PRINT
50 END</pre>
</div>
</div>
<hr>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect3">
<h4 id="MAP">3.5.10. MAP</h4>
<div class="paragraph">
<p>数値のスケール変換</p>
</div>
<div class="sect4">
<h5 id="_書式_47">【書式】</h5>
<div class="paragraph">
<p><strong><a href="#MAP">MAP</a></strong> (値 , 範囲下限 , 範囲上限 , 新範囲下限 , 新範囲上限)</p>
</div>
</div>
<div class="sect4">
<h5 id="_引数_47">【引数】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">値</dt>
<dd>
<p>変換対象の数値 -32768 ～ 32767</p>
</dd>
<dt class="hdlist1">範囲下限</dt>
<dd>
<p>対象数値の数値の下限 -32768 ～ 32767</p>
</dd>
<dt class="hdlist1">範囲上限</dt>
<dd>
<p>対象数値の数値の上限 -32768 ～ 32767</p>
</dd>
<dt class="hdlist1">新範囲下限</dt>
<dd>
<p>新しい対象数値の数値の下限 -32768 ～ 32767</p>
</dd>
<dt class="hdlist1">新範囲上限</dt>
<dd>
<p>新しい新しい対象数値の数値の下限 -32768 ～ 32767</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_戻り値_13">【戻り値】</h5>
<div class="paragraph">
<p>スケール変換後の値: -32767 ～ 32767</p>
</div>
</div>
<div class="sect4">
<h5 id="_説明_47">【説明】</h5>
<div class="paragraph">
<p>指定した値のスケール変換を行い、その値を返します。</p>
</div>
<div class="listingblock">
<div class="title">例</div>
<div class="content">
<pre>A=MAP(ANA(PA07),0,4095,0,99)</pre>
</div>
</div>
<div class="paragraph">
<p>上記の例ではアナログ入力値0～4095を0 ～ 99のレンジに変換し、その値を返します。<br>
アナログ入力や画面座標指定、PWMパルス出力等にて <strong><a href="#MAP">MAP</a></strong> 関数を使うことで、簡単にレンジ変換を行うことができます。<br></p>
</div>
</div>
<div class="sect4">
<h5 id="_エラーメッセージ_47">【エラーメッセージ】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Syntax error</dt>
<dd>
<p>文法エラー、書式と異なる利用を行った</p>
</dd>
<dt class="hdlist1">Overflow</dt>
<dd>
<p>指定した数値が-32768 ～ 32767を超えている</p>
</dd>
<dt class="hdlist1">'(' or ')' expected</dt>
<dd>
<p>’(‘ または ‘)’が無い</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_利用例_47">【利用例】</h5>
<div class="listingblock">
<div class="title">アナログ入力値0～4095を0～3.3Vで表示する</div>
<div class="content">
<pre>10 CLS
20 GPIO PB1,ANALOG
30 V=MAP(ANA(PB1),0,4095,0,3300)
40 LOCATE 0,0:? DMP$(V,3)
50 WAIT 200
60 GOTO 30</pre>
</div>
</div>
<hr>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect3">
<h4 id="RND">3.5.11. RND</h4>
<div class="paragraph">
<p>乱数の発生</p>
</div>
<div class="sect4">
<h5 id="_書式_48">【書式】</h5>
<div class="paragraph">
<p><strong><a href="#RND">RND</a></strong> (数値)</p>
</div>
</div>
<div class="sect4">
<h5 id="_引数_48">【引数】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">数値</dt>
<dd>
<p>式、変数、配列変数、<br>
数値(0 ～ 32767)、数値定数<br>
の指定が可能</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_戻り値_14">【戻り値】</h5>
<div class="paragraph">
<p>0から指定した値未満の乱数</p>
</div>
</div>
<div class="sect4">
<h5 id="_説明_48">【説明】</h5>
<div class="paragraph">
<p>0から指定した値－1の範囲の乱数を発生させ、その値を返します。<br></p>
</div>
<div class="listingblock">
<div class="title">例: 0～9の乱数の発生</div>
<div class="content">
<pre>R=RND(10)</pre>
</div>
</div>
<div class="paragraph">
<p>上記の例では変数 <strong>R</strong> には0～9範囲の値が代入されます。</p>
</div>
</div>
<div class="sect4">
<h5 id="_エラーメッセージ_48">【エラーメッセージ】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Syntax error</dt>
<dd>
<p>文法エラー、書式と異なる利用を行った</p>
</dd>
<dt class="hdlist1">Overflow</dt>
<dd>
<p>指定した数値が-32768 ～ 32767を超えている</p>
</dd>
<dt class="hdlist1">'(' or ')' expected</dt>
<dd>
<p>’(‘ または ‘)’が無い</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_利用例_48">【利用例】</h5>
<div class="listingblock">
<div class="title">ジャンケンの表示</div>
<div class="content">
<pre>10 @(0)="ｸﾞｰ","ﾁｮｷ","ﾊﾟｰ"
20 FOR I=1 TO 5
30 R=RND(3)
40 PRINT I,":";STR$(@(R))
50 NEXT I
run
1:ﾁｮｷ
2:ﾊﾟｰ
3:ﾁｮｷ
4:ｸﾞｰ
5:ﾊﾟｰ
OK</pre>
</div>
</div>
<hr>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect3">
<h4 id="STR">3.5.12. STR$</h4>
<div class="paragraph">
<p>文字列参照・文字列の切り出し</p>
</div>
<div class="sect4">
<h5 id="_書式_49">【書式】</h5>
<div class="paragraph">
<p><strong><a href="#STR">STR$</a></strong> (変数)<br>
<strong><a href="#STR">STR$</a></strong> (変数,先頭位置,長さ)<br>
<strong><a href="#STR">STR$</a></strong> (文字列)<br>
<strong><a href="#STR">STR$</a></strong> (文字列,先頭位置,長さ)</p>
</div>
</div>
<div class="sect4">
<h5 id="_引数_49">【引数】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">変数</dt>
<dd>
<p>文字列を参照している変数または配列変数</p>
</dd>
<dt class="hdlist1">先頭位置</dt>
<dd>
<p>切り出す文字位置先頭 1～32767</p>
</dd>
<dt class="hdlist1">長さ</dt>
<dd>
<p>切り出す文字の長さ   1～32767</p>
</dd>
<dt class="hdlist1">文字列</dt>
<dd>
<p>ダブルクォーテーションで囲った文字列定数( "文字列" )</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_戻り値_15">【戻り値】</h5>
<div class="paragraph">
<p>指定した <strong>文字列</strong> および <strong>変数</strong> が参照している文字列を全部または一部を切り出して返します。<br>
全角(シフトJIS)1文字は1文字としてカウントします。<br></p>
</div>
</div>
<div class="sect4">
<h5 id="_説明_49">【説明】</h5>
<div class="paragraph">
<p>指定した <strong>文字列</strong> および <strong>変数</strong> が参照している文字列を全部または一部を
切り出して返す文字列関数です。<br>
引数に <strong>先頭位置</strong>、<strong>長さ</strong> を指定した場合は、その条件にて文字列を切り出して返します。<br>
<strong>先頭位置</strong> は1からの指定となります。<br></p>
</div>
<div class="paragraph">
<p>本関数を含め <strong>文字列関数</strong> は、<br>
<a href="#BLOAD"><strong>BLOAD</strong></a>、<a href="#BSAVE"><strong>BSAVE</strong></a>、<a href="#CAT"><strong>CAT</strong></a>、<a href="#DWBMP"><strong>DWBMP</strong></a>、<a href="#FILES"><strong>FILES</strong></a>、<a href="#GPRINT"><strong>GPRINT</strong></a>、 <a href="#KANJI"><strong>KANJI</strong></a>、<a href="#LDBMP"><strong>LDBMP</strong></a>、<br>
<a href="#LOAD"><strong>LOAD</strong></a>、<a href="#LRUN"><strong>LRUN</strong></a>、<a href="#PLAY"><strong>PLAY</strong></a>、<a href="#PRINT"><strong>PRINT</strong></a>、<a href="#REMOVE"><strong>REMOVE</strong></a>、<a href="#SAVE"><strong>SAVE</strong></a>、<a href="#SPRINT"><strong>SPRINT</strong></a><br>
コマンドの引数にて利用可能です。<br></p>
</div>
<div class="listingblock">
<div class="title">例</div>
<div class="content">
<pre>10 S="Hello,world! こんにちは世界!"
20 ?STR$(S)
30 ?STR$(S,14,8)
40 ?STR$("あいうえお",5,1)</pre>
</div>
</div>
<div class="listingblock">
<div class="title">実行結果</div>
<div class="content">
<pre>run
Hello,world! こんにちは世界!
こんにちは世界!
お
OK</pre>
</div>
</div>
<div class="paragraph">
<p>上記の例では、変数Sが参照している文字列" Hello,world! こんにちは世界!"に対して、<br>
20行は全て出力、30行は14番目からの文字から8文字 "こんにちは世界!""を出力、<br>
40行は直接指定した文字列"あいうえお"の5番目の文字から1文字 "お"を出力しています。<br></p>
</div>
</div>
<div class="sect4">
<h5 id="_エラーメッセージ_49">【エラーメッセージ】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Syntax error</dt>
<dd>
<p>文法エラー、書式と異なる利用を行った</p>
</dd>
<dt class="hdlist1">Illegal value</dt>
<dd>
<p>指定した文字位置、長さの値が不当</p>
</dd>
<dt class="hdlist1">'(' or ')' expected</dt>
<dd>
<p>’(‘ または ‘)’が無い</p>
</dd>
<dt class="hdlist1">Overflow</dt>
<dd>
<p>指定した数値が-32768 ～ 32767を超えている</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_利用例_49">【利用例】</h5>
<div class="listingblock">
<div class="title">変数が参照している文字列を切り出して表示する</div>
<div class="content">
<pre>10 'ﾓｼﾞﾚﾂｿｳｻ ｻﾝﾌﾟﾙ
20 S="Hello,Tiny BASIC"
30 L=LEN(S)
40 PRINT STR$(S);" LEN=";L
50 PRINT STR$(S,1,5)
60 C=ASC(S,12)
RUN
Hello,Tiny BASIC LEN=16
Hello</pre>
</div>
</div>
<div style="page-break-after: always;"></div>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="STRCMP">3.5.13. STRCMP</h4>
<div class="paragraph">
<p>文字列の比較</p>
</div>
<div class="sect4">
<h5 id="_書式_50">【書式】</h5>
<div class="paragraph">
<p><a href="#STRCMP"><strong>STRCMP</strong></a>(文字列1, 文字列2[, 長さ])</p>
</div>
<div class="paragraph">
<p>※<strong>文字列1</strong>、<strong>文字列2</strong> には文字列定数、変数の指定が可能</p>
</div>
</div>
<div class="sect4">
<h5 id="_引数_50">【引数】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">文字列1</dt>
<dd>
<p><strong>文字列定数</strong> または、文字列を参照している <strong>変数</strong></p>
</dd>
<dt class="hdlist1">文字列2</dt>
<dd>
<p><strong>文字列定数</strong> または、文字列を参照している <strong>変数</strong></p>
</dd>
<dt class="hdlist1">長さ</dt>
<dd>
<p>比較を行う文字列長</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_戻り値_16">【戻り値】</h5>
<div class="paragraph">
<p>0：等しい<br>
1：等しくない</p>
</div>
</div>
<div class="sect4">
<h5 id="_説明_50">【説明】</h5>
<div class="paragraph">
<p><strong>文字列1</strong> と <strong>文字列2</strong> を比較し、等しい場合は0、等しくない場合は1を返します。<br>
引数に <strong>長さ</strong> を指定している場合は、その長さの文字列分の比較を行い判定します。<br>
<strong>長さ</strong> の指定を行っていない場合は、単純に文字列1と文字列2の比較を行います。</p>
</div>
</div>
<div class="sect4">
<h5 id="_エラーメッセージ_50">【エラーメッセージ】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Syntax error</dt>
<dd>
<p>文法エラー、書式と異なる利用を行った</p>
</dd>
<dt class="hdlist1">Illegal value</dt>
<dd>
<p>指定した引数が正しくない</p>
</dd>
<dt class="hdlist1">'(' or ')' expected</dt>
<dd>
<p>’(‘ または ‘)’がない</p>
</dd>
<dt class="hdlist1">Overflow</dt>
<dd>
<p>指定した数値が-32768 ～ 32767を超えている</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_利用例_50">【利用例】</h5>
<div class="listingblock">
<div class="title">入力した文字列を比較する</div>
<div class="content">
<pre>10 ?"どんなペットを飼っていますか？ ";
20 S=GETS(MEM)
30 IF STRCMP(S,"ねこ") ?STR$(S);"はかわいいね" ELSE ?"ねこを飼いなさい！"
40 GOTO 10</pre>
</div>
</div>
<div class="listingblock">
<div class="title">実行結果</div>
<div class="content">
<pre>run
どんなペットを飼っていますか？ さる
ねこを飼いなさい！
どんなペットを飼っていますか？ いぬ
ねこを飼いなさい！
どんなペットを飼っていますか？ ねこ
ねこはかわいいね
どんなペットを飼っていますか？</pre>
</div>
</div>
<div style="page-break-after: always;"></div>
<hr>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_仮想メモリー参照_2">3.6. 仮想メモリー参照</h3>
<div class="sect3">
<h4 id="PEEK">3.6.1. PEEK</h4>
<div class="paragraph">
<p>指定アドレスの値参照</p>
</div>
<div class="sect4">
<h5 id="_書式_51">【書式】</h5>
<div class="paragraph">
<p><strong><a href="#PEEK">PEEK</a></strong> (仮想アドレス)</p>
</div>
</div>
<div class="sect4">
<h5 id="_引数_51">【引数】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">仮想アドレス</dt>
<dd>
<p>SRAM及びフラシュメモリの領域アドレス(16ビット) ： $0000 ～</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_戻り値_17">【戻り値】</h5>
<div class="paragraph">
<p>指定した仮想アドレスに格納されている1バイトデータ：0～255</p>
</div>
</div>
<div class="sect4">
<h5 id="_説明_51">【説明】</h5>
<div class="paragraph">
<p>指定した仮想アドレスに格納されている値（１バイト）を返します。<br>
仮想アドレスの指定には次の定数を利用することで有用な領域への参照が簡単に行えます。<br></p>
</div>
<table class="tableblock frame-all grid-all fit-content">
<colgroup>
<col>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">定数名</th>
<th class="tableblock halign-center valign-top">仮想化ドレス名</th>
<th class="tableblock halign-center valign-top">概要</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#_メモリ領域先頭アドレス定数">VRAM</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">画面表示用メモリ(CW×CH)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">サイズは<a href="#SCREEN">SCREEN</a>モードにより可変</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#_メモリ領域先頭アドレス定数">VAR</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">変数領域</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">サイズ 420バイト</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#_メモリ領域先頭アドレス定数">ARRAY</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">配列変数領域(@(0)～@(99) )</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">サイズ 200バイト</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#_メモリ領域先頭アドレス定数">PRG</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">プログラム領域</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">サイズ 4,096バイト</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#_メモリ領域先頭アドレス定数">MEM</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ユーザーワーク領域</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">サイズ 1,024バイト</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#_メモリ領域先頭アドレス定数">FNT</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">フォント256文字(フラッシュメモリ)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">サイズ 2,048バイト</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#_メモリ領域先頭アドレス定数">GRAM</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">グラフィック表示用メモリ</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">サイズは<a href="#SCREEN">SCREEN</a>モードにより可変</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#_メモリ領域先頭アドレス定数">PRG2</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">フラッシュメモリプログラム保存領域</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">サイズ 4,096バイト<br>
<a href="#BANK">BANK</a>コマンドにより0～5のバンク切り替え</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>仮想アドレスの詳細については、「<a href="../仕様/メモリーマップ.adoc">メモリーマップ</a>」の「<a href="../仕様/メモリーマップ.adoc#_仮想アドレス">仮想アドレス</a>」を参照下さい。</p>
</div>
<div class="paragraph">
<p>ユーザーワーク領域は利用者が自由に利用出来る領域です。<br>
それ以外の領域はBASICの実行にて利用する領域です。<br>
例として画面上のカーソル位置X,Yに格納されている文字の参照は次のようになります。<br></p>
</div>
<div class="listingblock">
<div class="title">例</div>
<div class="content">
<pre>C = PEEK(VRAM+Y*CW+X)</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_エラーメッセージ_51">【エラーメッセージ】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Syntax error</dt>
<dd>
<p>文法エラー、書式と異なる利用を行った</p>
</dd>
<dt class="hdlist1">Out of range value</dt>
<dd>
<p>領域外のアドレスを指定した</p>
</dd>
<dt class="hdlist1">'(' or ')' expected	</dt>
<dd>
<p>括弧の指定が正しくない</p>
</dd>
<dt class="hdlist1">Overflow</dt>
<dd>
<p>指定した数値が-32768 ～ 32767を超えている</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_利用例_51">【利用例】</h5>
<div class="listingblock">
<div class="title">文字"A"のフォントデータを参照し、2進数で表示する</div>
<div class="content">
<pre>10 FOR I=0 TO 7
20 D=PEEK(FNT+ASC("A")*8+I)
30 PRINT BIN$(D,8)
40 NEXT I</pre>
</div>
</div>
<div class="listingblock">
<div class="title">実行結果</div>
<div class="content">
<pre>run
01110000
10001000
10001000
10001000
11111000
10001000
10001000
00000000
OK</pre>
</div>
</div>
<hr>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect3">
<h4 id="POKE">3.6.2. POKE</h4>
<div class="paragraph">
<p>指定アドレスへのデータ書き込み</p>
</div>
<div class="sect4">
<h5 id="_書式_52">【書式】</h5>
<div class="paragraph">
<p><strong><a href="#POKE">POKE</a></strong> 仮想アドレス , データ<br>
<strong><a href="#POKE">POKE</a></strong> 仮想アドレス , データ , データ , … ,データ(可変個数指定)</p>
</div>
</div>
<div class="sect4">
<h5 id="_引数_52">【引数】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">仮想アドレス</dt>
<dd>
<p>仮想アドレス(16ビット): $0000 ～</p>
</dd>
<dt class="hdlist1">データ</dt>
<dd>
<p>書き込むデータ（下位8ﾋﾞｯﾄのみ有効）</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_説明_52">【説明】</h5>
<div class="paragraph">
<p>指定した仮想アドレスに指定したデータを書き込みます。<br>
仮想アドレスの指定には次の定数を利用することで有用な領域への書込みが簡単に行えます。<br></p>
</div>
<table class="tableblock frame-all grid-all fit-content">
<colgroup>
<col>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">定数名</th>
<th class="tableblock halign-center valign-top">仮想化ドレス名</th>
<th class="tableblock halign-center valign-top">概要</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#_メモリ領域先頭アドレス定数">VRAM</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">画面表示用メモリ(CW×CH)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">サイズは<a href="#SCREEN">SCREEN</a>モードにより可変</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#_メモリ領域先頭アドレス定数">VAR</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">変数領域</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">サイズ 420バイト</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#_メモリ領域先頭アドレス定数">ARRAY</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">配列変数領域(@(0)～@(99) )</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">サイズ 200バイト</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#_メモリ領域先頭アドレス定数">PRG</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">プログラム領域</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">サイズ 4,096バイト</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#_メモリ領域先頭アドレス定数">MEM</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ユーザーワーク領域</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">サイズ 1,024バイト</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#_メモリ領域先頭アドレス定数">FNT</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">フォント256文字(フラッシュメモリ)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">サイズ 2,048バイト</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#_メモリ領域先頭アドレス定数">GRAM</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">グラフィック表示用メモリ</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">サイズは<a href="#SCREEN">SCREEN</a>モードにより可変</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#_メモリ領域先頭アドレス定数">PRG2</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">フラッシュメモリプログラム保存領域</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">サイズ 4,096バイト<br>
<a href="#BANK">BANK</a>コマンドにより0～5のバンク切り替え</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>仮想アドレスの詳細については、「<a href="../仕様/メモリーマップ.adoc">メモリーマップ</a>」の「<a href="../仕様/メモリーマップ.adoc#_仮想アドレス">仮想アドレス</a>」を参照下さい。</p>
</div>
<div class="paragraph">
<p>ユーザーワーク領域は利用者が自由に利用出来る領域です。<br>
それ以外の領域はBASICの実行にて利用する領域です。<br>
指定した仮想アドレスに上記以外の領域を指定した場合はエラーとなります。<br></p>
</div>
<div class="paragraph">
<p>例として画面上のカーソル位置X,Yへの文字の書込みは次のようになります。<br>
VRAMに書き込んだ内容を画面の表示に反映するには <strong><a href="#REDRAW">REDRAW</a></strong> コマンドを実行します。<br></p>
</div>
<div class="listingblock">
<div class="title">REDRAW利用例</div>
<div class="content">
<pre>10 POKE VRAM+Y*80+X,ASC("A")
20 REDRAW</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_エラーメッセージ_52">【エラーメッセージ】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Syntax error</dt>
<dd>
<p>文法エラー、書式と異なる利用を行った</p>
</dd>
<dt class="hdlist1">Out of range value</dt>
<dd>
<p>S領域外のアドレスを指定した</p>
</dd>
<dt class="hdlist1">Overflow</dt>
<dd>
<p>指定した数値が-32768 ～ 32767を超えている</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_利用例_52">【利用例】</h5>
<div class="listingblock">
<div class="title">変数AからZの内容をユーザーワーク領域に保存する</div>
<div class="content">
<pre>10 FOR I=0 TO 51
20 POKE MEM+I,PEEK(VAR+I)
30 NEXT I</pre>
</div>
</div>
<div style="page-break-after: always;"></div>
<hr>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_時間_2">3.7. 時間</h3>
<div class="sect3">
<h4 id="TICK">3.7.1. TICK</h4>
<div class="paragraph">
<p>経過時間取得</p>
</div>
<div class="sect4">
<h5 id="_書式_53">【書式】</h5>
<div class="paragraph">
<p><strong><a href="#TICK">TICK</a></strong> ()<br>
<strong><a href="#TICK">TICK</a></strong> (モード)</p>
</div>
</div>
<div class="sect4">
<h5 id="_引数_53">【引数】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">モード</dt>
<dd>
<p>0：経過時間をミリ秒単位で取得する（デフォルト）<br>
1：経過時間を秒単位で取得する</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_戻り値_18">【戻り値】</h5>
<div class="paragraph">
<p>モード指定に従った経過時間を返す。<br>
モード 0： 0 ～ 32767 ミリ秒の経過時間を返す(約32.767秒でオーバーフロー)<br>
モード 1： 0 ～ 32767 秒の経過時間を返す(約9.1時間でオーバーフロー）<br></p>
</div>
</div>
<div class="sect4">
<h5 id="_説明_53">【説明】</h5>
<div class="paragraph">
<p>起動からの経過時間を返します。<br>
経過時間は <strong><a href="#CLT">CLT</a></strong> コマンドにて初期化が可能です。<br>
<strong><a href="#CLT">CLT</a></strong> コマンドと組み合わせて使うことで、処理時間の測定を行うことが出来ます。<br>
<strong>モード</strong> 指定無し、または0を指定の場合、<strong>ミリ秒単位</strong> の経過時間を返します。<br>
<strong>モード</strong> に1を指定した場合は、<strong>秒単位</strong> の経過時間を返します。<br></p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">注意</div>
</td>
<td class="content">
オーバーフローが発生しますので、長時間の測定には利用することが出来ません。
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_エラーメッセージ_53">【エラーメッセージ】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Syntax error</dt>
<dd>
<p>文法エラー、書式と異なる利用を行った</p>
</dd>
<dt class="hdlist1">'(' or ')' expected</dt>
<dd>
<p>’(‘ または ‘)’がない、引数の指定が正しくない</p>
</dd>
<dt class="hdlist1">Illegal value</dt>
<dd>
<p>モードの指定値が正しくない</p>
</dd>
<dt class="hdlist1">Overflow</dt>
<dd>
<p>モードの指定値が-32767 ～ 32767を超えている</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_利用例_53">【利用例】</h5>
<div class="listingblock">
<div class="title">1万回ループの実行時間を測定する</div>
<div class="content">
<pre>10 A=0
20 CLT
30 FOR I=1 TO 10000
40 A=A+1
50 NEXT I
60 PRINT A
70 PRINT TICK();"msec"

RUN
10000
225msec</pre>
</div>
</div>
<hr>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect3">
<h4 id="DATE">3.7.2. DATE</h4>
<div class="paragraph">
<p>現在時刻の表示</p>
</div>
<div class="sect4">
<h5 id="_書式_54">【書式】</h5>
<div class="paragraph">
<p><strong><a href="#DATE">DATE</a></strong></p>
</div>
</div>
<div class="sect4">
<h5 id="_引数_54">【引数】</h5>
<div class="paragraph">
<p>なし</p>
</div>
</div>
<div class="sect4">
<h5 id="_説明_54">【説明】</h5>
<div class="paragraph">
<p>内蔵RTCから現在の時刻を読み、その情報を画面に表示します。<br></p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">注意</div>
</td>
<td class="content">
内蔵RTC用のバックアップ電池を搭載していないボードでは、<br>
時刻情報は電源OFFにより初期化されます。<br>
その場合は <strong><a href="#SETDATE">SETDATE</a></strong> コマンドにて時刻設定を行って下さい
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_エラーメッセージ_54">【エラーメッセージ】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Syntax error</dt>
<dd>
<p>文法エラー、書式と異なる利用を行った</p>
</dd>
<dt class="hdlist1">Overflow</dt>
<dd>
<p>指定した数値が-32768 ～ 32767を超えている</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_利用例_54">【利用例】</h5>
<div class="listingblock">
<div class="title">時刻の設定と表示を行う</div>
<div class="content">
<pre>SETDATE 2017,4,1,12,00,00
OK
DATE
2017/04/01 [Sat] 12:00:03
OK</pre>
</div>
</div>
<hr>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect3">
<h4 id="GETDATE">3.7.3. GETDATE</h4>
<div class="paragraph">
<p>日付の取得</p>
</div>
<div class="sect4">
<h5 id="_書式_55">【書式】</h5>
<div class="paragraph">
<p><strong><a href="#GETDATE">GETDATE</a></strong> 年格納変数, 月格納変数, 日格納変数, 曜日格納変数</p>
</div>
</div>
<div class="sect4">
<h5 id="_引数_55">【引数】</h5>
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
年格納変数
</td>
<td class="hdlist2">
<p>取得した西暦年を格納する変数を指定</p>
</td>
</tr>
<tr>
<td class="hdlist1">
月格納変数
</td>
<td class="hdlist2">
<p>取得した月を格納する変数を指定</p>
</td>
</tr>
<tr>
<td class="hdlist1">
日格納変数
</td>
<td class="hdlist2">
<p>取得した日を格納する変数を指定</p>
</td>
</tr>
<tr>
<td class="hdlist1">
曜日格納変数
</td>
<td class="hdlist2">
<p>取得した曜日コードを格納する変数を指定</p>
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_説明_55">【説明】</h5>
<div class="paragraph">
<p>内蔵RTCから日付情報を取得し、その値を指定した変数に格納します。<br>
格納される値は次の通りです。<br></p>
</div>
<div class="paragraph">
<p>年格納変数： 西暦年4桁整数 1970 ～ 2036<br>
月格納変数： 1 ～ 12<br>
日格納変数： 1 ～ 31<br>
曜日格納変数： 曜日コード 0 ～ 6（0:月 1:火 2:水 3:木 4:金 5:土 6:日）</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">注意</div>
</td>
<td class="content">
内蔵RTC用のバックアップ電池を搭載していないボードでは、<br>
時刻情報は電源OFFにより初期化されます。<br>
その場合は <strong><a href="#SETDATE">SETDATE</a></strong> コマンドにて時刻設定を行って下さい。
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_エラーメッセージ_55">【エラーメッセージ】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Syntax error</dt>
<dd>
<p>文法エラー、書式と異なる利用を行った</p>
</dd>
<dt class="hdlist1">Overflow</dt>
<dd>
<p>指定した数値が-32768 ～ 32767を超えている</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_利用例_55">【利用例】</h5>
<div class="listingblock">
<div class="title">現在の日付を取得する</div>
<div class="content">
<pre>DATE
2017/04/01 [Sat] 12:03:05
OK
GETDATE A,B,C,D
OK
PRINT a;b;c;d
2017416
OK</pre>
</div>
</div>
<hr>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect3">
<h4 id="GETTIME">3.7.4. GETTIME</h4>
<div class="paragraph">
<p>時刻の取得</p>
</div>
<div class="sect4">
<h5 id="_書式_56">【書式】</h5>
<div class="paragraph">
<p><strong><a href="#GETTIME">GETTIME</a></strong> 時格納変数 , 分格納変数 , 秒格納変数</p>
</div>
</div>
<div class="sect4">
<h5 id="_引数_56">【引数】</h5>
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
時格納変数
</td>
<td class="hdlist2">
<p>取得した時を格納する変数を指定</p>
</td>
</tr>
<tr>
<td class="hdlist1">
分格納変数
</td>
<td class="hdlist2">
<p>取得した分を格納する変数を指定</p>
</td>
</tr>
<tr>
<td class="hdlist1">
秒格納変数
</td>
<td class="hdlist2">
<p>取得した秒を格納する変数を指定</p>
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_説明_56">【説明】</h5>
<div class="paragraph">
<p>内蔵RTCから日付情報を取得し、その値を指定した変数に格納します。<br>
格納される値を次の通りです。</p>
</div>
<div class="paragraph">
<p>時格納変数： 0 ～ 23 整数<br>
分格納変数： 0 ～ 59 整数<br>
秒格納変数： 0 ～ 59 整数</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">注意</div>
</td>
<td class="content">
内蔵RTC用のバックアップ電池を搭載していないボードでは、<br>
時刻情報は電源OFFにより初期化されます。<br>
その場合は <strong><a href="#SETDATE">SETDATE</a></strong> コマンドにて時刻設定を行って下さい。
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_エラーメッセージ_56">【エラーメッセージ】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Syntax error</dt>
<dd>
<p>文法エラー、書式と異なる利用を行った</p>
</dd>
<dt class="hdlist1">Overflow</dt>
<dd>
<p>指定した数値が-32768 ～ 32767を超えている</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_利用例_56">【利用例】</h5>
<div class="listingblock">
<div class="title">現在の時間を取得する</div>
<div class="content">
<pre>DATE
2017/04/01 [Sat] 12:10:51
OK
GETTIME A,B,C
OK
PRINT #-2,a;":";b;":";c
12:11:01
OK</pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">補足</div>
</td>
<td class="content">
<strong><a href="#PRINT">PRINT</a></strong> 文の #-2 は数値を2桁(0付き)で表示する指定です。
</td>
</tr>
</table>
</div>
<hr>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect3">
<h4 id="CLT">3.7.5. CLT</h4>
<div class="paragraph">
<p>経過時間カウントのリセット</p>
</div>
<div class="sect4">
<h5 id="_書式_57">【書式】</h5>
<div class="paragraph">
<p><strong><a href="#CLT">CLT</a></strong></p>
</div>
</div>
<div class="sect4">
<h5 id="_引数_57">【引数】</h5>
<div class="paragraph">
<p>なし</p>
</div>
</div>
<div class="sect4">
<h5 id="_説明_57">【説明】</h5>
<div class="paragraph">
<p>起動からの経過時間カウンタをリセット（0を設定）します。<br>
<strong><a href="#TICK">TICK</a></strong> 関数使う前に経過時間カウントをリセットすることで0からのカウントを行うことが出来ます。<br></p>
</div>
</div>
<div class="sect4">
<h5 id="_エラーメッセージ_57">【エラーメッセージ】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Syntax error</dt>
<dd>
<p>文法エラー、書式と異なる利用を行った</p>
</dd>
<dt class="hdlist1">Overflow</dt>
<dd>
<p>指定した数値が-32768 ～ 32767を超えている</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_利用例_57">【利用例】</h5>
<div class="listingblock">
<div class="title">1万回ループの実行時間を測定する</div>
<div class="content">
<pre>10 A=0
20 CLT
30 FOR I=1 TO 10000
40 A=A+1
50 NEXT I
60 PRINT A
70 PRINT TICK();"msec"

RUN
10000
225msec</pre>
</div>
</div>
<hr>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect3">
<h4 id="SETDATE">3.7.6. SETDATE</h4>
<div class="paragraph">
<p>時刻の設定</p>
</div>
<div class="sect4">
<h5 id="_書式_58">【書式】</h5>
<div class="paragraph">
<p><strong><a href="#SETDATE">SETDATE</a></strong> 年,月,日,時,分,秒</p>
</div>
</div>
<div class="sect4">
<h5 id="_引数_58">【引数】</h5>
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
年
</td>
<td class="hdlist2">
<p>1900 ～ 2036 の西暦年4桁の整数</p>
</td>
</tr>
<tr>
<td class="hdlist1">
月
</td>
<td class="hdlist2">
<p>1 ～ 12 	の整数</p>
</td>
</tr>
<tr>
<td class="hdlist1">
日
</td>
<td class="hdlist2">
<p>1 ～ 31		の整数</p>
</td>
</tr>
<tr>
<td class="hdlist1">
時
</td>
<td class="hdlist2">
<p>0 ～ 23		の整数</p>
</td>
</tr>
<tr>
<td class="hdlist1">
分
</td>
<td class="hdlist2">
<p>0 ～ 59		の整数</p>
</td>
</tr>
<tr>
<td class="hdlist1">
秒
</td>
<td class="hdlist2">
<p>0 ～ 59		の整数</p>
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_説明_58">【説明】</h5>
<div class="paragraph">
<p>指定した時刻を内蔵RTCに設定します。</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">注意</div>
</td>
<td class="content">
内蔵RTC用のバックアップ電池を搭載していないボードでは、<br>
時刻情報は電源OFFにより初期化されます。<br>
その場合は <strong><a href="#SETDATE">SETDATE</a></strong> コマンドにて時刻設定を行って下さい。
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_エラーメッセージ_58">【エラーメッセージ】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Illegal value</dt>
<dd>
<p>指定した引数の数値が有効範囲以外</p>
</dd>
<dt class="hdlist1">Syntax error</dt>
<dd>
<p>文法エラー、書式と異なる利用を行った</p>
</dd>
<dt class="hdlist1">Overflow</dt>
<dd>
<p>指定した数値が-32768 ～ 32767を超えている</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_利用例_58">【利用例】</h5>
<div class="listingblock">
<div class="title">時刻の設定と表示を行う</div>
<div class="content">
<pre>Y=2017:M=4:D=1:H=12:N=0:S=0
SETDATE Y,M,D,H,N,S
OK
DATE
2017/04/01 [Sat] 12:00:03
OK</pre>
</div>
</div>
<hr>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect3">
<h4 id="WAIT">3.7.7. WAIT</h4>
<div class="paragraph">
<p>時間待ち</p>
</div>
<div class="sect4">
<h5 id="_書式_59">【書式】</h5>
<div class="paragraph">
<p><strong><a href="#WAIT">WAIT</a></strong> 時間(ミリ秒)</p>
</div>
</div>
<div class="sect4">
<h5 id="_引数_59">【引数】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">時間</dt>
<dd>
<p>0 ～ 32767 （単位 ミリ秒）</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_説明_59">【説明】</h5>
<div class="paragraph">
<p>引数で指定した <strong>時間</strong> (ミリ秒単位)、時間待ち(ウェイト)を行います。<br>
最大で32767ミリ秒（32.8秒）の時間待ちが可能です。<br>
長い時間待ちを行う必要がある場合は、<strong><a href="#TICK">TICK</a></strong> 関数や <strong><a href="#GETTIME">GETTIME</a></strong> コマンドを使った方法を検討してください。<br></p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">注意</div>
</td>
<td class="content">
時間待ち中はキー操作によるプログラム中断を行うことは出来ません。<br>
短い時間の指定にてループ処理を行う等の対策を行ってください。
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_エラーメッセージ_59">【エラーメッセージ】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Syntax error</dt>
<dd>
<p>文法エラー、書式と異なる利用を行った</p>
</dd>
<dt class="hdlist1">Illegal value</dt>
<dd>
<p>待ち時間に範囲外の値を指定した</p>
</dd>
<dt class="hdlist1">Overflow</dt>
<dd>
<p>指定した数値が-32768 ～ 32767を超えている</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_利用例_59">【利用例】</h5>
<div class="listingblock">
<div class="title">画面上の指定位置に時刻を1秒間隔で更新表示する</div>
<div class="content">
<pre>10 SETDATE 2017,4,1,12,0,0
20 CLS
30 LOCATE 5,5
40 DATE
50 WAIT 1000
60 GOTO 30</pre>
</div>
</div>
<hr>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_gpio_io入出力_2">3.8. GPIO I/O入出力</h3>
<div class="sect3">
<h4 id="ANA">3.8.1. ANA</h4>
<div class="paragraph">
<p>アナログ入力</p>
</div>
<div class="sect4">
<h5 id="_書式_60">【書式】</h5>
<div class="paragraph">
<p><strong><a href="#ANA">ANA</a></strong> (ピン番号)</p>
</div>
</div>
<div class="sect4">
<h5 id="_引数_60">【引数】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">ピン番号</dt>
<dd>
<p>0 ～ 7, 16, 17 または以下の<a href="#_ピン番号定数">ピン番号定数</a><br></p>
<div class="dlist">
<dl>
<dt class="hdlist1"></dt>
<dd>
<p>PA0, PA1, PA2, PA3, PA4, PA5, PA6, PA7,<br>
PB0, PB1</p>
</dd>
</dl>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_戻り値_19">【戻り値】</h5>
<div class="paragraph">
<p>取得した値： 0～4095(12ビット)</p>
</div>
</div>
<div class="sect4">
<h5 id="_説明_60">【説明】</h5>
<div class="paragraph">
<p>指定ピンのアナログ入力値を読み取り、その値を返します。<br>
アナログ入力を行う場合は事前に <strong><a href="#GPIO">GPIO</a></strong> コマンドによる機能設定（アナログ入力）が必要です。</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">注意</div>
</td>
<td class="content">
ピン番号の指定範囲及び定数は、ST32F103C8T6での利用を想定したものです。<br>
ST32F103C8T6以外のMPUにて使う場合は、機能設定できない場合があります。
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_エラーメッセージ_60">【エラーメッセージ】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Syntax error</dt>
<dd>
<p>文法エラー、書式と異なる利用を行った</p>
</dd>
<dt class="hdlist1">Illegal value</dt>
<dd>
<p>ピン番号、モードに範囲外の値を指定した</p>
</dd>
<dt class="hdlist1">Overflow</dt>
<dd>
<p>指定した数値が-32768 ～ 32767を超えている</p>
</dd>
<dt class="hdlist1">'(' or ')' expected</dt>
<dd>
<p>’(‘ または ‘)’がない</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_利用例_60">【利用例】</h5>
<div class="listingblock">
<div class="title">PB1ピンからアナログ入力値を読み取り、その値を画面に随時表示する</div>
<div class="content">
<pre>10 CLS
20 GPIO PB1,ANALOG
30 A=ANA(PB1)
40 LOCATE 5,5: ? A; "     "
50 GOTO 30</pre>
</div>
</div>
<hr>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect3">
<h4 id="GPIO">3.8.2. GPIO</h4>
<div class="paragraph">
<p>GPIO機能設定</p>
</div>
<div class="sect4">
<h5 id="_書式_61">【書式】</h5>
<div class="paragraph">
<p><strong><a href="#GPIO">GPIO</a></strong> ピン番号, モード</p>
</div>
</div>
<div class="sect4">
<h5 id="_引数_61">【引数】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">ピン番号</dt>
<dd>
<p>0 ～ 34<br>
ピン番号は数値の他に次の<a href="#_ピン番号定数">ピン番号定数</a>での指定も可能です。</p>
<div class="dlist">
<dl>
<dt class="hdlist1"></dt>
<dd>
<p>PA0, PA1, PA2, PA3, PA4, PA5, PA6,  PA7,  PA8,  PA9, PA10, PA13, PA14, PA15,<br>
PB0, PB1, PB2, PB3, PB4, PB5, PB8, PB10, PB11, PB12, PB13, PB14, PB15, <br>
PC13</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1">モード</dt>
</dl>
</div>
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
<a href="#GPIO_Mode">OUTPUT_OD</a>
</td>
<td class="hdlist2">
<p>デジタル出力（オープンドレイン）</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a href="#GPIO_Mode">OUTPUT</a>
</td>
<td class="hdlist2">
<p>デジタル出力</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a href="#GPIO_Mode">INPUT_FL</a>
</td>
<td class="hdlist2">
<p>デジタル入力（フロート状態：<strong>Arduino</strong> の <strong>INPUT</strong> 指定と同じ）</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a href="#GPIO_Mode">INPUT_PU</a>
</td>
<td class="hdlist2">
<p>デジタル入力（内部プルアップ抵抗有効）</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a href="#GPIO_Mode">INPUT_PD</a>
</td>
<td class="hdlist2">
<p>デジタル（内部プルダウン抵抗有効）</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a href="#GPIO_Mode">ANALOG</a>
</td>
<td class="hdlist2">
<p>アナログ入力</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a href="#GPIO_Mode">PWM</a>
</td>
<td class="hdlist2">
<p>PWM出力</p>
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_説明_61">【説明】</h5>
<div class="paragraph">
<p>ボード上の指定したピン番号の入出力機能の設定を行います。<br>
<strong>Arduino</strong> の <strong>pinMode</strong> 関数に相当します。<br>
ピン番号の指定には、0 ～ 34の数値または、定数 <strong>PA0</strong> ～ <strong>PC15</strong> が可能です。<br>
また、<strong><a href="#GPIO">GPIO</a></strong> は省略可能です。下記の2行は等価です。<br></p>
</div>
<div class="listingblock">
<div class="content">
<pre>GPIO PA0,OUTPUT
PA0,OUTPUT</pre>
</div>
</div>
<div class="paragraph">
<p>各モードの機能に対応しているピン番号は次の表の通りです。</p>
</div>
<table class="tableblock frame-all grid-all fit-content">
<caption class="title">表 5. 各モードで利用可能なピン番号</caption>
<colgroup>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">モード</th>
<th class="tableblock halign-center valign-middle">ピン番号</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><strong>OUTPUT_OD<br>
OUTPUT   <br>
INPUT_FL <br>
INPUT_PU <br>
INPUT_PD</strong></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">PA0,PA1,PA2,PA3,PA4,PA5,PA6,PA7,PA8,PA9,PA10,PA13,PA14,PA15,<br>
            PB0,PB1,PB2,PB3,PB4,PB5,PB8,PB10,PB11, PB12,PB13,PB14,PB15,<br>
            PC13</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><strong>ANALOG</strong></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">PA0,PA1,PA2,PA3,PA4,PA5,PA6,PA7,PB0,PB1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-middle"><p class="tableblock"><strong>PWM</strong></p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">グループ1：PA6,PA7,PB0,PB1<br>
	    グループ2：PA8,PA9,PA10</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>PWMの同一グループ内ではPWMの周波数は共有となります。</p>
</div>
<div class="paragraph">
<p>ピン番号にサポートしていないモードを指定した場合、<br>
エラー( <strong>Cannot use GPIO fuintion</strong> )となります。</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">注意</div>
</td>
<td class="content">
ピン番号の指定範囲及び定数は、<br>
ST32F103C8T6での利用を想定したものです。<br>
ST32F103C8T6以外のMPUにて使う場合は、<br>
機能設定できない場合があります。
</td>
</tr>
</table>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">注意</div>
</td>
<td class="content">
利用するシステム構成により、利用出来ないピンがあります。<br>
詳細については、「ボート上のピン一覧」を参照して下さい。
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>起動直後では各ピンの設定は、デジタル入力（ <strong>INPUT_FL</strong>  ）、<br>
またはアナログ入力（ <strong>ANALOG</strong> ）となります。<br>
ただし、これは動作を保障するものではありません。<br>
<strong><a href="#GPIO">GPIO</a></strong> コマンドによる機能設定を行って下さい。</p>
</div>
</div>
<div class="sect4">
<h5 id="_エラーメッセージ_61">【エラーメッセージ】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Syntax error</dt>
<dd>
<p>文法エラー、書式と異なる利用を行った</p>
</dd>
<dt class="hdlist1">Illegal value</dt>
<dd>
<p>ピン番号、モードに範囲外の値を指定した</p>
</dd>
<dt class="hdlist1">Cannot use GPIO fuintion</dt>
<dd>
<p>ピン番号に利用出来ないモード設定を行った</p>
</dd>
<dt class="hdlist1">Overflow</dt>
<dd>
<p>指定した数値が-32768 ～ 32767を超えている</p>
</dd>
<dt class="hdlist1">Illegal value</dt>
<dd>
<p>指定した数値が不当である</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_利用例_61">【利用例】</h5>
<div class="listingblock">
<div class="title">PB1ピンからアナログ入力値を読み取り、その値を画面に随時表示する</div>
<div class="content">
<pre>10 CLS
20 GPIO PB1,ANALOG
30 A=ANA(PB1)
40 LOCATE 5,5: ? A; "     "
50 GOTO 30 </pre>
</div>
</div>
<hr>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect3">
<h4 id="I2CCLK">3.8.3. I2CCLK</h4>
<div class="paragraph">
<p>I2Cバス速度設定</p>
</div>
<div class="sect4">
<h5 id="_書式_62">【書式】</h5>
<div class="paragraph">
<p><strong><a href="#I2CCLK">I2CCLK</a></strong> バス速度</p>
</div>
</div>
<div class="sect4">
<h5 id="_引数_62">【引数】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">バス速度</dt>
<dd>
<p>100 ： クロック速度 100kHz に設定する<br>
400 ： クロック速度 400kHz に設定する(デフォルト値)</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_説明_62">【説明】</h5>
<div class="paragraph">
<p>I2Cバスのクロック速度を設定します。<br>
デフォルト値は、400(400kHz)です。</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">注意</div>
</td>
<td class="content">
OLED(I2C)版でI2Cバスクロックを100kHzに設定すると、画面表示速度が遅くなります。
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_エラーメッセージ_62">【エラーメッセージ】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Syntax error</dt>
<dd>
<p>文法エラー、書式と異なる利用を行った</p>
</dd>
<dt class="hdlist1">Illegal value</dt>
<dd>
<p>指定した引数の値が不当である</p>
</dd>
<dt class="hdlist1">Overflow</dt>
<dd>
<p>指定した数値が-32768 ～ 32767を超えている</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_利用例_62">【利用例】</h5>
<div class="listingblock">
<div class="title">I2Cバス速度を100kHzに設定する</div>
<div class="content">
<pre>I2CCLK 100
OK</pre>
</div>
</div>
<hr>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect3">
<h4 id="I2CR">3.8.4. I2CR</h4>
<div class="paragraph">
<p>I2Cデータ受信</p>
</div>
<div class="sect4">
<h5 id="_書式_63">【書式】</h5>
<div class="paragraph">
<p><strong><a href="#I2CR">I2CR</a></strong> (I2Cアドレス, コマンド, コマンド長, 受信データ, データ長)</p>
</div>
</div>
<div class="sect4">
<h5 id="_引数_63">【引数】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">I2Cアドレス</dt>
<dd>
<p>0 ～ 127 ($00 ～ $7F)（7ビット指定）<br>
　  I2Cスレーブアドレスを7ビット形式で指定</p>
</dd>
<dt class="hdlist1">コマンド</dt>
<dd>
<p>0 ～ 32767($0000 ～ $1FFFF)<br>
　  送信するコマンドが格納されている仮想アドレス</p>
</dd>
<dt class="hdlist1">コマンド長</dt>
<dd>
<p>0 ～ 32767<br>
　  送信するコマンドのバイト数</p>
</dd>
<dt class="hdlist1">受信データ</dt>
<dd>
<p>0 ～ 32767($0000 ～ $1FFFF)<br>
　  受信データを格納するSRAM内仮想アドレス</p>
</dd>
<dt class="hdlist1">データ長</dt>
<dd>
<p>0 ～ 32767<br>
　  受信するデータのバイト数</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_説明_63">【説明】</h5>
<div class="paragraph">
<p>I2Cスレーブデバイスからデータを受信します。<br></p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">注意</div>
</td>
<td class="content">
I2Cバスは必ずプルアップ抵抗によるプルアップを行って下さい。<br>
プルアップされていない状態で <strong><a href="#I2CR">I2CR</a></strong> 関数を実行するとハングアップします。
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>通信対象のI2Cデバイス(スレーブ)のアドレスを引数デバイスアドレスに指定します。<br>
受信において、コマンド等の制御データの送信が必要な場合は、<br>
コマンド、コマンド長にてそのデータを指定します。<br>
受信のみを行う場合は、コマンド、コマンド長に0を設定します。</p>
</div>
<div class="paragraph">
<p>コマンド、受信データは仮想アドレスにて指定します。<br>
仮想アドレスの指定には次の定数を利用することで有用な領域への書込み・参照が簡単に行えます。</p>
</div>
<table class="tableblock frame-all grid-all fit-content">
<colgroup>
<col>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">定数名</th>
<th class="tableblock halign-center valign-top">仮想化ドレス名</th>
<th class="tableblock halign-center valign-top">概要</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#_メモリ領域先頭アドレス定数">VRAM</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">画面表示用メモリ(CW×CH)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">サイズは<a href="#SCREEN">SCREEN</a>モードにより可変</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#_メモリ領域先頭アドレス定数">VAR</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">変数領域</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">サイズ 420バイト</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#_メモリ領域先頭アドレス定数">ARRAY</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">配列変数領域(@(0)～@(99) )</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">サイズ 200バイト</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#_メモリ領域先頭アドレス定数">PRG</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">プログラム領域</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">サイズ 4,096バイト</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#_メモリ領域先頭アドレス定数">MEM</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ユーザーワーク領域</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">サイズ 1,024バイト</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#_メモリ領域先頭アドレス定数">FNT</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">フォント256文字(フラッシュメモリ)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">サイズ 2,048バイト</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#_メモリ領域先頭アドレス定数">GRAM</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">グラフィック表示用メモリ</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">サイズは<a href="#SCREEN">SCREEN</a>モードにより可変</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#_メモリ領域先頭アドレス定数">PRG2</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">フラッシュメモリプログラム保存領域</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">サイズ 4,096バイト<br>
<a href="#BANK">BANK</a>コマンドにより0～5のバンク切り替え</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>仮想アドレスの詳細については、「<a href="../仕様/メモリーマップ.adoc">メモリーマップ</a>」の「<a href="../仕様/メモリーマップ.adoc#_仮想アドレス">仮想アドレス</a>」を参照下さい。<br></p>
</div>
<div class="paragraph">
<p>I2C通信には次の接続ピンを利用します。<br>
<a href="#_ピン番号定数">PB6</a>：SCL（I2Cクロック）<br>
<a href="#_ピン番号定数">PB7</a>：SDA（I2Cデータ）</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">注意</div>
</td>
<td class="content">
有効な仮想アドレス以外の領域への参照はエラーとなります。
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_戻り値_20">【戻り値】</h5>
<div class="paragraph">
<p>0：正常終了<br>
1：通信バッファに対してデータが長すぎる<br>
2：アドレス送信にNACKが返された<br>
3：データ送信にNACKが返された<br>
4：その他のエラー</p>
</div>
</div>
<div class="sect4">
<h5 id="_エラーメッセージ_63">【エラーメッセージ】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Syntax error</dt>
<dd>
<p>文法エラー、書式と異なる利用を行った</p>
</dd>
<dt class="hdlist1">Illegal value</dt>
<dd>
<p>指定した引数の値が不当である</p>
</dd>
<dt class="hdlist1">Out of range value</dt>
<dd>
<p>指定した値が有効範囲を超えている</p>
</dd>
<dt class="hdlist1">Overflow</dt>
<dd>
<p>指定した数値が-32768 ～ 32767を超えている</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_利用例_63">【利用例】</h5>
<div class="listingblock">
<div class="title">I2C EEPROM(AT24C256 スレーブアドレス $50)にデータの読み書きを行う</div>
<div class="content">
<pre>100 POKE MEM+0,$00,$00
110 POKE MEM+2,64,65,66,67
120 R=I2CW($50,MEM,2,MEM+2,4)
130 ? "snd r=";R
140 POKE MEM+6,0,0,0,0
150 WAIT 5
160 R=I2CR($50,MEM,2,MEM+6,4)
170 ? "rcv r=";R
180 ? "rcv data:";
190 FOR I=0 TO 3
200 ? PEEK(MEM+6+I);" ";
210 NEXT I
220 ?</pre>
</div>
</div>
<div class="listingblock">
<div class="title">実行結果</div>
<div class="content">
<pre>run
snd r=0
rcv r=0
rcv data:64 65 66 67
OK</pre>
</div>
</div>
<hr>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect3">
<h4 id="I2CW">3.8.5. I2CW</h4>
<div class="paragraph">
<p>I2Cデータ送信</p>
</div>
<div class="sect4">
<h5 id="_書式_64">【書式】</h5>
<div class="paragraph">
<p><strong><a href="#I2CW">I2CW</a></strong> (I2Cアドレス, コマンド, コマンド長, 送信データ, データ長)</p>
</div>
</div>
<div class="sect4">
<h5 id="_引数_64">【引数】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">I2Cアドレス</dt>
<dd>
<p>0 ～ 127 ($00 ～ $7F)（7ビット指定）<br>
　  I2Cスレーブアドレスを7ビット形式で指定</p>
</dd>
<dt class="hdlist1">コマンド</dt>
<dd>
<p>0 ～ 32767($0000 ～ $1FFFF)<br>
　  送信するコマンドが格納されている仮想アドレス</p>
</dd>
<dt class="hdlist1">コマンド長</dt>
<dd>
<p>0 ～ 32767<br>
　  送信するコマンドのバイト数</p>
</dd>
<dt class="hdlist1">送信データ</dt>
<dd>
<p>0 ～ 32767($0000 ～ $1FFFF)<br>
　  送信するデータが格納されている仮想アドレス</p>
</dd>
<dt class="hdlist1">データ長</dt>
<dd>
<p>0 ～ 32767
　  送信するデータのバイト数</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_説明_64">【説明】</h5>
<div class="paragraph">
<p>I2Cスレーブデバイスにデータを送信します。<br>
（注意）I2Cバスは必ずプルアップ抵抗によるプルアップを行って下さい。<br>
プルアップされていない状態で <strong><a href="#I2CW">I2CW</a></strong> 関数を実行するとハングアップします。</p>
</div>
<div class="paragraph">
<p>I2Cアドレスにて送信先のI2Cスレーブアドレスを指定します。<br>
コマンド、送信データはデータを格納した仮想アドレスを指定します。<br></p>
</div>
<div class="paragraph">
<p>コマンドと送信データの区別はありません。<br>
デバイスに対して、単純にコマンド、データの順に送信しています。<br></p>
</div>
<div class="paragraph">
<p>仮想アドレスの指定には次の定数の利用が便利です。</p>
</div>
<table class="tableblock frame-all grid-all fit-content">
<colgroup>
<col>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">定数名</th>
<th class="tableblock halign-center valign-top">仮想化ドレス名</th>
<th class="tableblock halign-center valign-top">概要</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#_メモリ領域先頭アドレス定数">VRAM</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">画面表示用メモリ(CW×CH)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">サイズは<a href="#SCREEN">SCREEN</a>モードにより可変</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#_メモリ領域先頭アドレス定数">VAR</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">変数領域</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">サイズ 420バイト</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#_メモリ領域先頭アドレス定数">ARRAY</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">配列変数領域(@(0)～@(99) )</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">サイズ 200バイト</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#_メモリ領域先頭アドレス定数">PRG</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">プログラム領域</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">サイズ 4,096バイト</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#_メモリ領域先頭アドレス定数">MEM</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ユーザーワーク領域</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">サイズ 1,024バイト</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#_メモリ領域先頭アドレス定数">FNT</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">フォント256文字(フラッシュメモリ)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">サイズ 2,048バイト</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#_メモリ領域先頭アドレス定数">GRAM</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">グラフィック表示用メモリ</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">サイズは<a href="#SCREEN">SCREEN</a>モードにより可変</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#_メモリ領域先頭アドレス定数">PRG2</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">フラッシュメモリプログラム保存領域</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">サイズ 4,096バイト<br>
<a href="#BANK">BANK</a>コマンドにより0～5のバンク切り替え</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>仮想アドレスの詳細については、「<a href="../仕様/メモリーマップ.adoc">メモリーマップ</a>」の「<a href="../仕様/メモリーマップ.adoc#_仮想アドレス">仮想アドレス</a>」を参照下さい。<br></p>
</div>
<div class="paragraph">
<p>I2C通信には次の接続ピンを利用します。<br>
<a href="#_ピン番号定数">PB6</a>：SCL（I2Cクロック）<br>
<a href="#_ピン番号定数">PB7</a>：SDA（I2Cデータ）</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">注意</div>
</td>
<td class="content">
有効な仮想アドレス以外の領域への参照はエラーとなります。
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_戻り値_21">【戻り値】</h5>
<div class="paragraph">
<p>0：正常終了<br>
1：通信バッファに対してデータが長すぎる<br>
2：アドレス送信にNACKが返された<br>
3：データ送信にNACKが返された<br>
4：その他のエラー</p>
</div>
</div>
<div class="sect4">
<h5 id="_エラーメッセージ_64">【エラーメッセージ】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Syntax error</dt>
<dd>
<p>文法エラー、書式と異なる利用を行った</p>
</dd>
<dt class="hdlist1">Illegal value</dt>
<dd>
<p>指定した引数の値が不当である</p>
</dd>
<dt class="hdlist1">Out of range value</dt>
<dd>
<p>指定した値が有効範囲を超えている</p>
</dd>
<dt class="hdlist1">Overflow</dt>
<dd>
<p>指定した数値が-32768 ～ 32767を超えている</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_利用例_64">【利用例】</h5>
<div class="listingblock">
<div class="title">I2C EEPROM(AT24C256 スレーブアドレス $50)にデータの読み書きを行う</div>
<div class="content">
<pre>100 POKE MEM+0,$00,$00
110 POKE MEM+2,64,65,66,67
120 R=I2CW($50,MEM,2,MEM+2,4)
130 ? "snd r=";R
140 POKE MEM+6,0,0,0,0
150 WAIT 5
160 R=I2CR($50,MEM,2,MEM+6,4)
170 ? "rcv r=";R
180 ? "rcv data:";
190 FOR I=0 TO 3
200 ? PEEK(MEM+6+I);" ";
210 NEXT I
220 ?</pre>
</div>
</div>
<div class="listingblock">
<div class="title">実行結果</div>
<div class="content">
<pre>run
snd r=0
rcv r=0
rcv data:64 65 66 67
OK</pre>
</div>
</div>
<div class="listingblock">
<div class="title">接続しているI2Cスレーブを調べる</div>
<div class="content">
<pre>10 FOR I=0 TO $7F
20 C=I2CW(I,MEM,0,MEM,0)
30 IF C=0 PRINT HEX$(I,2);" ";
40 NEXT I
50 PRINT :PRINT "done."

実行結果
run
50
done.
OK</pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">補足</div>
</td>
<td class="content">
I2Cスレーブアドレスのみ送信し、正常終了(ACKを返した)のアドレスを調べています。
</td>
</tr>
</table>
</div>
<hr>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect3">
<h4 id="IN">3.8.6. IN</h4>
<div class="paragraph">
<p>デジタル入力</p>
</div>
<div class="sect4">
<h5 id="_書式_65">【書式】</h5>
<div class="paragraph">
<p><strong><a href="#IN">IN</a></strong> (ピン番号)</p>
</div>
</div>
<div class="sect4">
<h5 id="_引数_65">【引数】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">ピン番号</dt>
<dd>
<p>0 ～ 34<br>
ピン番号は数値の他に次の<a href="#_ピン番号定数">ピン番号定数</a>の指定も可能です。</p>
<div class="dlist">
<dl>
<dt class="hdlist1"></dt>
<dd>
<p>PA0, PA1, PA2, PA3, PA4, PA5, PA6,  PA7,  PA8,  PA9, PA10, PA13, PA14, PA15,<br>
PB0, PB1, PB2, PB3, PB4, PB5, PB8, PB10, PB11, PB12, PB13, PB14, PB15, <br>
PC13</p>
</dd>
</dl>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_戻り値_22">【戻り値】</h5>
<div class="paragraph">
<p>取得した値 ： 0 (<a href="#LOW">LOW</a>) または 1 (<a href="#HIGH">HIGH</a>)</p>
</div>
</div>
<div class="sect4">
<h5 id="_説明_65">【説明】</h5>
<div class="paragraph">
<p>指定ピンの入力値を読み取り、その値を返します。<br>
入力を行う場合は事前に <strong><a href="#GPIO">GPIO</a></strong> コマンドによる機能設定（入力設定）が必要です。</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">注意</div>
</td>
<td class="content">
ピン番号の指定範囲及び定数は、ST32F103C8T6での利用を想定したものです。<br>
ST32F103C8T6以外のMPUにて使う場合は、機能設定できない場合があります。
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_エラーメッセージ_65">【エラーメッセージ】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Syntax error</dt>
<dd>
<p>文法エラー、書式と異なる利用を行った</p>
</dd>
<dt class="hdlist1">Illegal value</dt>
<dd>
<p>ピン番号、モードに範囲外の値を指定した</p>
</dd>
<dt class="hdlist1">Cannot use GPIO fuintion</dt>
<dd>
<p>ピン番号に利用出来ないモード設定を行った</p>
</dd>
<dt class="hdlist1">Overflow</dt>
<dd>
<p>指定した数値が-32768 ～ 32767を超えている</p>
</dd>
<dt class="hdlist1">'(' or ')' expected</dt>
<dd>
<p>’(‘ または ‘)’がない</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_利用例_65">【利用例】</h5>
<div class="listingblock">
<div class="title">PA0ピン接続しているタクトスイッチを押すLEDが点灯する</div>
<div class="content">
<pre>10 GPIO PC13,OUTPUT
20 GPIO PA0,INPUT_PU
30 IF IN(PA0)=OFF ?"ON":OUT PC13,0 ELSE ?"OFF":OUT PC13,1
40 WAIT 200
50 GOTO 30</pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/IN_sample.jpg" alt="IN sample">
</div>
<div class="title">図 2. LED点灯制御</div>
</div>
<div class="paragraph">
<p>タクトスイッチを押すと、BullPillボード上のLED(PC13)が点灯します。<br>
PA0ピンは <strong><a href="#GPIO">GPIO</a></strong> コマンドで <strong><a href="#GPIO_Mode">INPUT_PU</a></strong> (プルアップ抵抗あり)を設定し、<br>
ボタンを押さない場合は<a href="#HIGH">HIGH</a>、押した場合は<a href="#LOW">LOW</a>となります。<br>
その値を <strong><a href="#IN">IN</a></strong> 関数で取得し、LEDを制御しています。<br></p>
</div>
<div class="paragraph">
<p>BluePillボード上のLEDは、PC13がソース（吸い込み）制御を行うため、<br>
<a href="#LOW">LOW</a> を出力するとLEDが点灯します。
'''
&lt;&lt;&lt;</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="SHIFTIN">3.8.7. SHIFTIN</h4>
<div class="paragraph">
<p>シリアルシフト入力</p>
</div>
<div class="sect4">
<h5 id="_書式_66">【書式】</h5>
<div class="paragraph">
<p><strong><a href="#SHIFTIN">SHIFTIN</a></strong> (データピン番号, クロックピン番号, 入力形式)<br>
<strong><a href="#SHIFTIN">SHIFTIN</a></strong> (データピン番号, クロックピン番号, 入力形式, 条件)</p>
</div>
</div>
<div class="sect4">
<h5 id="_引数_66">【引数】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">データピン番号</dt>
<dd>
<p>0 ～ 34　データを入力するピン</p>
</dd>
<dt class="hdlist1">クロックピン番号</dt>
<dd>
<p>0 ～ 34　クロックを出力するピン</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>ピン番号は数値の他に次の<a href="#_ピン番号定数">ピン番号定数</a>の指定も可能です。</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"></dt>
<dd>
<p>PA0, PA1, PA2, PA3, PA4, PA5, PA6,  PA7,  PA8,  PA9, PA10, PA13, PA14, PA15,<br>
PB0, PB1, PB2, PB3, PB4, PB5, PB8, PB10, PB11, PB12, PB13, PB14, PB15, <br>
PC13</p>
<div class="dlist">
<dl>
<dt class="hdlist1">入力形式</dt>
<dd>
<p>入力するデータの順番を次の値を指定する<br>
<a href="#LSB">LSB</a> または 0 ： 下位ビットから入力する<br>
<a href="#MSB">MSB</a> または 1 ： 上位ビットから入力する</p>
</dd>
<dt class="hdlist1">条件</dt>
<dd>
<p><a href="#LOW">LOW</a> または <a href="#HIGH">HIGH</a><br>
データピンからのデータを読み取るクロックのタイミングを指定する。<br>
 <a href="#LOW">LOW</a>：	クロックがLOWの場合にデータを読み取る。<br>
 <a href="#HIGH">HIGH</a>：	クロックがHIGHの場合にデータを読み取る。</p>
</dd>
</dl>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_戻り値_23">【戻り値】</h5>
<div class="paragraph">
<p>入力値（1バイト）</p>
</div>
</div>
<div class="sect4">
<h5 id="_説明_66">【説明】</h5>
<div class="paragraph">
<p>出力クロックにて同期を行い、データピンから1バイト分のデータを1ビットずつ入力します。<br>
<strong>Arduino</strong> の <strong>shiftIn</strong> 関数と同等の動作をします。<br>
引数に条件を指定した場合、クロックが指定した状態の時にデータピンからデータを読み取ります。<br>
条件を指定していない場合は、条件は<a href="#HIGH">HIGH</a>（<strong>Arduino</strong> の <strong>shiftIn</strong> 関数と同様の仕様）となります。</p>
</div>
<div class="paragraph">
<p>データピン、クロックピンは事前に <strong><a href="#GPIO">GPIO</a></strong> コマンドによる機能設定（デジタル入出力）が必要です。<br></p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">注意</div>
</td>
<td class="content">
ピン番号の指定範囲及び定数は、ST32F103C8T6での利用を想定したものです。<br>
ST32F103C8T6以外のMPUにて使う場合は、機能設定できない場合があります。
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_エラーメッセージ_66">【エラーメッセージ】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Syntax error</dt>
<dd>
<p>文法エラー、書式と異なる利用を行った</p>
</dd>
<dt class="hdlist1">Illegal value</dt>
<dd>
<p>ピン番号、モードに範囲外の値を指定した</p>
</dd>
<dt class="hdlist1">Overflow</dt>
<dd>
<p>指定した数値が-32768 ～ 32767を超えている</p>
</dd>
<dt class="hdlist1">'(' or ')' expected</dt>
<dd>
<p>’(‘ または ‘)’がない</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_利用例_66">【利用例】</h5>
<div class="listingblock">
<div class="title">ファミコン用ゲームパッドからボタン操作情報を取得する</div>
<div class="content">
<pre>10 CLS
20 GPIO PB12,INPUT_FL
30 GPIO PB13,OUTPUT
40 GPIO PB14,OUTPUT
50 OUT PB13,HIGH
60 OUT PB13,LOW
70 R=SHIFTIN(PB12,PB14,LSB,LOW)
80 LOCATE 0,0:?BIN$(R,8)
90 WAIT 100
100 GOTO 50</pre>
</div>
</div>
<hr>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect3">
<h4 id="SHIFTOUT">3.8.8. SHIFTOUT</h4>
<div class="paragraph">
<p>シリアルシフト出力</p>
</div>
<div class="sect4">
<h5 id="_書式_67">【書式】</h5>
<div class="paragraph">
<p><strong><a href="#SHIFTOUT">SHIFTOUT</a></strong> データピン番号, クロックピン番号, 出力形式, 出力データ</p>
</div>
</div>
<div class="sect4">
<h5 id="_引数_67">【引数】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">データピン番号</dt>
<dd>
<p>0 ～ 34　データを出力するピン</p>
</dd>
<dt class="hdlist1">クロックピン番号</dt>
<dd>
<p>0 ～ 34　クロックを出力するピン</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>ピン番号は数値の他に次の<a href="#_ピン番号定数">ピン番号定数</a>の指定も可能です。</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"></dt>
<dd>
<p>PA0, PA1, PA2, PA3, PA4, PA5, PA6,  PA7,  PA8,  PA9, PA10, PA13, PA14, PA15,<br>
PB0, PB1, PB2, PB3, PB4, PB5, PB8, PB10, PB11, PB12, PB13, PB14, PB15, <br>
PC13</p>
<div class="dlist">
<dl>
<dt class="hdlist1">出力形式</dt>
<dd>
<p>出力するデータの順番を次の値を指定する<br>
<a href="#LSB">LSB</a> または 0 ： 下位ビットから出力する<br>
<a href="#MSB">MSB</a> または 1 ： 上位ビットから出力する</p>
</dd>
<dt class="hdlist1">出力データ</dt>
<dd>
<p>整数値（下位8ビットのみ有効）</p>
</dd>
</dl>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_説明_67">【説明】</h5>
<div class="paragraph">
<p>クロックにて同期を行い、データピンから1バイト分のデータを1ビットずつ出力します。<br>
<strong>Arduino</strong> の <strong>shiftOut</strong> 関数と同等の動作をします。<br>
データピン、クロックピンは事前に <strong><a href="#GPIO">GPIO</a></strong> コマンドによる機能設定（デジタル出力）が必要です。<br></p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">注意</div>
</td>
<td class="content">
ピン番号の指定範囲及び定数は、ST32F103C8T6での利用を想定したものです。<br>
ST32F103C8T6以外のMPUにて使う場合は、機能設定できない場合があります。
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_エラーメッセージ_67">【エラーメッセージ】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Syntax error</dt>
<dd>
<p>文法エラー、書式と異なる利用を行った</p>
</dd>
<dt class="hdlist1">Illegal value</dt>
<dd>
<p>ピン番号、モードに範囲外の値を指定した</p>
</dd>
<dt class="hdlist1">Overflow</dt>
<dd>
<p>指定した数値が-32768 ～ 32767を超えている</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_利用例_67">【利用例】</h5>
<div class="listingblock">
<div class="title">シフトレジスタ74HC595を使ってLED8個を制御する</div>
<div class="content">
<pre>10 GPIO PB12,OUTPUT
20 GPIO PB13,OUTPUT
30 GPIO PB14,OUTPUT
40 D=$80
50 FOR I=0 TO 6
60 GOSUB "led"
70 D=D&gt;&gt;1
80 WAIT 200
90 NEXT I
100 FOR I=0 TO 6
110 GOSUB "led"
120 D=D&lt;&lt;1
130 WAIT 200
140 NEXT I
150 GOTO 40
160 "led"
170 OUT PB13,LOW
180 SHIFTOUT PB12,PB14,MSB,D
190 OUT PB13,HIGH
200 TONE 600,10
210 RETURN</pre>
</div>
</div>
<hr>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect3">
<h4 id="OUT">3.8.9. OUT</h4>
<div class="paragraph">
<p>デジタル出力</p>
</div>
<div class="sect4">
<h5 id="_書式_68">【書式】</h5>
<div class="paragraph">
<p><strong><a href="#OUT">OUT</a></strong> ピン番号, 出力値</p>
</div>
</div>
<div class="sect4">
<h5 id="_引数_68">【引数】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">ピン番号</dt>
<dd>
<p>0 ～ 34<br>
ピン番号は数値の他に次の<a href="#_ピン番号定数">ピン番号定数</a>の指定も可能です。</p>
<div class="dlist">
<dl>
<dt class="hdlist1"></dt>
<dd>
<p>PA0, PA1, PA2, PA3, PA4, PA5, PA6,  PA7,  PA8,  PA9, PA10, PA13, PA14, PA15,<br>
PB0, PB1, PB2, PB3, PB4, PB5, PB8, PB10, PB11, PB12, PB13, PB14, PB15, <br>
PC13</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1">出力値</dt>
<dd>
<p><a href="#LOW">LOW</a> または 0		： 0Vを出力する<br>
<a href="#HIGH">HIGH</a> or 0以外の値	： 3.3Vを出力する</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_説明_68">【説明】</h5>
<div class="paragraph">
<p>指定ピンから、指定した出力を行います。<br>
出力を行う場合は事前に <strong><a href="#GPIO">GPIO</a></strong> コマンドによる機能設定（出力設定）が必要です。<br></p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">注意</div>
</td>
<td class="content">
ピン番号の指定範囲及び定数は、ST32F103C8T6での利用を想定したものです。<br>
ST32F103C8T6以外のMPUにて使う場合は、機能設定できない場合があります。
</td>
</tr>
</table>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">注意</div>
</td>
<td class="content">
利用するシステム構成により、利用出来ないピンがあります。詳細については、<br>
「ボート上のピン一覧」を参照して下さい。
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_エラーメッセージ_68">【エラーメッセージ】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Syntax error</dt>
<dd>
<p>文法エラー、書式と異なる利用を行った</p>
</dd>
<dt class="hdlist1">Cannot use GPIO fuintion</dt>
<dd>
<p>ピン番号に利用出来ないモード設定を行った</p>
</dd>
<dt class="hdlist1">Illegal value</dt>
<dd>
<p>ピン番号、モードに範囲外の値を指定した</p>
</dd>
<dt class="hdlist1">Overflow</dt>
<dd>
<p>指定した数値が-32768 ～ 32767を超えている</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_利用例_68">【利用例】</h5>
<div class="listingblock">
<div class="title">Blue Pillボードの搭載LED（PC13ピン）を点滅させる</div>
<div class="content">
<pre>10 P=PC13
20 GPIO P,OUTPUT
30 OUT P,HIGH
40 FOR I=1 TO 10
50 OUT P,LOW
60 WAIT 300
70 OUT P,HIGH
80 WAIT 300
90 NEXT I</pre>
</div>
</div>
<hr>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect3">
<h4 id="POUT">3.8.10. POUT</h4>
<div class="paragraph">
<p>PWM出力</p>
</div>
<div class="sect4">
<h5 id="_書式_69">【書式】</h5>
<div class="paragraph">
<p><strong><a href="#POUT">POUT</a></strong> ピン番号, デューティー値<br>
<strong><a href="#POUT">POUT</a></strong> ピン番号, デューティー値, 周波数</p>
</div>
</div>
<div class="sect4">
<h5 id="_引数_69">【引数】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">ピン番号</dt>
<dd>
<p>グループ1：  6、7、 8、 9<br>
グループ2：  10、 16、 17<br></p>
<div class="paragraph">
<p>ピン番号に対応する下記のピン定数の指定も利用可能です。<br>
グループ1：  PA6、PA7、PB0、PB1<br>
グループ2：  PA8、PA9、PA10<br></p>
</div>
</dd>
<dt class="hdlist1">デューティー値</dt>
<dd>
<p>0 ～ 4095<br>
0 ～ 4095はデューティー比 0%(停止)～100%に対応します。<br>
デューティー比(%)をnとすると、デューティー値 = n × 4095 ÷ 100</p>
</dd>
<dt class="hdlist1">周波数</dt>
<dd>
<p>0 ～ 32767 (単位 Hz)<br>
指定しない場合は490Hzとなります。(Arduino Uno互換)<br>
周波数は同一グループ内で共通設定となります。<br></p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_説明_69">【説明】</h5>
<div class="paragraph">
<p>指定ピンから、PWM出力を行います。<br>
出力を行う場合は事前に <strong><a href="#GPIO">GPIO</a></strong> コマンドによるPWM設定（出力設定）が必要です。<br>
パルス出力を停止する場合は、デューティー値に0を指定して下さい。</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">注意</div>
</td>
<td class="content">
ピン番号の指定範囲及び定数は、ST32F103C8T6での利用を想定したものです。<br>
ST32F103C8T6以外のMPUにて使う場合は、機能設定できない場合があります。
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_エラーメッセージ_69">【エラーメッセージ】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Syntax error</dt>
<dd>
<p>文法エラー、書式と異なる利用を行った</p>
</dd>
<dt class="hdlist1">Illegal value</dt>
<dd>
<p>ピン番号、モードに範囲外の値を指定した</p>
</dd>
<dt class="hdlist1">Overflow</dt>
<dd>
<p>指定した数値が-32768 ～ 32767を超えている</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_利用例_69">【利用例】</h5>
<div class="listingblock">
<div class="title">アナログジョイスティックでサーボーモーターの制御を行う</div>
<div class="content">
<pre>1 'ｻｰﾎﾞﾓｰﾀｰｾｲｷﾞｮ
5 CLS
10 GPIO PB0,ANALOG
20 GPIO PA8,PWM
30 P=MAP(ANA(PB0),0,4095,102,491)
40 POUT PA8,P,50
45 D=MAP(P,102,491,-90,90)
47 LOCATE 0,0:?#3,D
50 GOTO 30</pre>
</div>
</div>
<hr>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect3">
<h4 id="PULSEIN">3.8.11. PULSEIN</h4>
<div class="paragraph">
<p>入力パルス幅の計測力</p>
</div>
<div class="sect4">
<h5 id="_書式_70">【書式】</h5>
<div class="paragraph">
<p><strong><a href="#PULSEIN">PULSEIN</a></strong> (パルス入力ピン番号 , 検出信号 , タイムアウト )<br>
<strong><a href="#PULSEIN">PULSEIN</a></strong> (パルス入力ピン番号 , 検出信号 , タイムアウト , スケール値 )</p>
</div>
</div>
<div class="sect4">
<h5 id="_引数_70">【引数】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">パルス入力ピン番号</dt>
<dd>
<p>データを入力するピン: 0 ～ 34　</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>ピン番号は数値の他に次の<a href="#_ピン番号定数">ピン番号定数</a>の指定も可能です。</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"></dt>
<dd>
<p>PA0, PA1, PA2, PA3, PA4, PA5, PA6,  PA7,  PA8,  PA9, PA10, PA13, PA14, PA15,<br>
PB0, PB1, PB2, PB3, PB4, PB5, PB8, PB10, PB11, PB12, PB13, PB14, PB15, <br>
PC13</p>
<div class="dlist">
<dl>
<dt class="hdlist1">検出信号</dt>
<dd>
<p>LOW、HIGH または 0 、1 測定対象のパルス</p>
</dd>
<dt class="hdlist1">タイムアウト</dt>
<dd>
<p>パルス検出待ちタイムアウト時間 0 ～ 32767 (ミリ秒)</p>
</dd>
<dt class="hdlist1">スケール値</dt>
<dd>
<p>計測時間のスケール変換 1 ～ 1327671 （デフォルト値 1）</p>
</dd>
</dl>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_戻り値_24">【戻り値】</h5>
<div class="paragraph">
<p>正常時： 測定した パルス幅 0 ～ 32767（単位はスケール値 × マイクロ秒）<br>
タイムアウト時：0<br>
オバーフロー時：-1</p>
</div>
</div>
<div class="sect4">
<h5 id="_説明_70">【説明】</h5>
<div class="paragraph">
<p>パルス入力ピン番号で指定したピンから入力される信号のパルス幅を計測し、その値を返します。</p>
</div>
<div class="paragraph">
<p>測定完了は、入力ピンの状態が検出信号の状態になった時点で計測を開始し、<br>
検出信号の状態でなくなた時点で計測を終了します。<br>
たとえば、測定する検出信号が<a href="#HIGH">HIGH</a>の場合、<strong>PULSEIN</strong> 関数はピンが<a href="#HIGH">HIGH</a>になるのを待ち、<br>
<a href="#HIGH">HIGH</a>になった時点で計測を開始し、ピンが<a href="#LOW">LOW</a>になるタイミングで計測を終了し、<br>
そのパルスの長さを返します。タイムアウト内に完全なパルスが受信されなかった場合は0を返します。</p>
</div>
<div class="paragraph">
<p>測定したパスルが整数値32767を超えた場合は、オーバーフローとし-1を返します。<br>
オーバーフローを回避したい場合は、スケール値を適宜調整して下さい。<br></p>
</div>
<div class="paragraph">
<p>スケール値が1の場合、1～31767マイクロ秒までのパルスの測定を行うことが出来ます。<br>
この場合、500kHz～15Hzまでのパルスを測定出来ます。<br>
15Hzより遅い、信号の測定はオーバーフローが発生します。</p>
</div>
<div class="paragraph">
<p>スケール値が1000の場合、1～31767ミリ秒までのパルスの測定を行うことが出来ます。<br>
この場合、500Hz～0.015Hzまでのパルスの測定が可能です。</p>
</div>
<div class="paragraph">
<p>本関数は <strong>Arduino</strong> の <strong>pulseIn</strong> 関数を利用して計測しています。<br>
測定値はあくまでも目安であり、精度はあまり高くありません。<br>
データピン、クロックピンは事前に <strong><a href="#GPIO">GPIO</a></strong> コマンドによる機能設定（デジタル入出力）が必要です。</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">注意</div>
</td>
<td class="content">
ピン番号の指定範囲及び定数は、ST32F103C8T6での利用を想定したものです。<br>
ST32F103C8T6以外のMPUにて使う場合は、機能設定できない場合があります。
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>NTSC版では、NTSCビデオ信号生成を随時並行して行っているため測定値に誤差が生じます。<br>
NTSC版で利用の場合は、コンソールモードにで測定することで精度が向上します。</p>
</div>
</div>
<div class="sect4">
<h5 id="_エラーメッセージ_70">【エラーメッセージ】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Syntax error</dt>
<dd>
<p>文法エラー、書式と異なる利用を行った</p>
</dd>
<dt class="hdlist1">Illegal value</dt>
<dd>
<p>ピン番号、モードに範囲外の値を指定した</p>
</dd>
<dt class="hdlist1">Overflow</dt>
<dd>
<p>指定した数値が-32768 ～ 32767を超えている</p>
</dd>
<dt class="hdlist1">'(' or ')' expected</dt>
<dd>
<p>’(‘ または ‘)’がない</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_利用例_70">【利用例】</h5>
<div class="listingblock">
<div class="title">パスル幅を計測する</div>
<div class="content">
<pre>10 CLS
20 GPIO PA8,INPUT_PU
30 A=PULSEIN(PA8,LOW,200,1)
40 LOCATE 0,0:?#8,A
50 GOTO 30</pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">補足</div>
</td>
<td class="content">
PA8ピンは5Vトレラント（5Vの入力が可能）です。<br>
パスル計測等には5Vトレラントのピンの利用を推奨します。
</td>
</tr>
</table>
</div>
<div style="page-break-after: always;"></div>
<hr>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_サウンド_2">3.9. サウンド</h3>
<div class="sect3">
<h4 id="NOTONE">3.9.1. NOTONE</h4>
<div class="paragraph">
<p>単音出力停止</p>
</div>
<div class="sect4">
<h5 id="_書式_71">【書式】</h5>
<div class="paragraph">
<p><strong><a href="#NOTONE">NOTONE</a></strong></p>
</div>
</div>
<div class="sect4">
<h5 id="_引数_71">【引数】</h5>
<div class="paragraph">
<p>なし</p>
</div>
</div>
<div class="sect4">
<h5 id="_説明_71">【説明】</h5>
<div class="paragraph">
<p><strong><a href="#TONE">TONE</a></strong> コマンドによるパスル出力を停止します。</p>
</div>
</div>
<div class="sect4">
<h5 id="_エラーメッセージ_71">【エラーメッセージ】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Syntax error</dt>
<dd>
<p>文法エラー、書式と異なる利用を行った</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_利用例_71">【利用例】</h5>
<div class="listingblock">
<div class="title">音を停止する</div>
<div class="content">
<pre>10 TONE 400
20 WAIT 200
30 NOTONE</pre>
</div>
</div>
<hr>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect3">
<h4 id="PLAY">3.9.2. PLAY</h4>
<div class="paragraph">
<p>音楽演奏(MML文)</p>
</div>
<div class="sect4">
<h5 id="_書式_72">【書式】</h5>
<div class="paragraph">
<p><strong><a href="#PLAY">PLAY</a></strong> "MML文"</p>
</div>
</div>
<div class="sect4">
<h5 id="_引数_72">【引数】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">MML文</dt>
<dd>
<p>MMLを定義した文字列</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_説明_72">【説明】</h5>
<div class="paragraph">
<p>MML(Music Macro Language)にて定義した文法を元に、<br>
接続している圧電スピーカーを使って単音による、音楽演奏を行います。</p>
</div>
<div class="paragraph">
<p>MML文には次のコマンドを利用することが出来ます。<br></p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"></dt>
<dd>
<div class="dlist">
<dl>
<dt class="hdlist1">音階記号 [<code>#</code>|<code>+</code>|<code>-</code>][長さ][<code>.</code>]</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>音階指定：C、D、E、F、G、A、B または c、d、e、f、g、a、b<br>
順番に ド、レ、ミ、ファ、ソ、ラ、シ、ド の音階に対応します。<br>
<code>#</code>	：半音上げる（省略可能）<br>
<code>+</code>	：半音上げる（省略可能）<br>
<code>-</code>	：半音下げる（省略可能）<br></p>
</li>
<li>
<p>長さ	：1、2、4、8、16、32、64<br>
(省略時はLによる長さ、デフォルト値 ４)、省略可能<br>
 1は全音符、２は2分音符、4は四分音符、64は64分の一音符</p>
</li>
<li>
<p><code>.</code>：長さを半分伸ばす</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">R[長さ][<code>.</code>]：休符</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>長さ：1、2、4、8、16、32、64<br>
   (省略時はLによる長さ、デフォルト値 ４)、省略可能<br>
1は全音符、２は2分音符、4は四分音符、64は64分の一音符<br></p>
</li>
<li>
<p><code>.</code>：長さを半分伸ばす</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">L&lt;長さ&gt;[<code>.</code>] ： 音の長さ指定</dt>
<dd>
<p>音階記号の長さ省略時の長さの設定。設定前初期値は4(四分音符)</p>
<div class="ulist">
<ul>
<li>
<p>長さ： 1、2、4、8、16、32、64<br>
 (省略時はLによる長さ、デフォルト値 ４)、省略可能<br>
　1は全音符、２は2分音符、4は四分音符、64は64分の一音符<br></p>
</li>
<li>
<p><code>.</code>：長さを半分伸ばす</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">O&lt;オクターブ&gt;  : 音の高さを指定</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>オクターブ：1～8 初期値は4</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><code>&lt;</code> ：１オクターブ下げる</dt>
<dt class="hdlist1"><code>&gt;</code> ：１オクターブ上げる</dt>
<dt class="hdlist1">T&lt;テンポ&gt;：テンポを指定</dt>
<dd>
<p>初期値は120、32～255<br></p>
</dd>
<dt class="hdlist1">V&lt;音の大きさ&gt;：ボリューム設定</dt>
<dd>
<p>初期値は15、0(無音) ～ 15(最大)<br>
PWMのパルス幅で音の大きさを簡易的に再現しています。</p>
</dd>
<dt class="hdlist1">?：デバッグON</dt>
<dd>
<p>演奏中の音階記号を表示します。<br>
PLAYコマンド事に指定する必要があります。</p>
</dd>
<dt class="hdlist1">空白文字</dt>
<dd>
<p>何もせずスキップします。</p>
</dd>
</dl>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>演奏の中断は <kbd>ESC</kbd> キー２回押し、または <span class="keyseq"><kbd>CTRL</kbd>+<kbd>C</kbd></span>キーにて行うことが出来ます。</p>
</div>
<div class="paragraph">
<p><strong><a href="#PLAY">PLAY</a></strong> 文中で変更したテンポ、L指定による省略時の長さ、音の高さは、<br>
それ以降に実行する <strong><a href="#PLAY">PLAY</a></strong> 文にも引継ぎます。<br>
ただし、<strong><a href="#RUN">RUN</a></strong> コマンドにプログラム実行時に、L指定による省略時の長さ、<br>
音の高さはデフォルト値に初期化されます(テンポは初期化されません)。<br></p>
</div>
</div>
<div class="sect4">
<h5 id="_エラーメッセージ_72">【エラーメッセージ】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Syntax error</dt>
<dd>
<p>文法エラー、書式と異なる利用を行った</p>
</dd>
<dt class="hdlist1">Illegal MML</dt>
<dd>
<p>MML文の文法エラー</p>
</dd>
<dt class="hdlist1">Overflow</dt>
<dd>
<p>指定した数値が-32768 ～ 32767を超えている</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_利用例_72">【利用例】</h5>
<div class="listingblock">
<div class="title">「ドラミファソラシド」と演奏する</div>
<div class="content">
<pre>PLAY "CDEFGAB&gt;C"
OK</pre>
</div>
</div>
<div class="listingblock">
<div class="title">「ねこふんじゃった」を演奏する</div>
<div class="content">
<pre>1'ねこふんじゃった
10 PLAY "v15l16d+c+r8f+rf+rd+c+r8f+rf+rd+c+l8rf+r
20 PLAY "f+rl16frfrd+c+r8frfrd+c+r8frfrd+c+l8"
30 PLAY "rfrfrl16f+rf+rd+c+r8f+rf+rd+c+r8f+r
40 PLAY "f+rd+c+l8rf+rf+rl16frfrd+c+r8frfrd+c+r8fr"
50 PLAY "frd+c+l8rfrfrl16f+rf+rd+c+l8rf+rf+rf+r
60 PLAY "f+rf+rf+rl16frfrd+c+l8rfrfrfrfrfrfrl16"
70 PLAY "f+rf+rd+c+r8f+rf+rd+c+r8f+rf+rd+c+l8r
80 PLAY "f+rf+rl16frfrd+c+r8frfrd+c+r8frfrd+c+l8"
90 PLAY "rfrfrl16f+rf+r8.f+rc+c+d8c+8.frf+"</pre>
</div>
</div>
<div class="paragraph">
<p>MMLは、下記のサイトに公開されているものを利用しています。<br></p>
</div>
<div class="ulist">
<ul>
<li>
<p>主体性の無いページ（http://astr.me.land.to/）</p>
<div class="dlist">
<dl>
<dt class="hdlist1"></dt>
<dd>
<div class="dlist">
<dl>
<dt class="hdlist1">MML(<a href="http://astr.me.land.to/tool/mabi/" class="bare">http://astr.me.land.to/tool/mabi/</a>)</dt>
<dd>
<p>ねこふんじゃった！(<a href="http://astr.me.land.to/tool/mabi/mml/nekof.htm" class="bare">http://astr.me.land.to/tool/mabi/mml/nekof.htm</a>)<br></p>
</dd>
</dl>
</div>
</dd>
</dl>
</div>
</li>
</ul>
</div>
<hr>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect3">
<h4 id="TEMPO">3.9.3. TEMPO</h4>
<div class="paragraph">
<p>音楽演奏のテンポの設定</p>
</div>
<div class="sect4">
<h5 id="_書式_73">【書式】</h5>
<div class="paragraph">
<p><strong><a href="#TEMPO">TEMPO</a></strong> テンポ</p>
</div>
</div>
<div class="sect4">
<h5 id="_引数_73">【引数】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">テンポ</dt>
<dd>
<p>32 ～ 500  （デフォルト 120）</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_説明_73">【説明】</h5>
<div class="paragraph">
<p><strong><a href="#PLAY">PLAY</a></strong> コマンドによる音楽演奏のテンポの設定を行います。<br>
デフォルト値は120です。<br></p>
</div>
</div>
<div class="sect4">
<h5 id="_エラーメッセージ_73">【エラーメッセージ】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Syntax error</dt>
<dd>
<p>文法エラー、書式と異なる利用を行った</p>
</dd>
<dt class="hdlist1">Illegal value</dt>
<dd>
<p>引数に範囲外の値を指定した</p>
</dd>
<dt class="hdlist1">Overflow</dt>
<dd>
<p>指定した数値が-32768 ～ 32767を超えている</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_利用例_73">【利用例】</h5>
<div class="listingblock">
<div class="title">テンポを160に設定する</div>
<div class="content">
<pre>10 TEMPO 160
20 PLAY "CDEFGAB"</pre>
</div>
</div>
<hr>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect3">
<h4 id="TONE">3.9.4. TONE</h4>
<div class="paragraph">
<p>単音出力</p>
</div>
<div class="sect4">
<h5 id="_書式_74">【書式】</h5>
<div class="paragraph">
<p><strong><a href="#TONE">TONE</a></strong> 周波数<br>
<strong><a href="#TONE">TONE</a></strong> 周波数, 出力期間</p>
</div>
</div>
<div class="sect4">
<h5 id="_引数_74">【引数】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">周波数</dt>
<dd>
<p>0 ～ 32767 （Hz）  	0の場合は消音</p>
</dd>
<dt class="hdlist1">出力期間</dt>
<dd>
<p>0 ～ 32767 (ミリ秒)  0の場合は、継続再生</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_説明_74">【説明】</h5>
<div class="paragraph">
<p><strong>PB9</strong> ピンより、指定した周波数のパルス出力(デューティ比50%)を行います。<br>
<strong>PB9</strong> ピンに圧電スピーカー（圧電サウンダ）を接続すること音を出すことが出来ます。<br></p>
</div>
<div class="paragraph">
<p>出力期間の指定がある場合は、その期間パスルを出力します(ミリ秒単位)。<br>
出力期間の指定がある場合、出力完了待ちを行います。<br>
出力期間の指定がない場合は、<strong><a href="#NOTONE">NOTONE</a></strong> コマンドで停止指示をするまでパスルを出力し続けます。<br>
（ <strong><a href="#TONE">TONE</a></strong> 0は <strong><a href="#NOTONE">NOTONE</a></strong> と等価です）<br></p>
</div>
<table class="tableblock frame-all grid-all fit-content">
<caption class="title">表 6. 音階・周波数対応表</caption>
<colgroup>
<col>
<col>
<col>
<col>
<col>
<col>
<col>
<col>
<col>
<col>
<col>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top"></th>
<th class="tableblock halign-center valign-top">ド</th>
<th class="tableblock halign-center valign-top">ド♯</th>
<th class="tableblock halign-center valign-top">レ</th>
<th class="tableblock halign-center valign-top">レ♯</th>
<th class="tableblock halign-center valign-top">ミ</th>
<th class="tableblock halign-center valign-top">ファ</th>
<th class="tableblock halign-center valign-top">ファ♯</th>
<th class="tableblock halign-center valign-top">ソ</th>
<th class="tableblock halign-center valign-top">ソ♯</th>
<th class="tableblock halign-center valign-top">ラ</th>
<th class="tableblock halign-center valign-top">ラ♯</th>
<th class="tableblock halign-center valign-top">シ</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>1</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">33</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">35</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">37</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">39</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">41</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">44</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">46</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">49</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">52</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">55</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">58</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">62</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>2</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">65</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">69</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">73</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">78</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">82</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">87</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">93</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">98</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">104</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">110</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">117</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">123</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>3</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">131</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">139</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">147</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">156</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">165</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">175</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">185</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">196</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">208</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">220</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">233</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">247</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>4</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">262</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">277</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">294</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">311</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">330</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">349</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">370</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">392</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">415</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">440</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">466</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">494</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>5</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">523</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">554</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">587</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">622</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">659</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">698</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">740</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">784</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">831</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">880</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">932</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">988</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>6</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1047</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1109</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1175</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1245</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1319</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1397</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1480</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1568</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1661</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1760</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1865</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1976</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>7</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2093</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2217</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2349</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2489</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2637</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2794</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2960</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">3136</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">3322</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">3520</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">3729</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">3951</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>8</strong></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">4186</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">4435</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">4699</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">4978</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5274</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5588</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5920</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">6272</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">6643</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">7040</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">7459</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">7902</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_エラーメッセージ_74">【エラーメッセージ】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Syntax error</dt>
<dd>
<p>文法エラー、書式と異なる利用を行った</p>
</dd>
<dt class="hdlist1">Overflow</dt>
<dd>
<p>指定した数値が-32768 ～ 32767を超えている</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_利用例_74">【利用例】</h5>
<div class="listingblock">
<div class="title">スペースキーを押したら音を鳴らす</div>
<div class="content">
<pre>10 IF INKEY() = 32 TONE 800,50
20 GOTO 10</pre>
</div>
</div>
<hr>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_ファイル操作_2">3.10. ファイル操作</h3>
<div class="sect3">
<h4 id="BLOAD">3.10.1. BLOAD</h4>
<div class="paragraph">
<p>SDカードからバイナリデータ読込</p>
</div>
<div class="sect4">
<h5 id="_書式_75">【書式】</h5>
<div class="paragraph">
<p><strong><a href="#BLOAD">BLOAD</a></strong> "ファイル名" , アドレス, バイト数 [,ファイル内位置]</p>
</div>
</div>
<div class="sect4">
<h5 id="_引数_75">【引数】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">"ファイル名"</dt>
<dd>
<p>"ディレクトリパス(省略可能) + ファイル8文字 + 拡張子3文字" の形式</p>
</dd>
<dt class="hdlist1">アドレス</dt>
<dd>
<p>読み込みデータ格納アドレス $0000 ～</p>
</dd>
<dt class="hdlist1">バイト数</dt>
<dd>
<p>読み込みデータサイズ 1～32767</p>
</dd>
<dt class="hdlist1">ファイル内位置</dt>
<dd>
<p>ファイル内読み込み開始位置(バイト) 0～32767（省略時 0)</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_説明_75">【説明】</h5>
<div class="paragraph">
<p>SDカードから指定した <strong>ファイル</strong> の内容を指定した <strong>アドレス</strong> に指定 <strong>バイト数</strong> 分、読み込みます。<br>
<strong>アドレス</strong> には仮想アドレスを有効範囲内で指定します。<br>
<strong>ファイル内位置</strong> を指定した場合は、ファイル先頭から指定位置のバイト位置からデータを読み込みます。</p>
</div>
<div class="paragraph">
<p>仮想アドレスの指定には次の定数を利用することで有用な領域の指定が簡単に行えます。<br></p>
</div>
<table class="tableblock frame-all grid-all fit-content">
<colgroup>
<col>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">定数名</th>
<th class="tableblock halign-center valign-top">仮想化ドレス名</th>
<th class="tableblock halign-center valign-top">概要</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#_メモリ領域先頭アドレス定数">VRAM</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">画面表示用メモリ(CW×CH)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">サイズは<a href="#SCREEN">SCREEN</a>モードにより可変</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#_メモリ領域先頭アドレス定数">VAR</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">変数領域</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">サイズ 420バイト</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#_メモリ領域先頭アドレス定数">ARRAY</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">配列変数領域(@(0)～@(99) )</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">サイズ 200バイト</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#_メモリ領域先頭アドレス定数">PRG</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">プログラム領域</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">サイズ 4,096バイト</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#_メモリ領域先頭アドレス定数">MEM</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ユーザーワーク領域</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">サイズ 1,024バイト</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#_メモリ領域先頭アドレス定数">FNT</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">フォント256文字(フラッシュメモリ)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">サイズ 2,048バイト</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#_メモリ領域先頭アドレス定数">GRAM</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">グラフィック表示用メモリ</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">サイズは<a href="#SCREEN">SCREEN</a>モードにより可変</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#_メモリ領域先頭アドレス定数">PRG2</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">フラッシュメモリプログラム保存領域</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">サイズ 4,096バイト<br>
<a href="#BANK">BANK</a>コマンドにより0～5のバンク切り替え</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>仮想アドレスの詳細については、「<a href="../仕様/メモリーマップ.adoc">メモリーマップ</a>」の「<a href="../仕様/メモリーマップ.adoc#_仮想アドレス">仮想アドレス</a>」を参照下さい。</p>
</div>
<div class="paragraph">
<p>パソコンで作成したデータファイルや、<strong><a href="#BSAVE">BSAVE</a></strong> で保存したユーザーワーク領域、<br>
変数領域等内容を読み込んで利用することが出来ます。<br></p>
</div>
<div class="paragraph">
<p>ファイル名には、<strong><a href="#PRINT">PRINT</a></strong> 文と同じ書式の記述が可能です。<br></p>
</div>
<div class="paragraph">
<p>フラッシュメモリプログラム保存領域に対しては、<a href="#ERASE"><strong>ERASE</strong></a>コマンドによる消去した直後に、１回だけ直接読み込んで更新することが出来ます。</p>
</div>
<div class="listingblock">
<div class="title">例</div>
<div class="content">
<pre>10 N=1
20 BLOAD #-2,"DATA";N;".BIN",MEM,1024
OK</pre>
</div>
</div>
<div class="paragraph">
<p>上記の例では、ファイル "DATA01.BIN"をユーザー作業領域に読み込みます。</p>
</div>
</div>
<div class="sect4">
<h5 id="_エラーメッセージ_75">【エラーメッセージ】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Syntax error</dt>
<dd>
<p>文法エラー、書式と異なる利用を行った</p>
</dd>
<dt class="hdlist1">Illegal value</dt>
<dd>
<p>指定した引数が有効範囲を超えている</p>
</dd>
<dt class="hdlist1">Bad file name</dt>
<dd>
<p>指定したファイル名が正しくない</p>
</dd>
<dt class="hdlist1">SD I/O error</dt>
<dd>
<p>SDカードの利用が出来ない</p>
</dd>
<dt class="hdlist1">File read error</dt>
<dd>
<p>SDカードからのファイル読み込みに失敗した</p>
</dd>
<dt class="hdlist1">Overflow</dt>
<dd>
<p>指定した数値が-32768 ～ 32767を超えている</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_利用例_75">【利用例】</h5>
<div class="listingblock">
<div class="title">NTSV画面表示の内容（グラフィック表示）をファイルに保存し、再表示を行う</div>
<div class="content">
<pre>BSAVE "GDATA.BIN",GRAM,6048
OK
CLS
OK
BLOAD "GDATA.BIN",GRAM,6048
OK</pre>
</div>
</div>
<hr>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect3">
<h4 id="BSAVE">3.10.2. BSAVE</h4>
<div class="paragraph">
<p>SDカードへのバイナリデータ保存</p>
</div>
<div class="sect4">
<h5 id="_書式_76">【書式】</h5>
<div class="paragraph">
<p><strong><a href="#BSAVE">BSAVE</a></strong> "ファイル名" ,アドレス ,バイト数 [,ファイル内位置]</p>
</div>
</div>
<div class="sect4">
<h5 id="_引数_76">【引数】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">"ファイル名"</dt>
<dd>
<p>"ディレクトリパス(省略可能)+ファイル8文字+拡張子3文字" の形式<br></p>
</dd>
<dt class="hdlist1">アドレス</dt>
<dd>
<p>保存データ格納アドレス： ＄0000～<br></p>
</dd>
<dt class="hdlist1">バイト数</dt>
<dd>
<p>保存データサイズ： 1～32767<br></p>
</dd>
<dt class="hdlist1">ファイル内位置</dt>
<dd>
<p>ファイル内読み込み開始位置(バイト) 0～32767（省略時 0)</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_説明_76">【説明】</h5>
<div class="paragraph">
<p>指定した <strong>アドレス</strong> に格納されいてるバイナリデータをSDカードに保存します。<br>
アドレスには仮想アドレスを有効範囲内で指定します。<br>
<strong>ファイル内位置</strong> を指定した場合は、ファイル先頭から指定位置のからデータを書き込みます(たたし、既存領域の更新のみ対応)。</p>
</div>
<div class="paragraph">
<p>仮想アドレスの指定には次の定数を利用することで有用な領域の指定が簡単に行えます。<br></p>
</div>
<table class="tableblock frame-all grid-all fit-content">
<colgroup>
<col>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">定数名</th>
<th class="tableblock halign-center valign-top">仮想化ドレス名</th>
<th class="tableblock halign-center valign-top">概要</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#_メモリ領域先頭アドレス定数">VRAM</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">画面表示用メモリ(CW×CH)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">サイズは<a href="#SCREEN">SCREEN</a>モードにより可変</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#_メモリ領域先頭アドレス定数">VAR</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">変数領域</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">サイズ 420バイト</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#_メモリ領域先頭アドレス定数">ARRAY</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">配列変数領域(@(0)～@(99) )</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">サイズ 200バイト</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#_メモリ領域先頭アドレス定数">PRG</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">プログラム領域</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">サイズ 4,096バイト</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#_メモリ領域先頭アドレス定数">MEM</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ユーザーワーク領域</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">サイズ 1,024バイト</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#_メモリ領域先頭アドレス定数">FNT</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">フォント256文字(フラッシュメモリ)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">サイズ 2,048バイト</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#_メモリ領域先頭アドレス定数">GRAM</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">グラフィック表示用メモリ</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">サイズは<a href="#SCREEN">SCREEN</a>モードにより可変</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#_メモリ領域先頭アドレス定数">PRG2</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">フラッシュメモリプログラム保存領域</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">サイズ 4,096バイト<br>
<a href="#BANK">BANK</a>コマンドにより0～5のバンク切り替え</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>仮想アドレスの詳細については、「<a href="../仕様/メモリーマップ.adoc">メモリーマップ</a>」の「<a href="../仕様/メモリーマップ.adoc#_仮想アドレス">仮想アドレス</a>」を参照下さい。</p>
</div>
<div class="paragraph">
<p>ファイル名には、<strong><a href="#PRINT">PRINT</a></strong> 文と同じ書式の記述が可能です。<br></p>
</div>
<div class="listingblock">
<div class="title">例</div>
<div class="content">
<pre>10 N=1
20 BSAVE #-2,"DATA";N;".BIN",MEM,1024
OK</pre>
</div>
</div>
<div class="paragraph">
<p>上記の例では、ユーザー作業領域をファイル名 "DATA01.BIN"に保存します。</p>
</div>
</div>
<div class="sect4">
<h5 id="_エラーメッセージ_76">【エラーメッセージ】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Syntax error</dt>
<dd>
<p>文法エラー、書式と異なる利用を行った</p>
</dd>
<dt class="hdlist1">Illegal value</dt>
<dd>
<p>指定した引数が有効範囲を超えている</p>
</dd>
<dt class="hdlist1">Bad file name</dt>
<dd>
<p>指定したファイル名が正しくない</p>
</dd>
<dt class="hdlist1">SD I/O error</dt>
<dd>
<p>SDカードの利用が出来ない</p>
</dd>
<dt class="hdlist1">File write error</dt>
<dd>
<p>SDカードへのファイル書き込みに失敗した。</p>
</dd>
<dt class="hdlist1">Overflow</dt>
<dd>
<p>指定した数値が-32768 ～ 32767を超えている</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_利用例_76">【利用例】</h5>
<div class="listingblock">
<div class="title">グラフィック表示内容の保存と読み込み</div>
<div class="content">
<pre>BSAVE "GDATA.BIN",GRAM,6048
OK
CLS
OK
BLOAD "GDATA.BIN",GRAM,6048
OK</pre>
</div>
</div>
<hr>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect3">
<h4 id="CAT">3.10.3. CAT</h4>
<div class="paragraph">
<p>ファイルの内容表示</p>
</div>
<div class="sect4">
<h5 id="_書式_77">【書式】</h5>
<div class="paragraph">
<p><strong><a href="#CAT">CAT</a></strong> "ファイル名"</p>
</div>
</div>
<div class="sect4">
<h5 id="_引数_77">【引数】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">"ファイル名"</dt>
<dd>
<p>"ディレクトリパス(省略可能)+ファイル8文字+拡張子3文字" の形式（63文字まで）</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_説明_77">【説明】</h5>
<div class="paragraph">
<p>SDカード内の指定したテキストファイルの内容を画面に表示します。<br>
表示テキストには先頭にコメントコマンド(')が付加されます。<br></p>
</div>
<div class="paragraph">
<p>ファイル名にはディレクトリ名＋ファイル名の形式での記述が可能です。<br>
上位のディレクトリ名は"/"です（名前指定において省略可能）。<br>
次の２つは同じ動作をします。<br></p>
</div>
<div class="listingblock">
<div class="content">
<pre>CAT "/SAMPLE.BAS"
CAT "SAMPLE.BAS"</pre>
</div>
</div>
<div class="paragraph">
<p>ディレクトリ内のファイルを表示する場合はそのディレクトリ名も指定します。<br></p>
</div>
<div class="listingblock">
<div class="content">
<pre>CAT "/SRC/SAMPLE.BAS"</pre>
</div>
</div>
<div class="paragraph">
<p>または</p>
</div>
<div class="listingblock">
<div class="content">
<pre>CAT "SRC/SAMPLE.BAS"</pre>
</div>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">注意</div>
</td>
<td class="content">
バイナリ形式のファイルには対応していません。
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>ファイル名には、<strong><a href="#PRINT">PRINT</a></strong> 文と同じ書式の記述が可能です。</p>
</div>
</div>
<div class="sect4">
<h5 id="_エラーメッセージ_77">【エラーメッセージ】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Syntax error</dt>
<dd>
<p>文法エラー、書式と異なる利用を行った</p>
</dd>
<dt class="hdlist1">Bad file name</dt>
<dd>
<p>指定したファイル名が正しくない</p>
</dd>
<dt class="hdlist1">SD I/O error</dt>
<dd>
<p>SDカードの利用が出来ない</p>
</dd>
<dt class="hdlist1">File read error</dt>
<dd>
<p>SDカードからのファイル読み込みに失敗した</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_利用例_77">【利用例】</h5>
<div class="listingblock">
<div class="title">ファイルの内容を表示する</div>
<div class="content">
<pre>CAT "/SRC/SAMPLE.BAS"
’10 PRINT "Hello Tiny BASIC”
’20 PRINT “Hello Arduino STM32”
’30 END
OK</pre>
</div>
</div>
<hr>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect3">
<h4 id="LDBMP">3.10.4. LDBMP</h4>
<div class="paragraph">
<p>ビットマップファイルの読み込み</p>
</div>
<div class="sect4">
<h5 id="_書式_78">【書式】</h5>
<div class="paragraph">
<p><strong><a href="#LDBMP">LDBMP</a></strong> "ファイル名", 仮想アドレス, Bx, By, 幅, 高さ[,色指定]</p>
</div>
</div>
<div class="sect4">
<h5 id="_引数_78">【引数】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">"ファイル名"</dt>
<dd>
<p>"ディレクトリパス(省略可能)+ファイル8文字+拡張子3文字" の形式</p>
</dd>
<dt class="hdlist1">仮想アドレス</dt>
<dd>
<p>データの読み込みアドレス(仮想アドレス）</p>
</dd>
<dt class="hdlist1">Bx</dt>
<dd>
<p>ビットマップ画像の切り出し横座標: 0 ～ 32767</p>
</dd>
<dt class="hdlist1">By</dt>
<dd>
<p>ビットマップ画像の切り出し縦座標: 0 ～ 32767</p>
</dd>
<dt class="hdlist1">幅</dt>
<dd>
<p>ビットマップ画像の切り出しドット幅: 1 ～ 32767</p>
</dd>
<dt class="hdlist1">高さ</dt>
<dd>
<p>ビットマップ画像の切り出しドット高:	1 ～ 32767</p>
</dd>
<dt class="hdlist1">色指定</dt>
<dd>
<p>0 変換なし、1 反転</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_説明_78">【説明】</h5>
<div class="paragraph">
<p>SDカード内のWindowsビットマップファイル（モノクロ2値)の指定領域を<br>
指定した仮想メモリ上に格納します。<br></p>
</div>
<div class="paragraph">
<p>読み込む画像はファイル名で指定します。<br>
仮想アドレスの指定には次の定数を利用することで有用な領域の指定が簡単に行えます。<br></p>
</div>
<table class="tableblock frame-all grid-all fit-content">
<colgroup>
<col>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">定数名</th>
<th class="tableblock halign-center valign-top">仮想化ドレス名</th>
<th class="tableblock halign-center valign-top">概要</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#_メモリ領域先頭アドレス定数">VRAM</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">画面表示用メモリ(CW×CH)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">サイズは<a href="#SCREEN">SCREEN</a>モードにより可変</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#_メモリ領域先頭アドレス定数">VAR</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">変数領域</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">サイズ 420バイト</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#_メモリ領域先頭アドレス定数">ARRAY</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">配列変数領域(@(0)～@(99) )</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">サイズ 200バイト</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#_メモリ領域先頭アドレス定数">PRG</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">プログラム領域</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">サイズ 4,096バイト</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#_メモリ領域先頭アドレス定数">MEM</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ユーザーワーク領域</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">サイズ 1,024バイト</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#_メモリ領域先頭アドレス定数">FNT</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">フォント256文字(フラッシュメモリ)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">サイズ 2,048バイト</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#_メモリ領域先頭アドレス定数">GRAM</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">グラフィック表示用メモリ</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">サイズは<a href="#SCREEN">SCREEN</a>モードにより可変</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#_メモリ領域先頭アドレス定数">PRG2</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">フラッシュメモリプログラム保存領域</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">サイズ 4,096バイト<br>
<a href="#BANK">BANK</a>コマンドにより0～5のバンク切り替え</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>仮想アドレスの詳細については、「<a href="../仕様/メモリーマップ.adoc">メモリーマップ</a>」の「<a href="../仕様/メモリーマップ.adoc#_仮想アドレス">仮想アドレス</a>」を参照下さい。</p>
</div>
<div class="paragraph">
<p>ビットマップ画像上の座標Bx、Byから指定した幅、高さの画像を指定したアドレスに<br>
連続データとして格納します。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/LDBMP_area.png" alt="LDBMP area">
</div>
<div class="title">図 3. ビットマップ画像からの部分抽出</div>
</div>
<div class="paragraph">
<p>指定した幅、高さがビットマップ画像よりも大きい場合は、<br>
切り出し幅、高さを画像サイズにて調整します。<br></p>
</div>
<div class="paragraph">
<p>引数の色指定にて、元の画像の白・黒を反転して読み込む指定が可能です。<br></p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">注意</div>
</td>
<td class="content">
連続したデータが指定した保存可能な領域を<br>
オーバーするチェックは行っていません。<br>
あらかじめ画像サイズを見積もった上で利用して下さい。<br>
ユーザーワーク領域(1024バイト)を利用した場合、格納できる画像は、<br>
128ドット×64ドットの画像程度です。<br>
大きい画像を表示する場合、グラフィック表示用メモリに直接読み込むか、<br>
<strong><a href="#DWBMP">DWBMP</a></strong> コマンドを利用して下さい。
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_エラーメッセージ_78">【エラーメッセージ】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Syntax error</dt>
<dd>
<p>文法エラー、書式と異なる利用を行った</p>
</dd>
<dt class="hdlist1">Overflow</dt>
<dd>
<p>指定した数値が-32768 ～ 32767を超えている</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_利用例_78">【利用例】</h5>
<div class="paragraph">
<p>下記の横96ドット、縦64ドットの画像（768バイト)ファイル"TT.BMP"の全データを<br>
ユーザーワーク領域(<a href="#MEM">MEM</a>～)に読込み、<strong><a href="#BITMAP">BITMAP</a></strong> コマンドで2倍表示する。<br></p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/LDBMP_sample_1.png" alt="LDBMP sample 1">
</div>
<div class="title">図 4. 利用画像ファイル</div>
</div>
<div class="listingblock">
<div class="title">プログラム</div>
<div class="content">
<pre>10 CLS
20 LDBMP "TT.BMP",MEM,0,0,96,64
30 BITMAP 10,30,MEM,0,96,64,2
40 GOTO 40</pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/LDBMP_sample_2.png" alt="LDBMP sample 2">
</div>
<div class="title">図 5. 実行結果</div>
</div>
<div class="paragraph">
<p>同画像を、「豊」「四」「季」「TBASIC」の4つに分けて読込み、<strong><a href="#BITMAP">BITMAP</a></strong> コマンドで<br>
分離して表示する。「豊」は反転して読み込む。<br></p>
</div>
<div class="listingblock">
<div class="title">プログラム</div>
<div class="content">
<pre>10 CLS
20 LDBMP "TT.BMP",MEM,0,0,32,32,1
30 LDBMP "TT.BMP",MEM+128,32,0,32,32
40 LDBMP "TT.BMP",MEM+256,64,0,32,32
50 LDBMP "TT.BMP",MEM+384,0,32,96,32
60 BITMAP 10,30,MEM,0,32,32,2
70 BITMAP 74,40,MEM,1,32,32,2
80 BITMAP 138,50,MEM,2,32,32,2
90 BITMAP 10,120,MEM+384,0,96,32,2</pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/LDBMP_sample_3.png" alt="LDBMP sample 3">
</div>
<div class="title">図 6. 実行結果</div>
</div>
<div class="paragraph">
<p>大きいサイズの画像を直接グラフィック表示用メモリに読み込んで画像を表示する</p>
</div>
<div class="listingblock">
<div class="title">プログラム</div>
<div class="content">
<pre>10 CLS
20 LDBMP "CAT.BMP",GRAM,0,0,GW,GH
30 GOTO 30</pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/LDBMP_sample_4.png" alt="LDBMP sample 4">
</div>
<div class="title">図 7. 実行結果</div>
</div>
<div class="paragraph">
<p>画像はHelm42さんの猫絵を利用させて頂いています。<br>
<a href="http://free-illustrations.gatag.net/tag/%E7%8C%AB-%E3%83%8D%E3%82%B3" class="bare">http://free-illustrations.gatag.net/tag/%E7%8C%AB-%E3%83%8D%E3%82%B3</a></p>
</div>
<hr>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect3">
<h4 id="MKDIR">3.10.5. MKDIR</h4>
<div class="paragraph">
<p>ディレクトリの作成</p>
</div>
<div class="sect4">
<h5 id="_書式_79">【書式】</h5>
<div class="paragraph">
<p><strong><a href="#MKDIR">MKDIR</a></strong> "ディレクトリ名"</p>
</div>
</div>
<div class="sect4">
<h5 id="_引数_79">【引数】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">“ディレクトリ名”</dt>
<dd>
<p>1～63文字までのディレクトリ名</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_説明_79">【説明】</h5>
<div class="paragraph">
<p>SDカード内に指定したディレクトリを作成します。<br>
指定するディレクトリ名は、上位ディレクトリ名を含めて最大63文字まで指定可能です。<br>
作成するディレクトリの名称は8文字可能です。大文字小文字の区別はありません。<br></p>
</div>
<div class="paragraph">
<p>上位のディレクトリ名は"/"です（名前指定において省略可能）。<br>
次の２つは同じ動作をします。</p>
</div>
<div class="listingblock">
<div class="content">
<pre>MKDIR "/DIR1"
MIDIR "DIR1"</pre>
</div>
</div>
<div class="paragraph">
<p>サブディレクトリの作成は次のように記述します。</p>
</div>
<div class="listingblock">
<div class="content">
<pre>MKDIR "/DIR1/SUBDIR"</pre>
</div>
</div>
<div class="paragraph">
<p>または</p>
</div>
<div class="listingblock">
<div class="content">
<pre>MKDIR "DIR1/SUBDIR"</pre>
</div>
</div>
<div class="paragraph">
<p>上位のディレクトリがない場合にサブディレクトリ作成を行った場合、<br>
親ディレクトリも作成されます。<br>
次のコマンドでは、DIR2とDIR2/SUBDIR が作成されます。</p>
</div>
<div class="listingblock">
<div class="content">
<pre>MKDIR “DIR2/SUBDIR”</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_エラーメッセージ_79">【エラーメッセージ】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Syntax error</dt>
<dd>
<p>文法エラー、書式と異なる利用を行った</p>
</dd>
<dt class="hdlist1">Bad file name</dt>
<dd>
<p>指定したファイル名が正しくない</p>
</dd>
<dt class="hdlist1">SD I/O error</dt>
<dd>
<p>SDカードの利用が出来ない</p>
</dd>
<dt class="hdlist1">File write error</dt>
<dd>
<p>SDカードへのファイル書き込みに失敗した。</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_利用例_79">【利用例】</h5>
<div class="listingblock">
<div class="title">ディレクトリSRCを作成する</div>
<div class="content">
<pre>MKDIR "SRC"
OK</pre>
</div>
</div>
<hr>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect3">
<h4 id="REMOVE">3.10.6. REMOVE</h4>
<div class="paragraph">
<p>ファイルの削除</p>
</div>
<div class="sect4">
<h5 id="_書式_80">【書式】</h5>
<div class="paragraph">
<p><strong><a href="#REMOVE">REMOVE</a></strong> "ファイル名"</p>
</div>
</div>
<div class="sect4">
<h5 id="_引数_80">【引数】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">"ファイル名"</dt>
<dd>
<p>"ディレクトリパス(省略可能)+ファイル8文字+拡張子3文字" の形式（63文字まで）</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_説明_80">【説明】</h5>
<div class="paragraph">
<p>SDカード内の指定したファイルを削除します。<br>
ファイル名にはディレクトリ名＋ファイル名の形式での記述が可能です。<br></p>
</div>
<div class="paragraph">
<p>上位のディレクトリ名は"/"です（名前指定において省略可能）。<br>
次の２つは同じ動作をします。<br></p>
</div>
<div class="listingblock">
<div class="content">
<pre>REMOVE "/SAMPLE.BAS"
REMOVE "SAMPLE.BAS"</pre>
</div>
</div>
<div class="paragraph">
<p>ディレクトリ内のファイルを削除する場合はそのディレクトリ名も指定します。<br></p>
</div>
<div class="listingblock">
<div class="content">
<pre>REMOVE "/SRC/SAMPLE.BAS"</pre>
</div>
</div>
<div class="paragraph">
<p>または</p>
</div>
<div class="listingblock">
<div class="content">
<pre>REMOVE "SRC/SAMPLE.BAS"</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_エラーメッセージ_80">【エラーメッセージ】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Syntax error</dt>
<dd>
<p>文法エラー、書式と異なる利用を行った</p>
</dd>
<dt class="hdlist1">Bad file name</dt>
<dd>
<p>指定したファイル名が正しくない</p>
</dd>
<dt class="hdlist1">SD I/O error</dt>
<dd>
<p>SDカードの利用が出来ない</p>
</dd>
<dt class="hdlist1">File write error</dt>
<dd>
<p>SDカードへのファイル書き込みに失敗した。</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_利用例_80">【利用例】</h5>
<div class="listingblock">
<div class="title">ファイルを削除する</div>
<div class="content">
<pre>REMOVE "/SRC/SAMPLE.BAS"
OK</pre>
</div>
</div>
<hr>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect3">
<h4 id="RMDIR">3.10.7. RMDIR</h4>
<div class="paragraph">
<p>ディレクトリの削除</p>
</div>
<div class="sect4">
<h5 id="_書式_81">【書式】</h5>
<div class="paragraph">
<p><strong><a href="#RMDIR">RMDIR</a></strong> "ディレクトリ名"</p>
</div>
</div>
<div class="sect4">
<h5 id="_引数_81">【引数】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">"ディレクトリ名"</dt>
<dd>
<p>1～63文字までのディレクトリ名</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_説明_81">【説明】</h5>
<div class="paragraph">
<p>SDカード内の指定したディレクトリを削除します。<br>
指定したディレクトリにサブディレクトリやファイルが存在する場合、そのファイルも削除されます。<br></p>
</div>
<div class="paragraph">
<p>指定するディレクトリ名は、上位ディレクトリ名を含めて最大63文字まで指定可能です。<br>
作成するディレクトリの名称は8文字可能です。大文字小文字の区別はありません。<br></p>
</div>
<div class="paragraph">
<p>上位のディレクトリ名は"/"です（名前指定において省略可能）。<br>
次の２つは同じ動作をします。<br></p>
</div>
<div class="listingblock">
<div class="content">
<pre>RMDIR "/DIR1"
RMDIR "DIR1"</pre>
</div>
</div>
<div class="paragraph">
<p>サブディレクトリの削除は次のように記述します。</p>
</div>
<div class="listingblock">
<div class="content">
<pre>RMDIR "/DIR1/SUBDIR"</pre>
</div>
</div>
<div class="paragraph">
<p>または</p>
</div>
<div class="listingblock">
<div class="content">
<pre>RMDIR "DIR1/SUBDIR"</pre>
</div>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">注意</div>
</td>
<td class="content">
ルートディレクトリの削除は出来ません。<br>
RMDIR "/" は"Bad file name"エラーとなります。
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_エラーメッセージ_81">【エラーメッセージ】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Syntax error</dt>
<dd>
<p>文法エラー、書式と異なる利用を行った</p>
</dd>
<dt class="hdlist1">Bad file name</dt>
<dd>
<p>指定したファイル名が正しくない</p>
</dd>
<dt class="hdlist1">SD I/O error</dt>
<dd>
<p>SDカードの利用が出来ない</p>
</dd>
<dt class="hdlist1">File write error</dt>
<dd>
<p>SDカードへのファイル書き込みに失敗した。</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_利用例_81">【利用例】</h5>
<div class="listingblock">
<div class="title">ディレクトリSRCを削除する</div>
<div class="content">
<pre>RMDIR "SRC"
OK</pre>
</div>
</div>
<hr>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_グラフィック表示_2">3.11. グラフィック表示</h3>
<div class="sect3">
<h4 id="BITMAP">3.11.1. BITMAP</h4>
<div class="paragraph">
<p>ビットマップ画像の描画</p>
</div>
<div class="sect4">
<h5 id="_書式_82">【書式】</h5>
<div class="paragraph">
<p><strong><a href="#BITMAP">BITMAP</a></strong> 横座標, 縦座標, アドレス, インデックス, 幅, 高さ [,倍率 [,色 [,モード]]]</p>
</div>
</div>
<div class="sect4">
<h5 id="_引数_82">【引数】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">横座標</dt>
<dd>
<p>0 ～ GW-1</p>
</dd>
<dt class="hdlist1">縦座標</dt>
<dd>
<p>0 ～ GH-1</p>
</dd>
<dt class="hdlist1">アドレス</dt>
<dd>
<p>数値(任意の仮想アドレス)</p>
</dd>
<dt class="hdlist1">インデックス</dt>
<dd>
<p>0 ～ 32767</p>
</dd>
<dt class="hdlist1">幅</dt>
<dd>
<p>1 ～ GW-1</p>
</dd>
<dt class="hdlist1">高さ</dt>
<dd>
<p>1 ～ GH-1</p>
</dd>
<dt class="hdlist1">倍率</dt>
<dd>
<p>1 ～ 8</p>
</dd>
<dt class="hdlist1">色</dt>
<dd>
<p>0 ～ 8, $0009 ～ $FFFF デフォルト値：7(白)<br>
TFT版のみ有効</p>
</dd>
<dt class="hdlist1">モード</dt>
<dd>
<p>0: モノクロビットマップ(デフォルト値）<br>
1: 16ビット色ビットマップ<br>
TFT版のみ有効</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p><a href="#GW">GW</a>、<a href="#GH">GH</a>はグラフィック画面の横ドット数、縦ドット数を示す定数です。<br>
　この定数は、画面解像度により変わります。</p>
</div>
</div>
<div class="sect4">
<h5 id="_説明_82">【説明】</h5>
<div class="paragraph">
<p>指定した座標に指定した <strong>アドレス</strong> に格納されている <strong>ビットマップ画像</strong> を描画します。<br>
<strong>インデックス</strong> を指定することで、複数の画像パターンを切り替えて表示することが出来ます。<br>
画像パターンが１のみの場合は、<strong>インデックス</strong> に0を指定します。</p>
</div>
<div class="paragraph">
<p><strong>ビットマップ画像</strong> は、1ドットを1ビットの 0 or 1の連続データで定義します。<br>
TFT版では1ドットに16ビットを割り当てた16ビット色の利用も可能です。<br>
この場合、引数のモードにて1を指定します。</p>
</div>
<div class="paragraph">
<p>TFT版でモノクロビットマップを利用する場合、引数にて色指定を行うことが出来ます。<br>
色コードについては、<a href="#COLOR"><strong>COLOR</strong></a> コマンドの引数を参照して下さい。</p>
</div>
<div class="paragraph">
<p>引数の <strong>アドレス</strong> には描画対象の画像データの先頭格納アドレスを指定します。<br>
<strong>インデックス</strong> には画像データの先頭格納の格納位置を指定します。<br>
モノクロビットマップの場合、+
(幅 + 7) / 8 + 高さ x インデックス<br>
 の計算にて参照する画像格納位置を移動します。<br></p>
</div>
<div class="paragraph">
<p>16ビット色ビットマップでは1ドット2バイトとし、+
幅 x 高さ x 2 x インデックス<br>
の計算で参照する画像格納位置を移動します。</p>
</div>
<div class="paragraph">
<p>仮想アドレスの指定には次の定数を利用することで有用な領域の指定が簡単に行えます。<br></p>
</div>
<table class="tableblock frame-all grid-all fit-content">
<colgroup>
<col>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">定数名</th>
<th class="tableblock halign-center valign-top">仮想化ドレス名</th>
<th class="tableblock halign-center valign-top">概要</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#_メモリ領域先頭アドレス定数">VRAM</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">画面表示用メモリ(CW×CH)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">サイズは<a href="#SCREEN">SCREEN</a>モードにより可変</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#_メモリ領域先頭アドレス定数">VAR</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">変数領域</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">サイズ 420バイト</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#_メモリ領域先頭アドレス定数">ARRAY</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">配列変数領域(@(0)～@(99) )</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">サイズ 200バイト</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#_メモリ領域先頭アドレス定数">PRG</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">プログラム領域</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">サイズ 4,096バイト</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#_メモリ領域先頭アドレス定数">MEM</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ユーザーワーク領域</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">サイズ 1,024バイト</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#_メモリ領域先頭アドレス定数">FNT</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">フォント256文字(フラッシュメモリ)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">サイズ 2,048バイト</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#_メモリ領域先頭アドレス定数">GRAM</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">グラフィック表示用メモリ</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">サイズは<a href="#SCREEN">SCREEN</a>モードにより可変</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#_メモリ領域先頭アドレス定数">PRG2</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">フラッシュメモリプログラム保存領域</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">サイズ 4,096バイト<br>
<a href="#BANK">BANK</a>コマンドにより0～5のバンク切り替え</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>仮想アドレスの詳細については、「<a href="../仕様/メモリーマップ.adoc">メモリーマップ</a>」の「<a href="../仕様/メモリーマップ.adoc#_仮想アドレス">仮想アドレス</a>」を参照下さい。</p>
</div>
</div>
<div class="sect4">
<h5 id="_エラーメッセージ_82">【エラーメッセージ】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Syntax error</dt>
<dd>
<p>文法エラー、書式と異なる利用を行った</p>
</dd>
<dt class="hdlist1">Overflow</dt>
<dd>
<p>指定した数値が-32768 ～ 32767を超えている</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_利用例_82">【利用例】</h5>
<div class="listingblock">
<div class="title">インベーダーのキャラクタをアニメーション表示する(４倍で表示)</div>
<div class="content">
<pre>10 CLS
20 POKE MEM+0,$10,$40,$48,$90,$5F,$D0,$77,$70
30 POKE MEM+8,$3F,$E0,$1F,$C0,$10,$40,$20,$20
40 POKE MEM+16,$10,$40,$08,$80,$1F,$C0,$37,$60
50 POKE MEM+24,$7F,$F0,$5F,$D0,$50,$50,$0D,$80
60 FOR A=0 TO 20
70 BITMAP A,0,MEM,A%2,12,8,4
80 WAIT 200
90 NEXT A</pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/BITMAP_sample.png" alt="BITMAP sample">
</div>
<div class="title">図 8. 実行結果</div>
</div>
<hr>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect3">
<h4 id="CIRCLE">3.11.2. CIRCLE</h4>
<div class="paragraph">
<p>円の描画</p>
</div>
<div class="sect4">
<h5 id="_書式_83">【書式】</h5>
<div class="paragraph">
<p><strong><a href="#CIRCLE">CIRCLE</a></strong> 横中心座標, 縦中心座標, 半径, 色, モード</p>
</div>
</div>
<div class="sect4">
<h5 id="_引数_83">【引数】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">横中心座標</dt>
<dd>
<p>：0 ～ GW-1</p>
</dd>
<dt class="hdlist1">縦中心座標</dt>
<dd>
<p>：0 ～ GH-1</p>
</dd>
<dt class="hdlist1">半径</dt>
<dd>
<p>：1 ～ GW-1</p>
</dd>
<dt class="hdlist1">色</dt>
<dd>
<p>0 黒 、1 白 、2 反転 (NTSC、OLED画面利用時)<br>
0 ～ 8 または RGBコード $0009～$FFFF（TFT画面利用時）</p>
</dd>
<dt class="hdlist1">モード</dt>
<dd>
<p>0 塗りつぶしなし,0以外 塗りつぶしあり</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>GW、GHはグラフィック画面の横ドット数、縦ドット数を示す定数です。<br>
この定数は、画面解像度により変わります。</p>
</div>
</div>
<div class="sect4">
<h5 id="_説明_83">【説明】</h5>
<div class="paragraph">
<p>指定した中心座標(横中心座標,縦中心座標)を起点に指定した半径の円を色で描画します。<br>
NTSC版、OLED版では、2色のみ利用可能です。<br>
色に2をした場合は、座標位置の色を反転して描画します。<br></p>
</div>
<div class="paragraph">
<p>TFT(ILI9341)ディスプレイでは色コード 0～8 または、<br>
RGBコードとして $0009 ～ $FFFFの色指定が可能です。<br>
色コード 0～8は次の色に割り当てています。<br></p>
</div>
<table class="tableblock frame-all grid-all fit-content">
<caption class="title">表 7. 色コード</caption>
<colgroup>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">色コード</th>
<th class="tableblock halign-center valign-top">色</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>0</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">黒</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>1</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">赤</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>2</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">緑</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>3</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">茶</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>4</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">青</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>5</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">マゼンタ</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>6</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">シアン</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>7</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">白(デフォルト)</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>8</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">黄</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>RGBコードの指定は、<strong><a href="#RGB">RGB</a></strong> 関数を使うことで直感的な色を指定することが出来ます。<br></p>
</div>
<div class="listingblock">
<div class="title">例:赤い円を描く</div>
<div class="content">
<pre>CIRCLE 100,100,50,RGB(31,0,0),1</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_エラーメッセージ_83">【エラーメッセージ】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Syntax error</dt>
<dd>
<p>文法エラー、書式と異なる利用を行った</p>
</dd>
<dt class="hdlist1">Overflow</dt>
<dd>
<p>指定した数値が-32768 ～ 32767を超えている</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_利用例_83">【利用例】</h5>
<div class="listingblock">
<div class="title">円を描画する(NTSC画面)</div>
<div class="content">
<pre>10 CLS
20 FOR Y=0 TO 215 STEP 40
30 FOR X=0 TO 223 STEP 40
40 CIRCLE X,Y,30,1,0
50 NEXT X
60 NEXT Y
70 GOTO 70</pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/CIRCLE_sample.png" alt="CIRCLE sample">
</div>
<div class="title">図 9. 実行結果</div>
</div>
<hr>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect3">
<h4 id="CSCROLLL">3.11.3. CSCROLL</h4>
<div class="paragraph">
<p>キャラクタ画面スクロール</p>
</div>
<div class="sect4">
<h5 id="_書式_84">【書式】</h5>
<div class="paragraph">
<p><strong><a href="#CSCROLLL">CSCROLL</a></strong> x1, y1, x2 ,y2, 方向</p>
</div>
</div>
<div class="sect4">
<h5 id="_引数_84">【引数】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">x1</dt>
<dd>
<p>左上横座標0 ～ CW-1（最大値は利用フォントにより可変）</p>
</dd>
<dt class="hdlist1">y1</dt>
<dd>
<p>左上縦座標0 ～ CH-1（最大値は利用フォントにより可変）</p>
</dd>
<dt class="hdlist1">x2</dt>
<dd>
<p>右下横座標0 ～ CW-1（最大値は利用フォントにより可変）</p>
</dd>
<dt class="hdlist1">y2</dt>
<dd>
<p>右下縦座標0 ～ CH-1（最大値は利用フォントにより可変）</p>
</dd>
<dt class="hdlist1">方向</dt>
<dd>
<p><strong><a href="#DIRECTION">UP</a></strong> (0): 上、 <strong><a href="#DIRECTION">DOWN</a></strong> (1): 下、 <strong><a href="#DIRECTION">RIGHT</a></strong> (2): 右、 <strong><a href="#DIRECTION">LEFT</a></strong> (3): 左<br>
方向は定数またはカッコ内の数値の指定が可能</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_説明_84">【説明】</h5>
<div class="paragraph">
<p>画面の指定範囲でテキストを１文字単位でスクロールします。<br>
本コマンドは、シリアルコンソール画面では利用出来ません。<br></p>
</div>
<div class="paragraph">
<p>画面全体をスクロールしたい場合は、<br></p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/CSCROLL_area.png" alt="CSCROLL area">
</div>
</div>
<div class="listingblock">
<div class="title">例</div>
<div class="content">
<pre>CSCROLL 0,0,CW-1,CH-1,LEFT</pre>
</div>
</div>
<div class="paragraph">
<p>のように、画面の左上の位置と画面右下の位置を指定します。<br></p>
</div>
<div class="paragraph">
<p>指定した範囲をスクロールしたい場合は、<br></p>
</div>
<div class="listingblock">
<div class="title">例</div>
<div class="content">
<pre>CSCROLL 3,3,13,5,LEFT</pre>
</div>
</div>
<div class="paragraph">
<p>のように範囲を指定します。</p>
</div>
</div>
<div class="sect4">
<h5 id="_エラーメッセージ_84">【エラーメッセージ】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Syntax error</dt>
<dd>
<p>文法エラー、書式と異なる利用を行った</p>
</dd>
<dt class="hdlist1">Overflow</dt>
<dd>
<p>指定した数値が-32768 ～ 32767を超えている</p>
</dd>
<dt class="hdlist1">Illegal value</dt>
<dd>
<p>指定した数値が不当である</p>
</dd>
<dt class="hdlist1">Not supported</dt>
<dd>
<p>シリアルコンソール画面で実行した</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_利用例_84">【利用例】</h5>
<div class="listingblock">
<div class="title">文字をスクロールする</div>
<div class="content">
<pre>10 CLS
20 LOCATE 10,10:?"Hello,TinyBASIC"
25 WAIT 200
30 FOR I=0 TO 15
40 CSCROLL 10,10,24,10,LEFT
50 WAIT 500
60 NEXT I</pre>
</div>
</div>
<hr>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect3">
<h4 id="DWBMP">3.11.4. DWBMP</h4>
<div class="paragraph">
<p>BMPファイルの表示</p>
</div>
<div class="sect4">
<h5 id="_書式_85">【書式】</h5>
<div class="paragraph">
<p><strong><a href="#DWBMP">DWBMP</a></strong> "ファイル名",  x, y [, Bx, By, 幅, 高さ[,色指定]]</p>
</div>
</div>
<div class="sect4">
<h5 id="_引数_85">【引数】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">"ファイル名"</dt>
<dd>
<p>"ディレクトリパス(省略可能)+ファイル8文字+拡張子3文字" の形式</p>
</dd>
<dt class="hdlist1">x</dt>
<dd>
<p>画像表示位置 横: 0 ～ GW-1</p>
</dd>
<dt class="hdlist1">y</dt>
<dd>
<p>画像表示位置 縦: 0 ～ GH-1</p>
</dd>
<dt class="hdlist1">Bx</dt>
<dd>
<p>ビットマップ画像の切り出し横座標:	0 ～ 32767(省略時は0)</p>
</dd>
<dt class="hdlist1">By</dt>
<dd>
<p>ビットマップ画像の切り出し縦座標: 	0 ～ 32767(省略時は0)</p>
</dd>
<dt class="hdlist1">幅</dt>
<dd>
<p>ビットマップ画像の切り出しドット幅:	1 ～ GW(省略時は画像幅)</p>
</dd>
<dt class="hdlist1">高さ</dt>
<dd>
<p>ビットマップ画像の切り出しドット高:	1 ～ GH(省略時は画像高さ)</p>
</dd>
<dt class="hdlist1">色指定</dt>
<dd>
<p>0 変換なし、1 反転 （省略時 0）<br>
TFTディスプレイの場合、16ビット色ビットマップファイル利用では無視されます。</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_説明_85">【説明】</h5>
<div class="paragraph">
<p>SDカード内のWindowsビットマップファイルの指定領域の画像を切り出して、指定した座標(x,y)に表示します。<br>
NTSC、OLEDディスプレイの場合、ビットマップファイルはモノクロ（白黒２値）画像のみ利用出来ます。<br>
TFTデスプレイの場合、16ビット色ビットマップファイルも利用出来ます。<br></p>
</div>
<div class="paragraph">
<p>ビットマップ画像上の座標Bx、Byから指定した幅、高さの画像を切り出して指定位置に表示します。<br></p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/LDBMP_area.png" alt="LDBMP area">
</div>
<div class="title">図 10. ビットマップ画像からの部分抽出</div>
</div>
<div class="paragraph">
<p>表示位置のx、 ビットマップ画像の切り出し位置Bx、切り出し幅はバイト境界である８の倍数である必要があります。８の倍数でない場合は８の倍数に丸めます。<br></p>
</div>
<div class="paragraph">
<p>NTSC、OLEDディスプレイの場合、引数の色指定にて、元の画像の白・黒を反転して読み込む指定が可能です。<br>
TFTディスプレイの場合、引数の色指定は利用出来ません。<br></p>
</div>
</div>
<div class="sect4">
<h5 id="_エラーメッセージ_85">【エラーメッセージ】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Syntax error</dt>
<dd>
<p>文法エラー、書式と異なる利用を行った</p>
</dd>
<dt class="hdlist1">Overflow</dt>
<dd>
<p>指定した数値が-32768 ～ 32767を超えている</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_利用例_85">【利用例】</h5>
<div class="paragraph">
<p>下記の横96ドット、縦64ドットの画像（768バイト)ファイル"TT.BMP"を３つ表示する。<br>
それのれの画像表示開始位置は、座標(0,0)、座標(8,64)、座標(16,130)とする。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/LDBMP_sample_1.png" alt="LDBMP sample 1">
</div>
<div class="title">図 11. 画像ファイル</div>
</div>
<div class="listingblock">
<div class="title">プログラム</div>
<div class="content">
<pre>10 CLS
20 DWBMP "TT.BMP",0,0,0,0,96,64
30 DWBMP "TT.BMP",8,65,0,0,96,64
40 DWBMP "TT.BMP",16,130,0,0,96,64
50 GOTO 50</pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/DWBMP_sample_1.png" alt="DWBMP sample 1">
</div>
<div class="title">図 12. 実行結果</div>
</div>
<div class="paragraph">
<p>同画像から指定境域の画像を切り出して表示する</p>
</div>
<div class="listingblock">
<div class="title">プログラム</div>
<div class="content">
<pre>10 CLS
20 DWBMP "TT.BMP",0,0,0,0,30,30
30 DWBMP "TT.BMP",8,33,0,0,64,32
40 DWBMP "TT.BMP",16,66,0,32,96,32
50 GOTO 50</pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/DWBMP_sample_2.png" alt="DWBMP sample 2">
</div>
<div class="title">図 13. 実行結果</div>
</div>
<hr>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect3">
<h4 id="GCLS">3.11.5. GCLS</h4>
<div class="paragraph">
<p>グラフィックデバイス画面のクリア</p>
</div>
<div class="sect4">
<h5 id="_書式_86">【書式】</h5>
<div class="paragraph">
<p><strong><a href="#GCLS">GCLS</a></strong></p>
</div>
</div>
<div class="sect4">
<h5 id="_引数_86">【引数】</h5>
<div class="paragraph">
<p>なし</p>
</div>
</div>
<div class="sect4">
<h5 id="_説明_86">【説明】</h5>
<div class="paragraph">
<p>グラフィックデバイス画面(NTSC、TFT、OLED)の表示内容を消去します。<br>
TFT、OLED版でシリアルコンソールモードを利用している際に、グラフィックデバイス画面をクリアする場合に利用します。シリアルコンソール画面をクリアしたい場合は、<a href="#CLS"><strong>CLS</strong></a>コマンドを利用して下さい。</p>
</div>
<div class="paragraph">
<p>NTSC版では、シリアルコンソールモード中は、グラフィックデバイス画面の利用が出来ないため、GCLSコマンドによる画面消去は行うことが出来出来ません。実行しても何も処理を行いません。</p>
</div>
</div>
<div class="sect4">
<h5 id="_エラーメッセージ_86">【エラーメッセージ】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Overflow</dt>
<dd>
<p>指定した数値が-32768 ～ 32767を超えている</p>
</dd>
<dt class="hdlist1">Syntax error</dt>
<dd>
<p>文法エラー、書式と異なる利用を行った</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_利用例_86">【利用例】</h5>
<div class="listingblock">
<div class="title">グラフィックデバイス画面の表示内容を消去する</div>
<div class="content">
<pre>GCLS
OK</pre>
</div>
</div>
<hr>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect3">
<h4 id="GCOLOR">3.11.6. GCOLOR</h4>
<div class="paragraph">
<p>グラフィック文字描画の前景色、背景色の設定</p>
</div>
<div class="sect4">
<h5 id="_書式_87">【書式】</h5>
<div class="paragraph">
<p><strong><a href="#GCOLOR">GCOLOR</a></strong> 文字色<br>
<strong><a href="#GCOLOR">GCOLOR</a></strong> 文字色, 背景色</p>
</div>
</div>
<div class="sect4">
<h5 id="_引数_87">【引数】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">文字色</dt>
<dd>
<p>色コード　0～8、または RGBコード：$0009 ～ $FFFF</p>
</dd>
<dt class="hdlist1">背景色</dt>
<dd>
<p>色コード　0～8、または RGBコード：$0009 ～ $FFFF</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_説明_87">【説明】</h5>
<div class="paragraph">
<p>グラフィックデバイス画面の文字色、背景色を設定します。<br></p>
</div>
<div class="paragraph">
<p>この設定は、<a href="#GCLS"><strong>GCLS</strong></a>、<a href="#KANJI"><strong>KANJI</strong></a>コマンドによる描画にて有効です。<br>
<a href="#GPRINT"><strong>GPRINT</strong></a>コマンドでは文字色の設定が有効です。<br>
<a href="#BITMAP"><strong>BITMAP</strong></a>コマンドでは、単色表示時の背景色の設定が有効です。</p>
</div>
<div class="paragraph">
<p>OLED画面では、単色(0 または 1)のみ設定可能です。<br>
NTSC画面に対しては、設定は無効となります。</p>
</div>
<div class="paragraph">
<p>TFT(ILI9341)ディスプレイでは、色コードの他に、16ビット色が利用可能です。</p>
</div>
<table class="tableblock frame-all grid-all fit-content">
<caption class="title">表 8. 色コード</caption>
<colgroup>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">色コード</th>
<th class="tableblock halign-center valign-top">色</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>0</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">黒</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>1</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">赤</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>2</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">緑</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>3</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">茶</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>4</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">青</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>5</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">マゼンタ</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>6</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">シアン</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>7</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">白(デフォルト)</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>8</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">黄</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>16ビット色(RGBコード)は次の構成となります。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/RGB_format.png" alt="RGBフォーマット">
</div>
</div>
<div class="paragraph">
<p>16ビット色(RGBコード)は、<strong><a href="#RGB">RGB</a></strong> 関数を使うここで簡単に得られます。</p>
</div>
</div>
<div class="sect4">
<h5 id="_エラーメッセージ_87">【エラーメッセージ】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Syntax error</dt>
<dd>
<p>文法エラー、書式と異なる利用を行った</p>
</dd>
<dt class="hdlist1">Illegal value</dt>
<dd>
<p>色コードに範囲外の値を指定した</p>
</dd>
<dt class="hdlist1">Overflow</dt>
<dd>
<p>指定した数値が-32768 ～ 32767を超えている</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_利用例_87">【利用例】</h5>
<div class="listingblock">
<div class="title">TFT画面でランダムな色で"＊"を表示する</div>
<div class="content">
<pre>10 GCOLOR 7,4:GCLS
20 FOR X=0 TO GW-1 STEP 6
30 FOR Y=0 TO GH-1 STEP 8
40 GCOLOR RGB(RND(31),RND(63),RND(31))
50 GPRINT X,Y,"*"
60 NEXT Y
70 ?
80 NEXT X
90 GOTO 80</pre>
</div>
</div>
<hr>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect3">
<h4 id="GINP">3.11.7. GINP</h4>
<div class="paragraph">
<p>指定領域内ピクセル検出（数値関数）</p>
</div>
<div class="sect4">
<h5 id="_書式_88">【書式】</h5>
<div class="paragraph">
<p><strong><a href="#GINP">GINP</a></strong> (横位置,縦位置,高さ,幅,色)</p>
</div>
</div>
<div class="sect4">
<h5 id="_引数_88">【引数】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">横位置</dt>
<dd>
<p>0～GW - 1</p>
</dd>
<dt class="hdlist1">縦位置</dt>
<dd>
<p>0～GH - 1</p>
</dd>
<dt class="hdlist1">幅</dt>
<dd>
<p>1 ～ GW-1</p>
</dd>
<dt class="hdlist1">高さ</dt>
<dd>
<p>1 ～ GH-1</p>
</dd>
<dt class="hdlist1">色</dt>
<dd>
<p>0 黒 、1 白 (NTSC、OLED画面利用時)<br>
0 ～ 8 または RGBコード $0009～$FFFF（TFT画面利用時）</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>GW、GHはグラフィック画面の横ドット数、縦ドット数を示す定数です。<br>
　画面解像度より異なります。</p>
</div>
</div>
<div class="sect4">
<h5 id="_戻り値_25">【戻り値】</h5>
<div class="paragraph">
<p>1 ：指定領域内（境界含む）に指定した色のピクセルが存在する<br>
0 ：指定領域内（境界含む）に指定した色のピクセルが存在しない<br></p>
</div>
</div>
<div class="sect4">
<h5 id="_説明_88">【説明】</h5>
<div class="paragraph">
<p>指定した領域内の指定した色のピクセルが存在するをチェックし、その結果を返します。</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/GINP_area.png" alt="GINP area">
</div>
</div>
<div class="paragraph">
<p>NTSC版、OLED版では、2色(0 黒 、1 白)の指定可能です。<br></p>
</div>
<div class="paragraph">
<p>TFT(ILI9341)ディスプレイでは色コード 0～8 または、<br>
RGBコードとして $0009 ～ $FFFFの色指定が可能です。<br>
色コード 0～8は次の色に割り当てています。<br></p>
</div>
<table class="tableblock frame-all grid-all fit-content">
<caption class="title">表 9. 色コード</caption>
<colgroup>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">色コード</th>
<th class="tableblock halign-center valign-top">色</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>0</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">黒</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>1</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">赤</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>2</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">緑</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>3</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">茶</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>4</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">青</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>5</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">マゼンタ</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>6</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">シアン</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>7</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">白(デフォルト)</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>8</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">黄</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>RGBコードの指定は、<strong><a href="#RGB">RGB</a></strong> 関数を使うことで直感的な色を指定することが出来ます。<br></p>
</div>
</div>
<div class="sect4">
<h5 id="_エラーメッセージ_88">【エラーメッセージ】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Syntax error</dt>
<dd>
<p>文法エラー、書式と異なる利用を行った</p>
</dd>
<dt class="hdlist1">Overflow</dt>
<dd>
<p>指定した数値が-32768 ～ 32767を超えている</p>
</dd>
<dt class="hdlist1">'(' or ')' expected</dt>
<dd>
<p>’(‘ または ‘)’が無い</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_利用例_88">【利用例】</h5>
<div class="listingblock">
<div class="title">画面上に表示しているドットに有無を2進数で表示する</div>
<div class="content">
<pre>10 B=0
10 FOR I=0 TO 7
20 B=(B&lt;&lt;1)+GPEEK(I,0)
30 NEXT I
40 PRINT BIN$(B,8)
50 END</pre>
</div>
</div>
<hr>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect3">
<h4 id="GPEEK">3.11.8. GPEEK</h4>
<div class="paragraph">
<p>画面上の指定位置ピクセルの参照(数値関数)</p>
</div>
<div class="sect4">
<h5 id="_書式_89">【書式】</h5>
<div class="paragraph">
<p><strong><a href="#GPEEK">GPEEK</a></strong> (横位置 , 縦位置)</p>
</div>
</div>
<div class="sect4">
<h5 id="_引数_89">【引数】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">横位置</dt>
<dd>
<p>0～GW - 1</p>
</dd>
<dt class="hdlist1">縦位置</dt>
<dd>
<p>0～GH - 1</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>GW、GHはグラフィック画面の横ドット数、縦ドット数を示す定数です。<br>
　画面解像度により異なります。</p>
</div>
</div>
<div class="sect4">
<h5 id="_戻り値_26">【戻り値】</h5>
<div class="paragraph">
<p>指定位置に表示されているピクセルの色: 0 または 1</p>
</div>
</div>
<div class="sect4">
<h5 id="_説明_89">【説明】</h5>
<div class="paragraph">
<p>画面上の指定位置に表示されているピクセルを参照します。<br>
引数の指定位置が範囲外の場合は0を返します。<br></p>
</div>
</div>
<div class="sect4">
<h5 id="_エラーメッセージ_89">【エラーメッセージ】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Syntax error</dt>
<dd>
<p>文法エラー、書式と異なる利用を行った</p>
</dd>
<dt class="hdlist1">Overflow</dt>
<dd>
<p>指定した数値が-32768 ～ 32767を超えている</p>
</dd>
<dt class="hdlist1">'(' or ')' expected</dt>
<dd>
<p>’(‘ または ‘)’が無い</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_利用例_89">【利用例】</h5>
<div class="listingblock">
<div class="title">画面左上に表示しているドットに有無を2進数で表示する</div>
<div class="content">
<pre>10 B=0
10 FOR I=0 TO 7
20 B=(B&lt;&lt;1)+GPEEK(I,0)
30 NEXT I
40 PRINT BIN$(B,8)
50 END</pre>
</div>
</div>
<hr>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect3">
<h4 id="GPRINT">3.11.9. GPRINT</h4>
<div class="paragraph">
<p>文字列の描画</p>
</div>
<div class="sect4">
<h5 id="_書式_90">【書式】</h5>
<div class="paragraph">
<p><strong><a href="#GPRINT">GPRINT</a></strong> 横座標, 縦座標<br>
<strong><a href="#GPRINT">GPRINT</a></strong> 横座標, 縦座標, 文字列 | 数値<br>
<strong><a href="#GPRINT">GPRINT</a></strong> 横座標, 縦座標, 文字列 | 数値 <code>;</code><br>
<strong><a href="#GPRINT">GPRINT</a></strong> 横座標, 縦座標, 文字列 | 数値 <code>;</code> 文字列 | 数値 <code>;</code> …<br>
<strong><a href="#GPRINT">GPRINT</a></strong> 横座標, 縦座標, 文字列 | 数値 <code>;</code> 文字列 | 数値 <code>;</code> … <code>;</code><br>
<strong><a href="#GPRINT">GPRINT</a></strong> 横座標, 縦座標, <code>#</code> 桁数 , 文字列 | 数値;文字列 | 数値 <code>;</code> … <code>;</code></p>
</div>
<div class="paragraph">
<p>| はいずれのうち１つを示す<br>
… は可変指定を示す<br>
<code>;</code> は連結指定、カンマ’,’も可能</p>
</div>
</div>
<div class="sect4">
<h5 id="_引数_90">【引数】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">横座標</dt>
<dd>
<p>横描画位置 0 ～ GW-1(通常は223)</p>
</dd>
<dt class="hdlist1">縦座標</dt>
<dd>
<p>縦描画位置 0 ～ GH-1(通常は215)</p>
</dd>
<dt class="hdlist1">文字列</dt>
<dd>
<p>文字列定数または文字列関数</p>
</dd>
<dt class="hdlist1">数値</dt>
<dd>
<p>数値定数、変数、配列変数、または数値関数、式</p>
</dd>
<dt class="hdlist1">連結指定</dt>
<dd>
<p>セミコロン’;’ または カンマ‘,’<br>
　             文末に付けると改行抑制される</p>
</dd>
<dt class="hdlist1">桁数</dt>
<dd>
<p>#数値 または #-数値 の形式で指定する<br>
　例:#3 、 #-3</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_説明_90">【説明】</h5>
<div class="paragraph">
<p>指定したグラフィック座標にグラフィックとして文字列を描画します。<br>
横座標、縦座標以降の記述及び出力結果は <strong><a href="#PRINT">PRINT</a></strong> 文と同等です。<br>
出力する文字列の表記方法については、<strong><a href="#PRINT">PRINT</a></strong> コマンドの説明を参照下さい。<br></p>
</div>
</div>
<div class="sect4">
<h5 id="_エラーメッセージ_90">【エラーメッセージ】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Syntax error</dt>
<dd>
<p>文法エラー、書式と異なる利用を行った、引数に数値以外を指定した</p>
</dd>
<dt class="hdlist1">Overflow</dt>
<dd>
<p>指定した数値が-32768 ～ 32767を超えている</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_利用例_90">【利用例】</h5>
<div class="listingblock">
<div class="title">時刻を表示する</div>
<div class="content">
<pre>10 GETTIME A,B,C
20 GPRINT 0,0,#-2,A;":";B;":";C
30 WAIT 1000
40 GOTO 10</pre>
</div>
</div>
<div class="listingblock">
<div class="title">実行結果</div>
<div class="content">
<pre>10:52:00</pre>
</div>
</div>
<hr>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect3">
<h4 id="GSCROLLL">3.11.10. GSCROLL</h4>
<div class="paragraph">
<p>グラフィックスクロール</p>
</div>
<div class="sect4">
<h5 id="_書式_91">【書式】</h5>
<div class="paragraph">
<p><strong><a href="#GSCROLLL">GSCROLL</a></strong> x1, y1, x2, y2,方向</p>
</div>
</div>
<div class="sect4">
<h5 id="_引数_91">【引数】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">x1</dt>
<dd>
<p>左上横座標0 ～ GW-1（最大値は環境により可変）</p>
</dd>
<dt class="hdlist1">y1</dt>
<dd>
<p>左上縦座標0 ～ GH-1（最大値は環境により可変）</p>
</dd>
<dt class="hdlist1">x2</dt>
<dd>
<p>右下横座標0 ～ GW-1（最大値は環境により可変）</p>
</dd>
<dt class="hdlist1">y2</dt>
<dd>
<p>右下縦座標0 ～ GH-1（最大値は環境により可変）</p>
</dd>
<dt class="hdlist1">方向</dt>
<dd>
<p><a href="#DIRECTION">UP</a>(0): 上、 <a href="#DIRECTION">DOWN</a>(1): 下、 <a href="#DIRECTION">RIGHT</a>(2): 右、 <a href="#DIRECTION">LEFT</a>(3): 左<br>
方向は定数またはカッコ内の数値の指定が可能</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>GW、GHはグラフィック画面の横ドット数、縦ドット数を示す定数です。<br>
この定数は、画面解像度により変わります。</p>
</div>
</div>
<div class="sect4">
<h5 id="_説明_91">【説明】</h5>
<div class="paragraph">
<p>画面上の指定範囲表示内容を1ドット単位でスクロールします。<br></p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">注意</div>
</td>
<td class="content">
本コマンドは、シリアルコンソール画面、<br>
TFTディスプレイでは利用出来ません。
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>NTSC版での使用時には次の制約があります。OLEDディスプレイでは制約はありません。<br>
右上横方向x1は <strong>8の倍数で指定</strong> して下さい（バイト境界指定）。<br>
左下横座標x2は <strong>8の倍数－1</strong> で指定指定して下さい（バイト境界指定）。<br>
上記以外の数値を指定した場合、指定数値をバイト境界に補正します。<br></p>
</div>
<div class="paragraph">
<p>画面全体を左スクロールしたい場合は、<br></p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/GSCROLL_area.png" alt="GSCROLL area">
</div>
</div>
<div class="listingblock">
<div class="title">例</div>
<div class="content">
<pre>GSCROLL 0, 0,GW-1,GH-1 , LEFT</pre>
</div>
</div>
<div class="paragraph">
<p>のように、画面全体の領域を指定します。<br></p>
</div>
<div class="paragraph">
<p>指定した範囲をスクロールしたい場合は、<br></p>
</div>
<div class="listingblock">
<div class="title">例</div>
<div class="content">
<pre>GSCROLL 16,30,207,100, LEFT</pre>
</div>
</div>
<div class="paragraph">
<p>のように範囲を指定します。</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">注意</div>
</td>
<td class="content">
<strong><a href="#GSCROLLL">GSCROLL</a></strong> でスクロールした場合、<br>
見かけ上のテキストとテキスト表示管理の情報にずれが生じます。<br>
<strong><a href="#VPEEK">VPEEK</a></strong> による表示位置の文字コード取得は正しい値を返しません。
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_エラーメッセージ_91">【エラーメッセージ】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Syntax error</dt>
<dd>
<p>文法エラー、書式と異なる利用を行った</p>
</dd>
<dt class="hdlist1">Overflow</dt>
<dd>
<p>指定した数値が-32768 ～ 32767を超えている</p>
</dd>
<dt class="hdlist1">Illegal value</dt>
<dd>
<p>指定した数値が不当である</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_利用例_91">【利用例】</h5>
<div class="listingblock">
<div class="title">簡易オシロスコープ</div>
<div class="content">
<pre>10 'oscilloscope
20 CLS
30 GPIO PB1,ANALOG
40 "LOOP"
50 R=ANA(PB1)
60 Q=R/20
70 LOCATE 0,0:?R;"   "
80 PSET 223,221-Q,1
90 WAIT 50
100 GSCROLL 0,8,GW-1,GH-1,LEFT
110 GOTO "LOOP"</pre>
</div>
</div>
<hr>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect3">
<h4 id="LINE">3.11.11. LINE</h4>
<div class="paragraph">
<p>直線の描画</p>
</div>
<div class="sect4">
<h5 id="_書式_92">【書式】</h5>
<div class="paragraph">
<p><strong><a href="#LINE">LINE</a></strong> 横座標1, 縦座標1, 横座標2, 縦座標2,色</p>
</div>
</div>
<div class="sect4">
<h5 id="_引数_92">【引数】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">横座標1</dt>
<dd>
<p>0 ～ GW-1</p>
</dd>
<dt class="hdlist1">縦座標1</dt>
<dd>
<p>0 ～ GH-1</p>
</dd>
<dt class="hdlist1">横座標2</dt>
<dd>
<p>0 ～ GW-1</p>
</dd>
<dt class="hdlist1">縦座標2</dt>
<dd>
<p>0 ～ GH-1</p>
</dd>
<dt class="hdlist1">色</dt>
<dd>
<p>0 黒 、1 白 、2 反転 (NTSC、OLED画面利用時)<br>
0 ～ 8 または RGBコード $0009～$FFFF（TFT画面利用時）</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>GW、GHはグラフィック画面の横ドット数、縦ドット数を示す定数です。<br>
　この定数は、画面解像度により変わります。</p>
</div>
</div>
<div class="sect4">
<h5 id="_説明_92">【説明】</h5>
<div class="paragraph">
<p>指定したグラフィク座標 (横座標1,縦座標1)と(横座標2,縦座標2)間を結ぶ直線を指定した色で描画します。<br></p>
</div>
<div class="paragraph">
<p>NTSC版、OLED版では、2色のみ利用可能です。<br>
色に2をした場合は、座標位置の色を反転して描画します。<br></p>
</div>
<div class="paragraph">
<p>TFT(ILI9341)ディスプレイでは色コード 0～8 または、<br>
RGBコードとして $0009 ～ $FFFFの色指定が可能です。<br>
色コード 0～8は次の色に割り当てています。<br></p>
</div>
<table class="tableblock frame-all grid-all fit-content">
<caption class="title">表 10. 色コード</caption>
<colgroup>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">色コード</th>
<th class="tableblock halign-center valign-top">色</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>0</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">黒</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>1</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">赤</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>2</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">緑</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>3</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">茶</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>4</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">青</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>5</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">マゼンタ</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>6</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">シアン</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>7</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">白(デフォルト)</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>8</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">黄</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>RGBコードの指定は、<strong><a href="#RGB">RGB</a></strong> 関数を使うことで直感的な色を指定することが出来ます。<br></p>
</div>
<div class="listingblock">
<div class="title">例:赤い線を引く</div>
<div class="content">
<pre>LINE 100,100,200,200,RGB(31,0,0)</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_エラーメッセージ_92">【エラーメッセージ】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Syntax error</dt>
<dd>
<p>文法エラー、書式と異なる利用を行った</p>
</dd>
<dt class="hdlist1">Overflow</dt>
<dd>
<p>指定した数値が-32768 ～ 32767を超えている</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_利用例_92">【利用例】</h5>
<div class="listingblock">
<div class="title">直線を描画する(NTSC画面)</div>
<div class="content">
<pre>10 CLS
20 FOR X=0 TO 223 STEP 4
30 LINE X,0,223-X,215,1
40 NEXT X
50 GOTO 50</pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/LINE_sample.png" alt="LINE sample">
</div>
<div class="title">図 14. 実行結果</div>
</div>
<hr>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect3">
<h4 id="PSET">3.11.12. PSET</h4>
<div class="paragraph">
<p>点の描画</p>
</div>
<div class="sect4">
<h5 id="_書式_93">【書式】</h5>
<div class="paragraph">
<p><strong><a href="#PSET">PSET</a></strong> 横座標, 縦座標, 色</p>
</div>
</div>
<div class="sect4">
<h5 id="_引数_93">【引数】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">横座標</dt>
<dd>
<p>0 ～ GW-1 （注意 最大値は利用環境により異なる場合があります)</p>
</dd>
<dt class="hdlist1">縦座標</dt>
<dd>
<p>0 ～ GH-1 （注意 最大値は利用環境により異なる場合があります)</p>
</dd>
<dt class="hdlist1">色</dt>
<dd>
<p>0 黒 、1 白 、2 反転 (NTSC、OLED画面利用時)<br>
0 ～ 8 または RGBコード $0009～$FFFF（TFT画面利用時）</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>GW、GHはグラフィック画面の横ドット数、縦ドット数を示す定数です。<br>
　この定数は、画面解像度に設定等により変わります。<br></p>
</div>
</div>
<div class="sect4">
<h5 id="_説明_93">【説明】</h5>
<div class="paragraph">
<p>指定したグラフィク座標に指定した色の点を描画します。<br>
本コマンドはシリアルコンソールでは利用出来ません。<br></p>
</div>
<div class="paragraph">
<p>NTSC版、OLED版では、2色のみ利用可能です。<br>
色に2をした場合は、座標位置の色を反転して描画します。<br></p>
</div>
<div class="paragraph">
<p>TFT(ILI9341)ディスプレイでは色コード 0～8 または、<br>
RGBコードとして $0009 ～ $FFFFの色指定が可能です。<br>
色コード 0～8は次の色に割り当てています。<br></p>
</div>
<table class="tableblock frame-all grid-all fit-content">
<caption class="title">表 11. 色コード</caption>
<colgroup>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">色コード</th>
<th class="tableblock halign-center valign-top">色</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>0</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">黒</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>1</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">赤</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>2</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">緑</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>3</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">茶</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>4</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">青</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>5</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">マゼンタ</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>6</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">シアン</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>7</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">白(デフォルト)</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>8</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">黄</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>RGBコードの指定は、<strong><a href="#RGB">RGB</a></strong> 関数を使うことで直感的な色を指定することが出来ます。<br></p>
</div>
<div class="listingblock">
<div class="title">例:赤い点を描画</div>
<div class="content">
<pre>PSET 100,100,RGB(31,0,0)</pre>
</div>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">注意</div>
</td>
<td class="content">
範囲外の座標を指定した場合、 範囲内の境界に描画します。 +
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_エラーメッセージ_93">【エラーメッセージ】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Syntax error</dt>
<dd>
<p>文法エラー、書式と異なる利用を行った</p>
</dd>
<dt class="hdlist1">Overflow</dt>
<dd>
<p>指定した数値が-32768 ～ 32767を超えている</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_利用例_93">【利用例】</h5>
<div class="listingblock">
<div class="title">半径100ドット内に点を描画する(NTSC画面表示)</div>
<div class="content">
<pre>10 CLS
20 FOR N=0 TO 30000
30 IF V!=99 Y=Y+V:V=V+1
40 X=RND(200)-100
50 Y=RND(200)-100
60 IF X*X+Y*Y&lt;10000 PSET X+110,Y+108,1
70 NEXT N
80 GOTO 80</pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/PSET_sample.png" alt="PSET sample">
</div>
<div class="title">図 15. 実行結果</div>
</div>
<hr>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect3">
<h4 id="RECT">3.11.13. RECT</h4>
<div class="paragraph">
<p>矩形の描画</p>
</div>
<div class="sect4">
<h5 id="_書式_94">【書式】</h5>
<div class="paragraph">
<p><strong><a href="#RECT">RECT</a></strong> x1, y1,x2, y2, 色, モード</p>
</div>
</div>
<div class="sect4">
<h5 id="_引数_94">【引数】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">x1</dt>
<dd>
<p>左上横座標0 ～ GW-1（最大値は環境により可変）</p>
</dd>
<dt class="hdlist1">y1</dt>
<dd>
<p>左上縦座標0 ～ GH-1（最大値は環境により可変）</p>
</dd>
<dt class="hdlist1">x2</dt>
<dd>
<p>右下横座標0 ～ GW-1（最大値は環境により可変）</p>
</dd>
<dt class="hdlist1">y2</dt>
<dd>
<p>右下縦座標0 ～ GH-1（最大値は環境により可変）</p>
</dd>
<dt class="hdlist1">色</dt>
<dd>
<p>0 黒 、1 白 、2 反転 (NTSC、OLED画面利用時)<br>
0 ～ 8 または RGBコード $0009～$FFFF（TFT画面利用時）</p>
</dd>
<dt class="hdlist1">モード</dt>
<dd>
<p>0 塗りつぶしなし,0以外 塗りつぶしあり</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>GW、GHはグラフィック画面の横ドット数、縦ドット数を示す定数です。<br>
　この定数は、画面解像度により変わります。</p>
</div>
</div>
<div class="sect4">
<h5 id="_説明_94">【説明】</h5>
<div class="paragraph">
<p>指定した位置に指定した色で矩形を描画します。<br></p>
</div>
<div class="paragraph">
<p>NTSC版、OLED版では、2色のみ利用可能です。<br>
色に2をした場合は、座標位置の色を反転して描画します。<br></p>
</div>
<div class="paragraph">
<p>TFT(ILI9341)ディスプレイでは色コード 0～8 または、<br>
RGBコードとして $0009 ～ $FFFFの色指定が可能です。<br>
色コード 0～8は次の色に割り当てています。<br></p>
</div>
<table class="tableblock frame-all grid-all fit-content">
<caption class="title">表 12. 色コード</caption>
<colgroup>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">色コード</th>
<th class="tableblock halign-center valign-top">色</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>0</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">黒</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>1</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">赤</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>2</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">緑</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>3</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">茶</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>4</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">青</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>5</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">マゼンタ</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>6</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">シアン</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>7</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">白(デフォルト)</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>8</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">黄</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>RGBコードの指定は、<strong><a href="#RGB">RGB</a></strong> 関数を使うことで直感的な色を指定することが出来ます。<br></p>
</div>
<div class="listingblock">
<div class="title">例:赤い四角を描く</div>
<div class="content">
<pre>RECT 100,100,200,200,RGB(31,0,0),1</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_エラーメッセージ_94">【エラーメッセージ】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Syntax error</dt>
<dd>
<p>文法エラー、書式と異なる利用を行った</p>
</dd>
<dt class="hdlist1">Overflow</dt>
<dd>
<p>指定した数値が-32768 ～ 32767を超えている</p>
</dd>
<dt class="hdlist1">Illegal value</dt>
<dd>
<p>指定した数値が不当である</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_利用例_94">【利用例】</h5>
<div class="listingblock">
<div class="title">矩形を描画する(NTSC画面)</div>
<div class="content">
<pre>10 CLS
20 RECT 50,50,70,90,1,1
30 RECT 60,60,80,80,2,0
40 RECT 80,80,110,110,1,0
50 GOTO 50</pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/RECT_sample.png" alt="RECT sample">
</div>
<div class="title">図 16. 実行結果</div>
</div>
<hr>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect3">
<h4 id="RGB">3.11.14. RGB</h4>
<div class="paragraph">
<p>3原色からRGBコード変換（数値関数）</p>
</div>
<div class="sect4">
<h5 id="_書式_95">【書式】</h5>
<div class="paragraph">
<p><strong><a href="#RGB">RGB</a></strong> (赤, 緑, 青)</p>
</div>
</div>
<div class="sect4">
<h5 id="_引数_95">【引数】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">赤</dt>
<dd>
<p>赤色のレベル 0 ～ 31 （5ビット）</p>
</dd>
<dt class="hdlist1">緑</dt>
<dd>
<p>緑色のレベル 0 ～ 31 （5ビット）</p>
</dd>
<dt class="hdlist1">青</dt>
<dd>
<p>青色のレベル 0 ～ 31 （5ビット）</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_戻り値_27">【戻り値】</h5>
<div class="paragraph">
<p>RGBコード（16ビット）</p>
</div>
</div>
<div class="sect4">
<h5 id="_説明_95">【説明】</h5>
<div class="paragraph">
<p>赤、緑、青の各色成分のレベルを合成した16ビットのRGBコードを返します。<br>
本関数はカラー表示可能なTFTディスプレイの色指定を補助する関数です。<br></p>
</div>
<div class="paragraph">
<p>TFT(ILI9341)ディスプレイでは16ビットの色指定が可能です。<br>
RGBコードは次の構成となります。<br></p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/RGB_format.png" alt="RGBフォーマット">
</div>
</div>
<div class="paragraph">
<p>TFT(ILI9341)ディスプレイではRGBコードとして $0009 ～ $FFFFの色指定が可能です。<br>
$0000～$0008は、次の色に割り当てています。<br></p>
</div>
<table class="tableblock frame-all grid-all fit-content">
<caption class="title">表 13. 色コード</caption>
<colgroup>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">色コード</th>
<th class="tableblock halign-center valign-top">色</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>0</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">黒</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>1</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">赤</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>2</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">緑</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>3</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">茶</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>4</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">青</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>5</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">マゼンタ</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>6</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">シアン</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>7</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">白(デフォルト)</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>8</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">黄</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>RGBコードは、緑のみ6ビット（0～63）です。<br>
本関数では、他の色を同じように色ビットの重みを同じ扱いにするために緑も0～31を指定範囲とし、<br>
内部にて値を2倍にしています。この場合、0～62までの値しか取れないため、<br>
緑のみ32の値の指定が可能とし、32を指定した場合、内部処理にて63を設定するものとします。<br></p>
</div>
</div>
<div class="sect4">
<h5 id="_エラーメッセージ_95">【エラーメッセージ】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Syntax error</dt>
<dd>
<p>文法エラー、書式と異なる利用を行った</p>
</dd>
<dt class="hdlist1">Overflow</dt>
<dd>
<p>指定した数値が有効範囲を超えている</p>
</dd>
<dt class="hdlist1">'(' or ')' expected</dt>
<dd>
<p>’(‘ または ‘)’が無い</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_利用例_95">【利用例】</h5>
<div class="listingblock">
<div class="title">TFTディスプレイ画面全体を、黒から白に段階的に変化させる</div>
<div class="content">
<pre>10 CLS
20 FOR C=0 TO 31
30 RECT 0,0,GW-1,GH-1,RGB(C,C,C),1
40 NEXT C</pre>
</div>
</div>
<hr>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect3">
<h4 id="SCREEN">3.11.15. SCREEN</h4>
<div class="paragraph">
<p>スクリーンモードの設定</p>
</div>
<div class="sect4">
<h5 id="_書式_96">【書式】</h5>
<div class="paragraph">
<p><strong><a href="#SCREEN">SCREEN</a></strong> モード [,画面向き]</p>
</div>
</div>
<div class="sect4">
<h5 id="_引数_96">【引数】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">モード</dt>
<dd>
<p>1 ～ 6 の整数</p>
</dd>
<dt class="hdlist1">画面向き</dt>
<dd>
<p>0 ～ 3 の整数</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_説明_96">【説明】</h5>
<div class="paragraph">
<p>デバイスコンソールのスクリーンモードの設定を行います。<br>
設定可能なモード、画面向きは利用するデバイスコンソールにより異なります。<br></p>
</div>
<div class="paragraph">
<p><strong>デバイスコンソールがNTSCビデオ出力画面の場合</strong><br></p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">モードの設定値</dt>
<dd>
<p>次の値の指定が可能です。</p>
</dd>
</dl>
</div>
<table class="tableblock frame-all grid-all fit-content">
<colgroup>
<col>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">モード(値)</th>
<th class="tableblock halign-center valign-middle">名称</th>
<th class="tableblock halign-center valign-middle">機能</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>1</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">モード１<br>
（デフォルト）</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">画面解像度 ２２４×２１６ドット<br>
テキストスクリーン ３７×２７文字</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>2</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">モード２</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">画面解像度 ２２４×１０８ドット<br>
テキストスクリーン ３７×１３文字</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>3</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">モード３</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">画面解像度 １１２×１０８ドット<br>
テキストスクリーン １８×１３文字</p></td>
</tr>
</tbody>
</table>
<div class="dlist">
<dl>
<dt class="hdlist1">画面向き</dt>
<dd>
<p>指定出来ません</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p><strong>デバイスコンソールがOLEDディスプレイの場合</strong><br></p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">モードの設定値</dt>
<dd>
<p>次の値の指定が可能です。</p>
</dd>
</dl>
</div>
<table class="tableblock frame-all grid-all fit-content">
<colgroup>
<col>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">モード(値)</th>
<th class="tableblock halign-center valign-middle">名称</th>
<th class="tableblock halign-center valign-middle">機能</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>1</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">ノーマルモード<br>
（デフォルト）</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">画面解像度 １２８×６４<br>
テキストスクリーン ２１×８文字</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>2</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">フォント倍角</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">画面解像度 １２８×６４<br>
テキストスクリーン １０×４文字</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>3</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">フォント３倍角</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">画面解像度 １２８×６４<br>
テキストスクリーン ７×２文字</p></td>
</tr>
</tbody>
</table>
<div class="dlist">
<dl>
<dt class="hdlist1">画面向き</dt>
<dd>
<p>0(デフォルト) ～ 3の指定で90度ずつ回転することが出来ます。</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p><strong>TFT(ILI9341)ディスプレイの場合</strong><br></p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">モードの設定値</dt>
<dd>
<p>次の値の指定が可能です。</p>
</dd>
</dl>
</div>
<table class="tableblock frame-all grid-all fit-content">
<colgroup>
<col>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-middle">モード(値)</th>
<th class="tableblock halign-center valign-middle">名称</th>
<th class="tableblock halign-center valign-middle">機能</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>1</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">ノーマルモード<br>
（デフォルト）</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">画面解像度       ３２０×２４０<br>
テキストスクリーン ５３×３０文字</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>2</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">フォント倍角</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">画面解像度        ３２０×２４０<br>
テキストスクリーン ２６×１５文字</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>3</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">フォント３倍角</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">画面解像度        ３２０×２４０<br>
テキストスクリーン １７×１０文字</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>4</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">フォント4倍角</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">画面解像度        ３２０×２４０<br>
テキストスクリーン １３×７文字</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>5</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">フォント5倍角</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">画面解像度        ３２０×２４０<br>
テキストスクリーン １０×６文字</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-middle"><p class="tableblock"><code>6</code></p></td>
<td class="tableblock halign-center valign-middle"><p class="tableblock">フォント6倍角</p></td>
<td class="tableblock halign-left valign-middle"><p class="tableblock">画面解像度        ３２０×２４０<br>
テキストスクリーン ８×５文字</p></td>
</tr>
</tbody>
</table>
<div class="dlist">
<dl>
<dt class="hdlist1">画面向き</dt>
<dd>
<p>0(デフォルト) ～ 3の指定で90度ずつ回転することが出来ます。</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_エラーメッセージ_96">【エラーメッセージ】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Syntax error</dt>
<dd>
<p>文法エラー、書式と異なる利用を行った、引数に数値以外を指定した</p>
</dd>
<dt class="hdlist1">Illegal value</dt>
<dd>
<p>指定した引数の値が範囲外である</p>
</dd>
<dt class="hdlist1">Overflow</dt>
<dd>
<p>指定した数値が-32767 ～ 32767を超えている</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_利用例_96">【利用例】</h5>
<div class="paragraph">
<p>スクリーンモードをモード1に設定する</p>
</div>
<div class="listingblock">
<div class="content">
<pre>SCREEN 1</pre>
</div>
</div>
<hr>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_シリアル通信_2">3.12. シリアル通信</h3>
<div class="sect3">
<h4 id="SCLOSE">3.12.1. SCLOSE</h4>
<div class="paragraph">
<p>シリアル通信クローズ</p>
</div>
<div class="sect4">
<h5 id="_書式_97">【書式】</h5>
<div class="paragraph">
<p><strong><a href="#SCLOSE">SCLOSE</a></strong> 通信速度</p>
</div>
</div>
<div class="sect4">
<h5 id="_引数_97">【引数】</h5>
<div class="paragraph">
<p>なし</p>
</div>
</div>
<div class="sect4">
<h5 id="_説明_97">【説明】</h5>
<div class="paragraph">
<p>データ通信設定したシリアルポートのシリアル通信を終了します。</p>
</div>
<div class="paragraph">
<p>GPIOシリアルポートを使ったシリアル通信は次のGPIOピンを利用することが出来ます。<br>
<strong><a href="#_ピン番号定数">PA9</a></strong> ：TX 送信<br>
<strong><a href="#_ピン番号定数">PA10</a></strong>：RX 受信</p>
</div>
<div class="paragraph">
<p>シリアルポートが既にオープン状態の場合は、シリアルポートをクローズしてからオープンします。<br>
シリアル通信の利用には次のコマンドが利用出来ます。</p>
</div>
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
<a href="#SMODE">SMODE</a>
</td>
<td class="hdlist2">
<p>GPIOシリアルポート、USBシリアルポート機能切り替え</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a href="#SOPEN">SOPEN</a>
</td>
<td class="hdlist2">
<p>シリアル通信開始</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a href="#SWRITE">SWRITE</a>
</td>
<td class="hdlist2">
<p>1バイト送信</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a href="#SREAD">SREAD</a>
</td>
<td class="hdlist2">
<p>1バイト受信</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a href="#SREADY">SREADY</a>
</td>
<td class="hdlist2">
<p>受信データ有無の確認</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a href="#SPRINT">SPRINT</a>
</td>
<td class="hdlist2">
<p>文字列出力(<strong><a href="#PRINT">PRINT</a></strong> と同等の出力)</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a href="#SCLOSE">SCLOSE</a>
</td>
<td class="hdlist2">
<p>シリアル通信クローズ</p>
</td>
</tr>
</table>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">注意</div>
</td>
<td class="content">
シリアル通信をオープンした状態で <strong><a href="#GPIO">GPIO</a></strong> コマンドにて<br>
<strong><a href="#_ピン番号定数">PA9</a></strong>、<strong><a href="#_ピン番号定数">PA10</a></strong> ピンにI/O機能の割り当てを行った場合、正しい動作を行うことが出来ません。<br>
必ず <strong><a href="#SCLOSE">SCLOSE</a></strong> コマンドにてシリアル通信をクローズしてからピンに機能を割り当て下さい。
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_エラーメッセージ_97">【エラーメッセージ】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Syntax error</dt>
<dd>
<p>文法エラー、書式と異なる利用を行った</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_利用例_97">【利用例】</h5>
<div class="listingblock">
<div class="title">シリアル通信経由でテキストメッセージを送信する</div>
<div class="content">
<pre>10 SOPEN "9600"
20 SPRINT "Hello,TinyBASIC"
30 SCLOSE</pre>
</div>
</div>
<hr>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect3">
<h4 id="SMODE">3.12.2. SMODE</h4>
<div class="paragraph">
<p>シリアルポート機能設定</p>
</div>
<div class="sect4">
<h5 id="_書式_98">【書式】</h5>
<div class="paragraph">
<p><strong><a href="#SMODE">SMODE</a></strong> 0<br>
<strong><a href="#SMODE">SMODE</a></strong> 1, "通信速度"<br>
<strong><a href="#SMODE">SMODE</a></strong> 2<br>
<strong><a href="#SMODE">SMODE</a></strong> 3, 制御コード処理指定</p>
</div>
</div>
<div class="sect4">
<h5 id="_引数_98">【引数】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">通信速度</dt>
<dd>
<p>文字列形式の数値 "110"～ "921600"</p>
</dd>
<dt class="hdlist1">制御コード処理指定</dt>
<dd>
<p>0 制御コードを処理しない、1：制御コードを処理する</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_説明_98">【説明】</h5>
<div class="paragraph">
<p>2つのシリアルポート（USBポート、GPIOシリアルポート）に関する機能設定を行います。</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong><a href="#SMODE">SMODE</a></strong> 0</p>
<div class="dlist">
<dl>
<dt class="hdlist1"></dt>
<dd>
<p>２つのシリアルポートに次の機能を割り付けます（デフォルト設定）</p>
</dd>
<dt class="hdlist1"></dt>
<dd>
<div class="dlist">
<dl>
<dt class="hdlist1">USBポート</dt>
<dd>
<p>ターミナル対話利用(入力、プログラム転送、デバッグ)</p>
</dd>
<dt class="hdlist1">GPIOシリアルポート（PA9、PA10）</dt>
<dd>
<p>データ通信用（<strong><a href="#SREAD">SREAD</a></strong>、<strong><a href="#SWRITE">SWRITE</a></strong> 等のコマンド利用用）</p>
</dd>
</dl>
</div>
</dd>
</dl>
</div>
</li>
<li>
<p><strong><a href="#SMODE">SMODE</a></strong> 1, "通信速度"</p>
<div class="dlist">
<dl>
<dt class="hdlist1"></dt>
<dd>
<p>２つのシリアルポートに次の機能を割り付けます（デフォルト設定）<br></p>
<div class="dlist">
<dl>
<dt class="hdlist1">USBポート</dt>
<dd>
<p>データ通信用（<strong><a href="#SREAD">SREAD</a></strong>、<strong><a href="#SWRITE">SWRITE</a></strong> 等のコマンド利用用）</p>
</dd>
<dt class="hdlist1">GPIOシリアルポート（PA9、PA10）</dt>
<dd>
<p>ターミナル対話利用(入力、プログラム転送、デバッグ)</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1"></dt>
<dd>
<p>第2引数にはGPIOシリアルポート（PA9、PA10）の通信速度を数字文字列にて指定します。<br>
 本コマンドにより、GPIOシリアルポートは指定した通信速度にてオープンされます。</p>
</dd>
</dl>
</div>
</li>
<li>
<p><strong><a href="#SMODE">SMODE</a></strong> 2</p>
<div class="dlist">
<dl>
<dt class="hdlist1"></dt>
<dd>
<p>シリアル通信禁止<br>
ターミナル対話利用のコンソールでの入出力、データ通信用の入出力は利用出来ません。<br>
出力を行った場合は破棄されます。</p>
</dd>
</dl>
</div>
</li>
<li>
<p><strong><a href="#SMODE">SMODE</a></strong> 3, 制御コード処理指定</p>
<div class="dlist">
<dl>
<dt class="hdlist1"></dt>
<dd>
<p>シリアルターミナルの制御コードの処理の有無指定します。<br>
制御コード処理指定 が 0の場合、制御コードを処理を行いません。<br>
制御コード処理指定が1の場合は処理を行います。</p>
</dd>
</dl>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>GPIOシリアルポートを使ったシリアル通信は次のGPIOピンを利用することが出来ます。<br>
<strong><a href="#_ピン番号定数">PA9</a></strong> ：TX 送信<br>
<strong><a href="#_ピン番号定数">PA10</a></strong>：RX 受信</p>
</div>
<div class="paragraph">
<p>シリアルポートが既にオープン状態の場合は、シリアルポートをクローズしてからオープンします。<br>
シリアル通信の利用には次のコマンドが利用出来ます。</p>
</div>
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
<a href="#SMODE">SMODE</a>
</td>
<td class="hdlist2">
<p>GPIOシリアルポート、USBシリアルポート機能切り替え</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a href="#SOPEN">SOPEN</a>
</td>
<td class="hdlist2">
<p>シリアル通信開始</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a href="#SWRITE">SWRITE</a>
</td>
<td class="hdlist2">
<p>1バイト送信</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a href="#SREAD">SREAD</a>
</td>
<td class="hdlist2">
<p>1バイト受信</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a href="#SREADY">SREADY</a>
</td>
<td class="hdlist2">
<p>受信データ有無の確認</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a href="#SPRINT">SPRINT</a>
</td>
<td class="hdlist2">
<p>文字列出力(<strong><a href="#PRINT">PRINT</a></strong> と同等の出力)</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a href="#SCLOSE">SCLOSE</a>
</td>
<td class="hdlist2">
<p>シリアル通信クローズ</p>
</td>
</tr>
</table>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">注意</div>
</td>
<td class="content">
シリアル通信をオープンした状態で <strong><a href="#GPIO">GPIO</a></strong> コマンドにて<br>
<strong><a href="#_ピン番号定数">PA9</a></strong>、<strong><a href="#_ピン番号定数">PA10</a></strong> ピンにI/O機能の割り当てを行った場合、正しい動作を行うことが出来ません。<br>
必ず <strong><a href="#SCLOSE">SCLOSE</a></strong> コマンドにてシリアル通信をクローズしてからピンに機能を割り当て下さい。
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_エラーメッセージ_98">【エラーメッセージ】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Syntax error</dt>
<dd>
<p>文法エラー、書式と異なる利用を行った</p>
</dd>
<dt class="hdlist1">Illegal value</dt>
<dd>
<p>指定した引数に範囲外の値を指定した</p>
</dd>
<dt class="hdlist1">Overflow</dt>
<dd>
<p>指定した数値が-32768 ～ 32767を超えている</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_利用例_98">【利用例】</h5>
<div class="listingblock">
<div class="title">GPIOシリアルポート（PA9、PA10）を115,200bpsでオープンする</div>
<div class="content">
<pre>SMODE 1,"115200"
 OK</pre>
</div>
</div>
<hr>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect3">
<h4 id="SOPEN">3.12.3. SOPEN</h4>
<div class="paragraph">
<p>シリアル通信オープン</p>
</div>
<div class="sect4">
<h5 id="_書式_99">【書式】</h5>
<div class="paragraph">
<p><strong><a href="#SOPEN">SOPEN</a></strong> 通信速度</p>
</div>
</div>
<div class="sect4">
<h5 id="_引数_99">【引数】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">通信速度</dt>
<dd>
<p>文字列形式の数値 "110"～ "921600"<br>
例："115200"</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_説明_99">【説明】</h5>
<div class="paragraph">
<p>データ通信設定したGPIOシリアルポート（PA9、PA10）のシリアル通信の利用を開始します。<br>
通信速度は文字列形式の数値で指定します。</p>
</div>
<div class="paragraph">
<p>GPIOシリアルポートを使ったシリアル通信は次のGPIOピンを利用することが出来ます。<br>
<strong><a href="#_ピン番号定数">PA9</a></strong> ：TX 送信<br>
<strong><a href="#_ピン番号定数">PA10</a></strong>：RX 受信</p>
</div>
<div class="paragraph">
<p>シリアルポートが既にオープン状態の場合は、シリアルポートをクローズしてからオープンします。<br>
シリアル通信の利用には次のコマンドが利用出来ます。</p>
</div>
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
<a href="#SMODE">SMODE</a>
</td>
<td class="hdlist2">
<p>GPIOシリアルポート、USBシリアルポート機能切り替え</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a href="#SOPEN">SOPEN</a>
</td>
<td class="hdlist2">
<p>シリアル通信開始</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a href="#SWRITE">SWRITE</a>
</td>
<td class="hdlist2">
<p>1バイト送信</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a href="#SREAD">SREAD</a>
</td>
<td class="hdlist2">
<p>1バイト受信</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a href="#SREADY">SREADY</a>
</td>
<td class="hdlist2">
<p>受信データ有無の確認</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a href="#SPRINT">SPRINT</a>
</td>
<td class="hdlist2">
<p>文字列出力(<strong><a href="#PRINT">PRINT</a></strong> と同等の出力)</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a href="#SCLOSE">SCLOSE</a>
</td>
<td class="hdlist2">
<p>シリアル通信クローズ</p>
</td>
</tr>
</table>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">注意</div>
</td>
<td class="content">
シリアル通信をオープンした状態で <strong><a href="#GPIO">GPIO</a></strong> コマンドにて<br>
<strong><a href="#_ピン番号定数">PA9</a></strong>、<strong><a href="#_ピン番号定数">PA10</a></strong> ピンにI/O機能の割り当てを行った場合、正しい動作を行うことが出来ません。<br>
必ず <strong><a href="#SCLOSE">SCLOSE</a></strong> コマンドにてシリアル通信をクローズしてからピンに機能を割り当て下さい。
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_エラーメッセージ_99">【エラーメッセージ】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Syntax error</dt>
<dd>
<p>文法エラー、書式と異なる利用を行った</p>
</dd>
<dt class="hdlist1">Illegal value</dt>
<dd>
<p>指定した引数に範囲外の値を指定した</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_利用例_99">【利用例】</h5>
<div class="listingblock">
<div class="title">シリアル通信経由でテキストメッセージを送信する</div>
<div class="content">
<pre>10 SMODE 0
20 SOPEN "9600"
30 SPRINT "Hello,TinyBASIC"
40 SCLOSE</pre>
</div>
</div>
<hr>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect3">
<h4 id="SPRINT">3.12.4. SPRINT</h4>
<div class="paragraph">
<p>シリアル通信文字列出力</p>
</div>
<div class="sect4">
<h5 id="_書式_100">【書式】</h5>
<div class="paragraph">
<p><strong><a href="#SPRINT">SPRINT</a></strong><br>
<strong><a href="#SPRINT">SPRINT</a></strong> 文字列 | 数値<br>
<strong><a href="#SPRINT">SPRINT</a></strong> 文字列 | 数値 <code>;</code><br>
<strong><a href="#SPRINT">SPRINT</a></strong> 文字列 | 数値 <code>;</code> 文字列 | 数値 <code>;</code>…<br>
<strong><a href="#SPRINT">SPRINT</a></strong> 文字列 | 数値 <code>;</code> 文字列 | 数値 <code>;</code>… <code>;</code><br>
<strong><a href="#SPRINT">SPRINT</a></strong> <code>#</code> 桁数 <code>,</code> 文字列 | 数値 <code>;</code> 文字列 | 数値 <code>;</code>… <code>;</code></p>
</div>
<div class="paragraph">
<p>| はいずれのうち１つを示す<br>
… は可変指定を示す<br>
’<code>;</code>’ は連結指定、カンマ ’<code>,</code>’ も可能</p>
</div>
</div>
<div class="sect4">
<h5 id="_引数_100">【引数】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">文字列</dt>
<dd>
<p>文字列定数または文字列関数</p>
</dd>
<dt class="hdlist1">数値</dt>
<dd>
<p>数値定数、変数、配列変数、または数値関数、式</p>
</dd>
<dt class="hdlist1">連結指定</dt>
<dd>
<p>セミコロン ’<code>;</code>’ または カンマ ’<code>,</code>’<br>
　             文末に付けると改行抑制される</p>
</dd>
<dt class="hdlist1">桁数</dt>
<dd>
<p>’<code>#</code>’ 数値 または ’<code>#</code>’ -数値 の形式で指定する<br>
　例: <code>#3</code> 、 <code>#-3</code></p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_説明_100">【説明】</h5>
<div class="paragraph">
<p>指定した文字列、数値をデータ通信設定したシリアルポートに出力します。<br>
書式は <strong><a href="#PRINT">PRINT</a></strong> 文と同じです。</p>
</div>
<div class="paragraph">
<p>表示要素である文字列、数値は区切り文字のセミコロン’<code>;</code>’、またはカンマ’<code>,</code>’にて連結して表示することが出来ます。<br>
連結表示において、数値は桁指定により指定した桁幅にて等間隔で表示します。<br>
桁指定においてマイナスの数値を指定した場合は、間隔を0で補完します。<br>
正の数値の場合は空白文字で補完します。<br>
<strong><a href="#SPRINT">SPRINT</a></strong> 文の引数の最後に’<code>;</code>’または’<code>,</code>’が付加されている場合は改行しません。<br>
付加されていない場合は引数の内容を表示後、改行します。</p>
</div>
<div class="paragraph">
<p>GPIOシリアルポートを使ったシリアル通信は次のGPIOピンを利用することが出来ます。<br>
<strong><a href="#_ピン番号定数">PA9</a></strong> ：TX 送信<br>
<strong><a href="#_ピン番号定数">PA10</a></strong>：RX 受信</p>
</div>
<div class="paragraph">
<p>シリアルポートが既にオープン状態の場合は、シリアルポートをクローズしてからオープンします。<br>
シリアル通信の利用には次のコマンドが利用出来ます。</p>
</div>
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
<a href="#SMODE">SMODE</a>
</td>
<td class="hdlist2">
<p>GPIOシリアルポート、USBシリアルポート機能切り替え</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a href="#SOPEN">SOPEN</a>
</td>
<td class="hdlist2">
<p>シリアル通信開始</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a href="#SWRITE">SWRITE</a>
</td>
<td class="hdlist2">
<p>1バイト送信</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a href="#SREAD">SREAD</a>
</td>
<td class="hdlist2">
<p>1バイト受信</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a href="#SREADY">SREADY</a>
</td>
<td class="hdlist2">
<p>受信データ有無の確認</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a href="#SPRINT">SPRINT</a>
</td>
<td class="hdlist2">
<p>文字列出力(<strong><a href="#PRINT">PRINT</a></strong> と同等の出力)</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a href="#SCLOSE">SCLOSE</a>
</td>
<td class="hdlist2">
<p>シリアル通信クローズ</p>
</td>
</tr>
</table>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">注意</div>
</td>
<td class="content">
シリアル通信をオープンした状態で <strong><a href="#GPIO">GPIO</a></strong> コマンドにて<br>
<strong><a href="#_ピン番号定数">PA9</a></strong>、<strong><a href="#_ピン番号定数">PA10</a></strong> ピンにI/O機能の割り当てを行った場合、正しい動作を行うことが出来ません。<br>
必ず <strong><a href="#SCLOSE">SCLOSE</a></strong> コマンドにてシリアル通信をクローズしてからピンに機能を割り当て下さい。
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_エラーメッセージ_100">【エラーメッセージ】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Syntax error</dt>
<dd>
<p>文法エラー、書式と異なる利用を行った</p>
</dd>
<dt class="hdlist1">Overflow</dt>
<dd>
<p>指定した数値が-32768 ～ 32767を超えている</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_利用例_100">【利用例】</h5>
<div class="listingblock">
<div class="title">シリアル通信経由でテキストメッセージを送信する</div>
<div class="content">
<pre>10 SOPEN "9600"
20 SPRINT "Hello,TinyBASIC"
30 SCLOSE</pre>
</div>
</div>
<hr>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect3">
<h4 id="SREAD">3.12.5. SREAD</h4>
<div class="paragraph">
<p>シリアル通信1バイト受信（数値関数）</p>
</div>
<div class="sect4">
<h5 id="_書式_101">【書式】</h5>
<div class="paragraph">
<p><strong><a href="#SREAD">SREAD</a></strong> ()</p>
</div>
</div>
<div class="sect4">
<h5 id="_引数_101">【引数】</h5>
<div class="paragraph">
<p>なし</p>
</div>
</div>
<div class="sect4">
<h5 id="_戻り値_28">【戻り値】</h5>
<div class="paragraph">
<p>受信データ	：0 ～ 255、データなしの場合は-1</p>
</div>
</div>
<div class="sect4">
<h5 id="_説明_101">【説明】</h5>
<div class="paragraph">
<p>データ通信設定したシリアルポートから１バイトデータを受信します。<br>
データが無い場合は-1を返します。データが無い場合の受信待ちは行いません。<br></p>
</div>
<div class="paragraph">
<p>GPIOシリアルポートを使ったシリアル通信は次のGPIOピンを利用することが出来ます。<br>
<strong><a href="#_ピン番号定数">PA9</a></strong> ：TX 送信<br>
<strong><a href="#_ピン番号定数">PA10</a></strong>：RX 受信</p>
</div>
<div class="paragraph">
<p>シリアルポートが既にオープン状態の場合は、シリアルポートをクローズしてからオープンします。<br>
シリアル通信の利用には次のコマンドが利用出来ます。</p>
</div>
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
<a href="#SMODE">SMODE</a>
</td>
<td class="hdlist2">
<p>GPIOシリアルポート、USBシリアルポート機能切り替え</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a href="#SOPEN">SOPEN</a>
</td>
<td class="hdlist2">
<p>シリアル通信開始</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a href="#SWRITE">SWRITE</a>
</td>
<td class="hdlist2">
<p>1バイト送信</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a href="#SREAD">SREAD</a>
</td>
<td class="hdlist2">
<p>1バイト受信</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a href="#SREADY">SREADY</a>
</td>
<td class="hdlist2">
<p>受信データ有無の確認</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a href="#SPRINT">SPRINT</a>
</td>
<td class="hdlist2">
<p>文字列出力(<strong><a href="#PRINT">PRINT</a></strong> と同等の出力)</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a href="#SCLOSE">SCLOSE</a>
</td>
<td class="hdlist2">
<p>シリアル通信クローズ</p>
</td>
</tr>
</table>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">注意</div>
</td>
<td class="content">
シリアル通信をオープンした状態で <strong><a href="#GPIO">GPIO</a></strong> コマンドにて<br>
<strong><a href="#_ピン番号定数">PA9</a></strong>、<strong><a href="#_ピン番号定数">PA10</a></strong> ピンにI/O機能の割り当てを行った場合、正しい動作を行うことが出来ません。<br>
必ず <strong><a href="#SCLOSE">SCLOSE</a></strong> コマンドにてシリアル通信をクローズしてからピンに機能を割り当て下さい。
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_エラーメッセージ_101">【エラーメッセージ】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Syntax error</dt>
<dd>
<p>文法エラー、書式と異なる利用を行った</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_利用例_101">【利用例】</h5>
<div class="listingblock">
<div class="title">受信した文字列を画面に表示する</div>
<div class="content">
<pre>10 SOPEN "115200"
20 IF SREADY()=0 GOTO 20
30 D=SREAD()
40 IF D=ASC(".") GOTO 80
50 IF D=$0D ?
60 IF D&gt;=32 ? CHR$(D);
70 GOTO 20
80 SCLOSE
90 ? :? "Done."</pre>
</div>
</div>
<div class="paragraph">
<p>画面に受信した文字を表示します。<br>
受信したデータが `.`の場合はプログラムを終了します。<br>
表示可能な文字はそのまま表示します。<br>
受信したデータ$ODの場合は改行します。<br>
それ以外の制御文字は無視します。</p>
</div>
<hr>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect3">
<h4 id="SREADY">3.12.6. SREADY</h4>
<div class="paragraph">
<p>シリアル通信データ受信確認（数値関数）</p>
</div>
<div class="sect4">
<h5 id="_書式_102">【書式】</h5>
<div class="paragraph">
<p><strong><a href="#SREADY">SREADY</a></strong> ()</p>
</div>
</div>
<div class="sect4">
<h5 id="_引数_102">【引数】</h5>
<div class="paragraph">
<p>なし</p>
</div>
</div>
<div class="sect4">
<h5 id="_戻り値_29">【戻り値】</h5>
<div class="paragraph">
<p>0：受信データなし<br>
1：受信データあり</p>
</div>
</div>
<div class="sect4">
<h5 id="_説明_102">【説明】</h5>
<div class="paragraph">
<p>シリアルポートに受信可能なデータが着信しているかを確認します。<br>
シリアルポートから <strong><a href="#SREAD">SREAD</a></strong> 関数にてデータの受信を行う際に、事前にデータの有無を確認することが出来ます。<br></p>
</div>
<div class="paragraph">
<p>GPIOシリアルポートを使ったシリアル通信は次のGPIOピンを利用することが出来ます。<br>
<strong><a href="#_ピン番号定数">PA9</a></strong> ：TX 送信<br>
<strong><a href="#_ピン番号定数">PA10</a></strong>：RX 受信</p>
</div>
<div class="paragraph">
<p>シリアルポートが既にオープン状態の場合は、シリアルポートをクローズしてからオープンします。<br>
シリアル通信の利用には次のコマンドが利用出来ます。</p>
</div>
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
<a href="#SMODE">SMODE</a>
</td>
<td class="hdlist2">
<p>GPIOシリアルポート、USBシリアルポート機能切り替え</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a href="#SOPEN">SOPEN</a>
</td>
<td class="hdlist2">
<p>シリアル通信開始</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a href="#SWRITE">SWRITE</a>
</td>
<td class="hdlist2">
<p>1バイト送信</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a href="#SREAD">SREAD</a>
</td>
<td class="hdlist2">
<p>1バイト受信</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a href="#SREADY">SREADY</a>
</td>
<td class="hdlist2">
<p>受信データ有無の確認</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a href="#SPRINT">SPRINT</a>
</td>
<td class="hdlist2">
<p>文字列出力(<strong><a href="#PRINT">PRINT</a></strong> と同等の出力)</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a href="#SCLOSE">SCLOSE</a>
</td>
<td class="hdlist2">
<p>シリアル通信クローズ</p>
</td>
</tr>
</table>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">注意</div>
</td>
<td class="content">
シリアル通信をオープンした状態で <strong><a href="#GPIO">GPIO</a></strong> コマンドにて<br>
<strong><a href="#_ピン番号定数">PA9</a></strong>、<strong><a href="#_ピン番号定数">PA10</a></strong> ピンにI/O機能の割り当てを行った場合、正しい動作を行うことが出来ません。<br>
必ず <strong><a href="#SCLOSE">SCLOSE</a></strong> コマンドにてシリアル通信をクローズしてからピンに機能を割り当て下さい。
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_エラーメッセージ_102">【エラーメッセージ】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Syntax error</dt>
<dd>
<p>文法エラー、書式と異なる利用を行った</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_利用例_102">【利用例】</h5>
<div class="listingblock">
<div class="title">受信した文字列を画面に表示する</div>
<div class="content">
<pre>10 SOPEN "115200"
20 IF SREADY()=0 GOTO 20
30 D=SREAD()
40 IF D=ASC(".") GOTO 80
50 IF D=$0D ?
60 IF D&gt;=32 ? CHR$(D);
70 GOTO 20
80 SCLOSE
90 ? :? "Done."</pre>
</div>
</div>
<div class="paragraph">
<p>画面に受信した文字を表示します。<br>
受信したデータが `.`の場合はプログラムを終了します。<br>
表示可能な文字はそのまま表示します。<br>
受信したデータ$ODの場合は改行します。<br>
それ以外の制御文字は無視します。</p>
</div>
<hr>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect3">
<h4 id="SWRITE">3.12.7. SWRITE</h4>
<div class="paragraph">
<p>シリアル通信1バイト出力</p>
</div>
<div class="sect4">
<h5 id="_書式_103">【書式】</h5>
<div class="paragraph">
<p><strong><a href="#SWRITE">SWRITE</a></strong> 送信データ</p>
</div>
</div>
<div class="sect4">
<h5 id="_引数_103">【引数】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">送信データ</dt>
<dd>
<p>0～255<br>
（1バイトデータ、変数指定時は上位8ビットは無視）</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_説明_103">【説明】</h5>
<div class="paragraph">
<p>データ通信設定したシリアルポートに1バイト分のデータを出力します。<br></p>
</div>
<div class="paragraph">
<p>GPIOシリアルポートを使ったシリアル通信は次のGPIOピンを利用することが出来ます。<br>
<strong><a href="#_ピン番号定数">PA9</a></strong> ：TX 送信<br>
<strong><a href="#_ピン番号定数">PA10</a></strong>：RX 受信</p>
</div>
<div class="paragraph">
<p>シリアルポートが既にオープン状態の場合は、シリアルポートをクローズしてからオープンします。<br>
シリアル通信の利用には次のコマンドが利用出来ます。</p>
</div>
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
<a href="#SMODE">SMODE</a>
</td>
<td class="hdlist2">
<p>GPIOシリアルポート、USBシリアルポート機能切り替え</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a href="#SOPEN">SOPEN</a>
</td>
<td class="hdlist2">
<p>シリアル通信開始</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a href="#SWRITE">SWRITE</a>
</td>
<td class="hdlist2">
<p>1バイト送信</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a href="#SREAD">SREAD</a>
</td>
<td class="hdlist2">
<p>1バイト受信</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a href="#SREADY">SREADY</a>
</td>
<td class="hdlist2">
<p>受信データ有無の確認</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a href="#SPRINT">SPRINT</a>
</td>
<td class="hdlist2">
<p>文字列出力(<strong><a href="#PRINT">PRINT</a></strong> と同等の出力)</p>
</td>
</tr>
<tr>
<td class="hdlist1">
<a href="#SCLOSE">SCLOSE</a>
</td>
<td class="hdlist2">
<p>シリアル通信クローズ</p>
</td>
</tr>
</table>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">注意</div>
</td>
<td class="content">
シリアル通信をオープンした状態で <strong><a href="#GPIO">GPIO</a></strong> コマンドにて<br>
<strong><a href="#_ピン番号定数">PA9</a></strong>、<strong><a href="#_ピン番号定数">PA10</a></strong> ピンにI/O機能の割り当てを行った場合、正しい動作を行うことが出来ません。<br>
必ず <strong><a href="#SCLOSE">SCLOSE</a></strong> コマンドにてシリアル通信をクローズしてからピンに機能を割り当て下さい。
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_エラーメッセージ_103">【エラーメッセージ】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Syntax error</dt>
<dd>
<p>文法エラー、書式と異なる利用を行った</p>
</dd>
<dt class="hdlist1">Overflow</dt>
<dd>
<p>指定した数値が-32768 ～ 32767を超えている</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_利用例_103">【利用例】</h5>
<div class="listingblock">
<div class="title">シリアルポートに’A’から’Z’の文字を出力する</div>
<div class="content">
<pre>10 SOPEN "115200"
20 FOR C=ASC("A") TO ASC("Z")
30 SWRITE C
40 NEXT C
50 SCLOSE</pre>
</div>
</div>
<hr>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_仮想eeprom_2">3.13. 仮想EEPROM</h3>
<div class="sect3">
<h4 id="EEPFORMAT">3.13.1. EEPFORMAT</h4>
<div class="paragraph">
<p>仮想EEPROMのフォーマット</p>
</div>
<div class="sect4">
<h5 id="_書式_104">【書式】</h5>
<div class="paragraph">
<p><strong><a href="#EEPFORMAT">EEPFORMAT</a></strong></p>
</div>
</div>
<div class="sect4">
<h5 id="_引数_104">【引数】</h5>
<div class="paragraph">
<p>なし</p>
</div>
</div>
<div class="sect4">
<h5 id="_説明_104">【説明】</h5>
<div class="paragraph">
<p>仮想EEPROMのフォーマットして初期化を行います。<br>
仮想EEPROMとは内部フラッシュメモリの一部をソフトウェアにてEEPROMのように利用するものです。<br>
仮想EEPROMに書き込んだデータは、マイコンボードの電源を落としても保持されます。<br>
<strong><a href="#EEPFORMAT">EEPFORMAT</a></strong> コマンドは仮想的にEEPROMとして利用するためにフラッシュメモリの初期化処理を行います。<br>
既に <strong><a href="#EEPWTIRE">EEPWTIRE</a></strong> コマンドにてデータの書込みを行っている場合、そのデータを含めて初期化されます。<br></p>
</div>
<div class="paragraph">
<p>仮想EEPROMはフラッシュメモリの２ページ（1024バイト×2）を利用しています。<br>
フラッシュメモリの書込み回数の制約を考慮し、同じアドレスへの繰り返し書き込みに対して書き込み位置を分散しています。<br>
仮想EEPROMへのデータ保存は2バイト単位（変数のバイト数と同じ）です。<br>
保存可能なデータ量は250ワード(250バイト)となります。</p>
</div>
<div class="paragraph">
<p><strong><a href="#EEPWRITE">EEPWRITE</a></strong> 、<strong><a href="#EEPREAD">EEPREAD</a></strong> コマンドで指定する読書きを指定するアドレスは実際にはアドレスではなく、検索キーです。0～32767の間に任意で利用出来ます。<br>
検索キー数はデータ保存量が250ワードの制約から、250以内に抑える必要あります。仮想EEPROMの機構から数十以内に抑えることを推奨します。</p>
</div>
</div>
<div class="sect4">
<h5 id="_エラーメッセージ_104">【エラーメッセージ】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Syntax error</dt>
<dd>
<p>文法エラー、書式と異なる利用を行った</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_利用例_104">【利用例】</h5>
<div class="listingblock">
<div class="title">仮想EEPROMのフォーマットして初期化を行う</div>
<div class="content">
<pre>EEPFORMAT
OK</pre>
</div>
</div>
<hr>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect3">
<h4 id="EEPREAD">3.13.2. EEPREAD</h4>
<div class="paragraph">
<p>仮想EEPROMデータ読み込み（数値関数）</p>
</div>
<div class="sect4">
<h5 id="_書式_105">【書式】</h5>
<div class="paragraph">
<p><strong><a href="#EEPREAD">EEPREAD</a></strong> (アドレス)</p>
</div>
</div>
<div class="sect4">
<h5 id="_引数_105">【引数】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">アドレス</dt>
<dd>
<p>仮想EEPROM内アドレス 0 ～ 32767</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_戻り値_30">【戻り値】</h5>
<div class="paragraph">
<p>読みだした2バイトデータ（-32768～32767, $0000～$FFFF）</p>
</div>
</div>
<div class="sect4">
<h5 id="_説明_105">【説明】</h5>
<div class="paragraph">
<p>仮想EEPROMの指定したアドレスから2バイトデータを取得します。<br>
書き込み単位は2バイトです。仮想EEPROMに初めてデータ書き込みを行う場合は事前に <strong><a href="#EEPFORMAT">EEPFORMAT</a></strong> コマンドで初期化をしておく必要があります。<br></p>
</div>
<div class="paragraph">
<p>仮想EEPROMとは内部フラッシュメモリの一部をソフトウェアにてEEPROMのように利用するものです。仮想EEPROMに書き込んだデータは、マイコンボードの電源を落としても保持されます。<br>
仮想EEPROMはフラッシュメモリの２ページ（1024バイト×2）を利用しています。<br>
フラッシュメモリの書込み回数の制約を考慮し、同じアドレスへの繰り返し書き込みに対して書き込み位置を分散しています。<br>
保存可能なデータ量は最大で250ワード(500バイト)となります。<br>
<strong><a href="#EEPWRITE">EEPWRITE</a></strong> 、<strong><a href="#EEPREAD">EEPREAD</a></strong> コマンドで指定する読書きを指定するアドレスは実際にはアドレスではなく、検索キーです。0～32767の間に任意で利用出来ます。<br>
検索キー数はデータ保存量が250ワードの制約から、250以内に抑える必要あります。仮想EEPROMの機構から数十以内に抑えることを推奨します。</p>
</div>
<div class="paragraph">
<p><strong><a href="#EEPREAD">EEPREAD</a></strong> コマンドは、指定したアドレスを検索キーとして該当するデータを返します。該当するデータない場合は0を返します。</p>
</div>
</div>
<div class="sect4">
<h5 id="_エラーメッセージ_105">【エラーメッセージ】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Syntax error</dt>
<dd>
<p>文法エラー、書式と異なる利用を行った</p>
</dd>
<dt class="hdlist1">EEPROM bad FLASH</dt>
<dd>
<p>フラッシュメモリの異常が発生した</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_利用例_105">【利用例】</h5>
<div class="listingblock">
<div class="title">アドレス 1234 に 123 を書き込み、その値を読む</div>
<div class="content">
<pre>EEPWRITE 1234, 123
OK
?EEPREAD(1234)
123
OK</pre>
</div>
</div>
<hr>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect3">
<h4 id="EEPWRITE">3.13.3. EEPWRITE</h4>
<div class="paragraph">
<p>仮想EEPROMデータ書き込み</p>
</div>
<div class="sect4">
<h5 id="_書式_106">【書式】</h5>
<div class="paragraph">
<p><strong><a href="#EEPWRITE">EEPWRITE</a></strong> アドレス, データ</p>
</div>
</div>
<div class="sect4">
<h5 id="_引数_106">【引数】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">アドレス</dt>
<dd>
<p>仮想EEPROM内アドレス 0 ～ 32767</p>
</dd>
<dt class="hdlist1">データ</dt>
<dd>
<p>書き込みデータ   -32768 ～ 32767 または $0000 ～ $FFFF（２バイト分）</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_説明_106">【説明】</h5>
<div class="paragraph">
<p>仮想EEPROMの指定したアドレスにデータを書き込みます。<br>
書き込み単位は2バイトです。仮想EEPROMに初めてデータ書き込みを行う場合は事前に <strong><a href="#EEPFORMAT">EEPFORMAT</a></strong> コマンドで初期化をしておく必要があります。<br></p>
</div>
<div class="paragraph">
<p>仮想EEPROMとは内部フラッシュメモリの一部をソフトウェアにてEEPROMのように利用するものです。仮想EEPROMに書き込んだデータは、マイコンボードの電源を落としても保持されます。<br>
仮想EEPROMはフラッシュメモリの２ページ（1024バイト×2）を利用しています。<br>
フラッシュメモリの書込み回数の制約を考慮し、同じアドレスへの繰り返し書き込みに対して書き込み位置を分散しています。<br>
保存可能なデータ量は最大で250ワード(500バイト)となります。<br>
<strong><a href="#EEPWRITE">EEPWRITE</a></strong> 、<strong><a href="#EEPREAD">EEPREAD</a></strong> コマンドで指定する読書きを指定するアドレスは実際にはアドレスではなく、検索キーです。0～32767の間に任意で利用出来ます。<br>
検索キー数はデータ保存量が250ワードの制約から、250以内に抑える必要あります。仮想EEPROMの機構から数十以内に抑えることを推奨します。</p>
</div>
</div>
<div class="sect4">
<h5 id="_エラーメッセージ_106">【エラーメッセージ】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Syntax error</dt>
<dd>
<p>文法エラー、書式と異なる利用を行った</p>
</dd>
<dt class="hdlist1">EEPROM out size</dt>
<dd>
<p>書き込み容量を超えた</p>
</dd>
<dt class="hdlist1">EEPROM bad FLASH</dt>
<dd>
<p>フラッシュメモリの異常が発生した</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_利用例_106">【利用例】</h5>
<div class="listingblock">
<div class="title">アドレス 1234 に 123 を書き込み、その値を読む</div>
<div class="content">
<pre>EEPWRITE 1234, 123
OK
?EEPREAD(1234)
123
OK</pre>
</div>
</div>
<hr>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_漢字フォント_2">3.14. 漢字フォント</h3>
<div class="sect3">
<h4 id="KANJI">3.14.1. KANJI</h4>
<div class="paragraph">
<p>漢字文字列の描画</p>
</div>
<div class="sect4">
<h5 id="_書式_107">【書式】</h5>
<div class="paragraph">
<p><a href="#KANJI"><strong>KANJI</strong></a> 横座標, 縦座標, 文字列</p>
</div>
</div>
<div class="sect4">
<h5 id="_引数_107">【引数】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">横座標</dt>
<dd>
<p>0 ～ <a href="#GW"><strong>GW</strong></a> - 1</p>
</dd>
<dt class="hdlist1">縦座標</dt>
<dd>
<p>0 ～ <a href="#GH"><strong>GH</strong></a> - 1</p>
</dd>
<dt class="hdlist1">文字列</dt>
<dd>
<p>文字列定数、文字列参照変数、またはそれらを含む文字列式</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p><a href="#GW"><strong>GW</strong></a>、<a href="#GH"><strong>GH</strong></a>はグラフィック画面の横ドット数、縦ドット数を示す定数です。<br>
この定数は、画面解像度により変わります。</p>
</div>
</div>
<div class="sect4">
<h5 id="_説明_107">【説明】</h5>
<div class="paragraph">
<p>指定した座標にSDカード漢字フォントを使った文字列描画を行います。<br>
NTSC、OLED、TFTのグラフィックデバイス画面にて描画にて利用出来ます。<br></p>
</div>
<div class="paragraph">
<p>描画するフォントの前景色、背景色は <a href="#GCOLOR"><strong>GCOLOR</strong></a>コマンドで指定します。<br>
描画するフォントサイズ、文字間隔、倍角設定は<a href="#SETKANJI"><strong>SETKANJI</strong></a>コマンドで行います。</p>
</div>
<div class="paragraph">
<p>半角カタカナフォントは未サポートのため、代わりに対応する全角カタカナのデータ(全角)で描画します。</p>
</div>
<div class="paragraph">
<p>文字列には、<a href="#PRINT"><strong>PRINT</strong></a>と同等の記述が可能です(ただし、改行、改行抑制は不可)。</p>
</div>
</div>
<div class="sect4">
<h5 id="_エラーメッセージ_107">【エラーメッセージ】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Syntax error</dt>
<dd>
<p>文法エラー、書式と異なる利用を行った</p>
</dd>
<dt class="hdlist1">Overflow</dt>
<dd>
<p>指定した数値が-32768 ～ 32767を超えている</p>
</dd>
<dt class="hdlist1">Illegal value</dt>
<dd>
<p>指定した引数が有効範囲を超えている</p>
</dd>
<dt class="hdlist1">SD I/O error</dt>
<dd>
<p>SDカードの利用が出来ない</p>
</dd>
<dt class="hdlist1">File open error</dt>
<dd>
<p>漢字フォント読み込み失敗</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_利用例_107">【利用例】</h5>
<div class="listingblock">
<div class="title">"さいたま"を16ドットフォントで表示する</div>
<div class="content">
<pre>SETKANJI 16,1,2,2,GW-1
KANJI 0,0,"さいたま"</pre>
</div>
</div>
<hr>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect3">
<h4 id="KFONT">3.14.2. KFONT</h4>
<div class="paragraph">
<p>漢字フォントデータの取得（数値関数）</p>
</div>
<div class="sect4">
<h5 id="_書式_108">【書式】</h5>
<div class="paragraph">
<p><a href="#KFONT"><strong>KFONT</strong></a>(アドレス, 文字コード, サイズ)</p>
</div>
</div>
<div class="sect4">
<h5 id="_引数_108">【引数】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">アドレス</dt>
<dd>
<p>取得したフォントデータを格納する仮想アドレス</p>
</dd>
<dt class="hdlist1">文字コード</dt>
<dd>
<p>1バイト半角文字コード または 2バイト シフトJISコード</p>
</dd>
<dt class="hdlist1">サイズ</dt>
<dd>
<p>取得するフォントサイズ（ドット）<br>
8、10、12、14、16、20、24 のいずれかを指定する</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_戻り値_31">【戻り値】</h5>
<div class="paragraph">
<p>取得結果を返す<br>
 0:該当フォントなし、1:全角文字、 2:半角文字</p>
</div>
</div>
<div class="sect4">
<h5 id="_説明_108">【説明】</h5>
<div class="paragraph">
<p>文字コード、フォントサイズ(8、10、12、14、16、20、24)に対応するフォントデータを取得し、指定した仮想アドレスに格納します。<br>
8～24の範囲で、8、10、12、14、16、20、24以外の値を指定した場合は、その値以下の近いフォントサイスが選択されます。</p>
</div>
<div class="paragraph">
<p>半角カタカナフォントは未サポートのため、代わりに対応する全角カタカナのデータ(全角)を取得します。</p>
</div>
<div class="paragraph">
<p>仮想アドレスの指定には次の定数を利用することで有用な領域への書込み・参照が簡単に行えます。</p>
</div>
<table class="tableblock frame-all grid-all fit-content">
<colgroup>
<col>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">定数名</th>
<th class="tableblock halign-center valign-top">仮想化ドレス名</th>
<th class="tableblock halign-center valign-top">概要</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#_メモリ領域先頭アドレス定数">VRAM</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">画面表示用メモリ(CW×CH)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">サイズは<a href="#SCREEN">SCREEN</a>モードにより可変</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#_メモリ領域先頭アドレス定数">VAR</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">変数領域</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">サイズ 420バイト</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#_メモリ領域先頭アドレス定数">ARRAY</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">配列変数領域(@(0)～@(99) )</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">サイズ 200バイト</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#_メモリ領域先頭アドレス定数">PRG</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">プログラム領域</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">サイズ 4,096バイト</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#_メモリ領域先頭アドレス定数">MEM</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ユーザーワーク領域</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">サイズ 1,024バイト</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#_メモリ領域先頭アドレス定数">FNT</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">フォント256文字(フラッシュメモリ)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">サイズ 2,048バイト</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#_メモリ領域先頭アドレス定数">GRAM</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">グラフィック表示用メモリ</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">サイズは<a href="#SCREEN">SCREEN</a>モードにより可変</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code><a href="#_メモリ領域先頭アドレス定数">PRG2</a></code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">フラッシュメモリプログラム保存領域</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">サイズ 4,096バイト<br>
<a href="#BANK">BANK</a>コマンドにより0～5のバンク切り替え</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>仮想アドレスの詳細については、「<a href="../仕様/メモリーマップ.adoc">メモリーマップ</a>」の「<a href="../仕様/メモリーマップ.adoc#_仮想アドレス">仮想アドレス</a>」を参照下さい。<br></p>
</div>
</div>
<div class="sect4">
<h5 id="_エラーメッセージ_108">【エラーメッセージ】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Syntax error</dt>
<dd>
<p>文法エラー、書式と異なる利用を行った</p>
</dd>
<dt class="hdlist1">Illegal value</dt>
<dd>
<p>指定した引数が有効範囲を超えている</p>
</dd>
<dt class="hdlist1">SD I/O error</dt>
<dd>
<p>SDカードの利用が出来ない</p>
</dd>
<dt class="hdlist1">File open error</dt>
<dd>
<p>漢字フォント読み込み失敗</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_利用例_108">【利用例】</h5>
<div class="listingblock">
<div class="title">フォントサイズ8ドットの「あ」を文字で表示する</div>
<div class="content">
<pre>10 R=KFONT(MEM,ASC("あ"),8)
20 FOR I=0 TO 7
30 FOR J=0 TO 7
40 IF PEEK(MEM+I)&amp;($80&gt;&gt;J) ?"#"; ELSE ?" ";
50 NEXT J
60 ?
70 NEXT I</pre>
</div>
</div>
<div class="listingblock">
<div class="title">実行結果</div>
<div class="content">
<pre>run
  #
 #####
  #
  ####
 ## # #
# ##  #
 ##  #

OK</pre>
</div>
</div>
<hr>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect3">
<h4 id="SETKANJI">3.14.3. SETKANJI</h4>
<div class="paragraph">
<p>漢字フォントの描画の設定</p>
</div>
<div class="sect4">
<h5 id="_書式_109">【書式】</h5>
<div class="paragraph">
<p><a href="#SETKANJI"><strong>SETKANJI</strong></a> サイズ,[倍角[,横間隔,行間[,折り返し]]]</p>
</div>
</div>
<div class="sect4">
<h5 id="_引数_109">【引数】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">サイズ</dt>
<dd>
<p>取得するフォントサイズ（ドット）<br>
8、10、12、14、16、20、24 のいずれかを指定する</p>
</dd>
<dt class="hdlist1">倍角</dt>
<dd>
<p>1 ～ 16<br>
   描画を行う拡大倍率（倍）</p>
</dd>
<dt class="hdlist1">横間隔</dt>
<dd>
<p>横に表示するフォントとフォントの間隔(ドット)</p>
</dd>
<dt class="hdlist1">行間</dt>
<dd>
<p>縦に表示するフォントとフォントの間隔(ドット)</p>
</dd>
<dt class="hdlist1">折返し</dt>
<dd>
<p>画面左側の折返し改行する横座標（ドット)<br>
1 ～ <a href="#GW"><strong>GW</strong></a> - 1</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_説明_109">【説明】</h5>
<div class="paragraph">
<p><a href="#KANJI"><strong>KANJI</strong></a>コマンドで利用する漢字フォントに対しての設定を行います。<br>
サイズにはフォントサイズ(8、10、12、14、16、20、24)、倍角には1～16、横間隔、<br>
行間は文字と文字の間に空けるドット数、折り返しには画面右側の折り返しする横座標を指定すします。</p>
</div>
<div class="paragraph">
<p>デフォルトの設定は、SETKANJI 8,1,0,0,GW-1 です。</p>
</div>
<div class="paragraph">
<p>描画するフォントの前景色、背景色は <a href="#GCOLOR"><strong>GCOLOR</strong></a>コマンドで指定します。<br>
描画するフォントサイズ、文字間隔、倍角設定は<a href="#SETKANJI"><strong>SETKANJI</strong></a>コマンドで行います。</p>
</div>
<div class="paragraph">
<p>8～24の範囲で、8、10、12、14、16、20、24以外の値を指定した場合は、その値以下の近いフォントサイスが選択されます。</p>
</div>
</div>
<div class="sect4">
<h5 id="_エラーメッセージ_109">【エラーメッセージ】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Syntax error</dt>
<dd>
<p>文法エラー、書式と異なる利用を行った</p>
</dd>
<dt class="hdlist1">Overflow</dt>
<dd>
<p>指定した数値が-32768 ～ 32767を超えている</p>
</dd>
<dt class="hdlist1">Illegal value</dt>
<dd>
<p>指定した引数が有効範囲を超えている</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_利用例_109">【利用例】</h5>
<div class="listingblock">
<div class="title">"さいたま"を16ドットフォントで表示する</div>
<div class="content">
<pre>SETKANJI 16,1,2,2,GW-1
KANJI 0,0,"さいたま"</pre>
</div>
</div>
<hr>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect3">
<h4 id="ZEN">3.14.4. ZEN</h4>
<div class="paragraph">
<p>半角文字コードを全角に変換（数値関数）</p>
</div>
<div class="sect4">
<h5 id="_書式_110">【書式】</h5>
<div class="paragraph">
<p><a href="#ZEN"><strong>ZEN</strong></a>(文字コード)</p>
</div>
</div>
<div class="sect4">
<h5 id="_引数_110">【引数】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">文字コード</dt>
<dd>
<p>1バイト半角文字コード または 2バイト シフトJISコード</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_戻り値_32">【戻り値】</h5>
<div class="paragraph">
<p>変換した文字コード<br>
変換できない場合は文字コードをそのまま返す</p>
</div>
</div>
<div class="sect4">
<h5 id="_説明_110">【説明】</h5>
<div class="paragraph">
<p>指定した <strong>文字コード</strong> が半角文字の場合、その全角文字コードを返します。<br>
変換可能な*文字コード*は、半角記号、英数字、半角カタカナです。<br>
変換できない場合は、引数の <strong>文字コード</strong> をそのまま前します。</p>
</div>
</div>
<div class="sect4">
<h5 id="_エラーメッセージ_110">【エラーメッセージ】</h5>
<div class="dlist">
<dl>
<dt class="hdlist1">Syntax error</dt>
<dd>
<p>文法エラー、書式と異なる利用を行った</p>
</dd>
<dt class="hdlist1">Illegal value</dt>
<dd>
<p>指定した引数が有効範囲を超えている</p>
</dd>
</dl>
</div>
</div>
<div class="sect4">
<h5 id="_利用例_110">【利用例】</h5>
<div class="listingblock">
<div class="title">"A"の全角シフトJISコードを16進数で表示する</div>
<div class="content">
<pre>?HEX$(ZEN(ASC("A")))
8260
OK</pre>
</div>
</div>
<hr>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
バージョン 0.87(Draft) 2018/12/13<br>
最終更新 2018-12-13 10:18:09 東京 (標準時)
</div>
</div>
</body>
</html>